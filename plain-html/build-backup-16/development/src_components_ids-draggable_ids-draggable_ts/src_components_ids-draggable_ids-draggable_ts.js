"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkids_enterprise_wc"] = self["webpackChunkids_enterprise_wc"] || []).push([["src_components_ids-draggable_ids-draggable_ts"],{

/***/ "./src/components/ids-draggable/get-el-translate-point.ts":
/*!****************************************************************!*\
  !*** ./src/components/ids-draggable/get-el-translate-point.ts ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ getElTranslatePoint)\n/* harmony export */ });\nfunction getElTranslatePoint(element) {\n  const style = window.getComputedStyle(element);\n  const matrix = style.transform;\n  if (matrix === \"none\" || !matrix) {\n    return { x: 0, y: 0, z: 0 };\n  }\n  const matrixType = matrix.includes(\"3d\") ? \"3d\" : \"2d\";\n  const matrixValues = matrix.match(/matrix.*\\((.+)\\)/)?.[1]?.split(\", \");\n  if (!matrixValues) {\n    return { x: 0, y: 0, z: 0 };\n  }\n  if (matrixType === \"2d\") {\n    return {\n      x: Number.parseFloat(matrixValues[4]),\n      y: Number.parseFloat(matrixValues[5]),\n      z: 0\n    };\n  }\n  return {\n    x: parseFloat(matrixValues[12]),\n    y: parseFloat(matrixValues[13]),\n    z: parseFloat(matrixValues[14])\n  };\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9pZHMtZHJhZ2dhYmxlL2dldC1lbC10cmFuc2xhdGUtcG9pbnQudHMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQWNlLFNBQVIsb0JBQXFDLFNBQW1CO0FBQzdELFFBQU0sUUFBUSxPQUFPLGlCQUFpQixPQUFPO0FBQzdDLFFBQU0sU0FBUyxNQUFNO0FBR3JCLE1BQUksV0FBVyxVQUFVLENBQUMsUUFBUTtBQUNoQyxXQUFPLEVBQUUsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEVBQUU7QUFBQSxFQUM1QjtBQUdBLFFBQU0sYUFBYSxPQUFPLFNBQVMsSUFBSSxJQUFJLE9BQU87QUFHbEQsUUFBTSxlQUFlLE9BQU8sTUFBTSxrQkFBa0IsSUFBSSxDQUFDLEdBQUcsTUFBTSxJQUFJO0FBRXRFLE1BQUksQ0FBQyxjQUFjO0FBQ2pCLFdBQU8sRUFBRSxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsRUFBRTtBQUFBLEVBQzVCO0FBS0EsTUFBSSxlQUFlLE1BQU07QUFDdkIsV0FBTztBQUFBLE1BQ0wsR0FBRyxPQUFPLFdBQVcsYUFBYSxDQUFDLENBQUM7QUFBQSxNQUNwQyxHQUFHLE9BQU8sV0FBVyxhQUFhLENBQUMsQ0FBQztBQUFBLE1BQ3BDLEdBQUc7QUFBQSxJQUNMO0FBQUEsRUFDRjtBQUlBLFNBQU87QUFBQSxJQUNMLEdBQUcsV0FBVyxhQUFhLEVBQUUsQ0FBQztBQUFBLElBQzlCLEdBQUcsV0FBVyxhQUFhLEVBQUUsQ0FBQztBQUFBLElBQzlCLEdBQUcsV0FBVyxhQUFhLEVBQUUsQ0FBQztBQUFBLEVBQ2hDO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pZHMtZW50ZXJwcmlzZS13Yy8uL3NyYy9jb21wb25lbnRzL2lkcy1kcmFnZ2FibGUvZ2V0LWVsLXRyYW5zbGF0ZS1wb2ludC50cz8xNDA0Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQHR5cGVkZWYgVHJhbnNsYXRpb25Qb2ludFxuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB4PyB4LW9mZnNldFxuICogQHByb3BlcnR5IHtudW1iZXJ9IHk/IHktb2Zmc2V0XG4gKiBAcHJvcGVydHkge251bWJlcn0gej8gei1vZmZzZXRcbiAqL1xuXG4vKipcbiAqIEdldHMgY29tcHV0ZWQgdHJhbnNsYXRlIHZhbHVlcyBmcm9tIHN0eWxlIHByb3A7IGFkYXB0ZWQgZnJvbTpcbiAqIGh0dHBzOi8vemVsbHdrLmNvbS9ibG9nL2Nzcy10cmFuc2xhdGUtdmFsdWVzLWluLWphdmFzY3JpcHQvXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IGVsZW1lbnQgdG8gZ3JhYiB0cmFuc2xhdGlvbiBwb2ludCBmcm9tIGl0J3Mgc3R5bGVzIHdpdGhcbiAqIEByZXR1cm5zIHtUcmFuc2xhdGlvblBvaW50fSB0cmFuc2xhdGlvbiBwb2ludCBpZiBhdmFpbGFibGVcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0RWxUcmFuc2xhdGVQb2ludChlbGVtZW50OiBhbnkpOiBhbnkge1xuICBjb25zdCBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xuICBjb25zdCBtYXRyaXggPSBzdHlsZS50cmFuc2Zvcm07XG5cbiAgLy8gTm8gdHJhbnNmb3JtIHByb3BlcnR5LiBTaW1wbHkgcmV0dXJuIDAgdmFsdWVzLlxuICBpZiAobWF0cml4ID09PSAnbm9uZScgfHwgIW1hdHJpeCkge1xuICAgIHJldHVybiB7IHg6IDAsIHk6IDAsIHo6IDAgfTtcbiAgfVxuXG4gIC8vIENhbiBlaXRoZXIgYmUgMmQgb3IgM2QgdHJhbnNmb3JtXG4gIGNvbnN0IG1hdHJpeFR5cGUgPSBtYXRyaXguaW5jbHVkZXMoJzNkJykgPyAnM2QnIDogJzJkJztcblxuICAvLyB0aGUgZm9sbG93aW5nIGNoZWNrcyBhcmUgbmVlZCBmb3Igbm9uIHN0YW5kYXJkIGVudnMgZS5nLiBKZXN0IG9yIFNTUlxuICBjb25zdCBtYXRyaXhWYWx1ZXMgPSBtYXRyaXgubWF0Y2goL21hdHJpeC4qXFwoKC4rKVxcKS8pPy5bMV0/LnNwbGl0KCcsICcpO1xuXG4gIGlmICghbWF0cml4VmFsdWVzKSB7XG4gICAgcmV0dXJuIHsgeDogMCwgeTogMCwgejogMCB9O1xuICB9XG5cbiAgLy8gMmQgbWF0cmljZXMgaGF2ZSA2IHZhbHVlc1xuICAvLyBMYXN0IDIgdmFsdWVzIGFyZSBYIGFuZCBZLlxuICAvLyAyZCBtYXRyaWNlcyBkb2VzIG5vdCBoYXZlIFogdmFsdWUuXG4gIGlmIChtYXRyaXhUeXBlID09PSAnMmQnKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IE51bWJlci5wYXJzZUZsb2F0KG1hdHJpeFZhbHVlc1s0XSksXG4gICAgICB5OiBOdW1iZXIucGFyc2VGbG9hdChtYXRyaXhWYWx1ZXNbNV0pLFxuICAgICAgejogMFxuICAgIH07XG4gIH1cblxuICAvLyAzZCBtYXRyaWNlcyBoYXZlIDE2IHZhbHVlc1xuICAvLyBUaGUgMTN0aCwgMTR0aCwgYW5kIDE1dGggdmFsdWVzIGFyZSBYLCBZLCBhbmQgWlxuICByZXR1cm4ge1xuICAgIHg6IHBhcnNlRmxvYXQobWF0cml4VmFsdWVzWzEyXSksXG4gICAgeTogcGFyc2VGbG9hdChtYXRyaXhWYWx1ZXNbMTNdKSxcbiAgICB6OiBwYXJzZUZsb2F0KG1hdHJpeFZhbHVlc1sxNF0pXG4gIH07XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/ids-draggable/get-el-translate-point.ts\n");

/***/ }),

/***/ "./src/components/ids-draggable/ids-draggable.ts":
/*!*******************************************************!*\
  !*** ./src/components/ids-draggable/ids-draggable.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ IdsDraggable)\n/* harmony export */ });\n/* harmony import */ var _core_ids_decorators__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/ids-decorators */ \"./src/core/ids-decorators.ts\");\n/* harmony import */ var _core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/ids-attributes */ \"./src/core/ids-attributes.ts\");\n/* harmony import */ var _utils_ids_string_utils_ids_string_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/ids-string-utils/ids-string-utils */ \"./src/utils/ids-string-utils/ids-string-utils.ts\");\n/* harmony import */ var _mixins_ids_events_mixin_ids_events_mixin__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../mixins/ids-events-mixin/ids-events-mixin */ \"./src/mixins/ids-events-mixin/ids-events-mixin.ts\");\n/* harmony import */ var _core_ids_element__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/ids-element */ \"./src/core/ids-element.ts\");\n/* harmony import */ var _get_el_translate_point__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./get-el-translate-point */ \"./src/components/ids-draggable/get-el-translate-point.ts\");\n/* harmony import */ var _ids_draggable_scss__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ids-draggable.scss */ \"./src/components/ids-draggable/ids-draggable.scss\");\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __decorateClass = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp(target, key, result);\n  return result;\n};\n\n\n\n\n\n\n\nconst CURSOR_EL_SIZE = 32;\nlet IdsDraggable = class extends (0,_mixins_ids_events_mixin_ids_events_mixin__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(_core_ids_element__WEBPACK_IMPORTED_MODULE_4__[\"default\"]) {\n  #relativeBounds = {};\n  constructor() {\n    super();\n  }\n  /**\n   * Return the properties we handle as getters/setters\n   * @returns {Array} The properties in an array\n   */\n  static get attributes() {\n    return [\n      ...super.attributes,\n      _core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.AXIS,\n      _core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.DISABLED,\n      _core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.HANDLE,\n      _core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.IS_DRAGGING,\n      _core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.MAX_TRANSFORM_X,\n      _core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.MAX_TRANSFORM_Y,\n      _core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.MIN_TRANSFORM_X,\n      _core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.MIN_TRANSFORM_Y,\n      _core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.PARENT_CONTAINMENT\n    ];\n  }\n  /**\n   * @returns {string} The template innerHTML to render\n   */\n  template() {\n    return `<slot></slot>`;\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    this.#updateHandleElem();\n    this.#cursorEl.style.position = \"absolute\";\n    this.#cursorEl.style.opacity = 0;\n    this.#cursorEl.style.width = `${CURSOR_EL_SIZE}px`;\n    this.#cursorEl.style.height = `${CURSOR_EL_SIZE}px`;\n    this.#cursorEl.style.cursor = this.#getCursorStyle();\n  }\n  disconnectedCallback() {\n    super.disconnectedCallback();\n  }\n  /**\n   * @param {\"x\"|\"y\"|undefined} value The axis that the draggable content will\n   * be moving along (e.g. X => horizontal, Y => vertical);\n   * By default, not defined and supports both axes.\n   */\n  set axis(value) {\n    let nextValue;\n    switch (value) {\n      case \"y\": {\n        nextValue = \"y\";\n        break;\n      }\n      case \"x\": {\n        nextValue = \"x\";\n        break;\n      }\n      default: {\n        nextValue = void 0;\n        break;\n      }\n    }\n    if (nextValue) {\n      this.setAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.AXIS, nextValue);\n      this.isDragging = false;\n      this.#cursorEl.style.cursor = this.#getCursorStyle();\n    } else if (!nextValue && this.hasAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.AXIS)) {\n      this.removeAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.AXIS);\n      this.isDragging = false;\n      this.#cursorEl.style.cursor = this.#getCursorStyle();\n    }\n  }\n  /**\n   * @returns {\"x\"|\"y\"|null} value The axis that the draggable content will\n   * be moving along (e.g. X => horizontal, Y => vertical);\n   * By default not defined and supports both axes.\n   */\n  get axis() {\n    return this.getAttribute(\"axis\");\n  }\n  /**\n   * @param {string | boolean} value Whether the draggable should be limited in range\n   * by its parent element\n   */\n  set parentContainment(value) {\n    const isTruthy = (0,_utils_ids_string_utils_ids_string_utils__WEBPACK_IMPORTED_MODULE_2__.stringToBool)(value);\n    if (isTruthy) {\n      if (this.getAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.PARENT_CONTAINMENT) !== \"\") {\n        this.setAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.PARENT_CONTAINMENT, \"\");\n      }\n    } else if (!isTruthy && this.hasAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.PARENT_CONTAINMENT)) {\n      this.removeAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.PARENT_CONTAINMENT);\n    }\n  }\n  /**\n   * @returns {boolean} value Whether the draggable should be limited in range\n   * by its parent element\n   */\n  get parentContainment() {\n    return (0,_utils_ids_string_utils_ids_string_utils__WEBPACK_IMPORTED_MODULE_2__.stringToBool)(this.getAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.PARENT_CONTAINMENT));\n  }\n  /**\n   * @param {string | boolean} value Whether or not draggable functionality is to be disabled\n   */\n  set disabled(value) {\n    const isTruthy = (0,_utils_ids_string_utils_ids_string_utils__WEBPACK_IMPORTED_MODULE_2__.stringToBool)(value);\n    if (isTruthy && this.getAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.DISABLED) !== \"\") {\n      this.offEvent(\"mousemove\", window.document, this.onMouseMove);\n      this.setAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.DISABLED, \"\");\n    } else if (!isTruthy && this.hasAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.DISABLED)) {\n      this.removeAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.DISABLED);\n    }\n  }\n  /**\n   * @returns {boolean} value Whether or not draggable functionality is disabled\n   */\n  get disabled() {\n    return (0,_utils_ids_string_utils_ids_string_utils__WEBPACK_IMPORTED_MODULE_2__.stringToBool)(this.getAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.DISABLED));\n  }\n  /**\n   * @param {string} value A query selector representing an optional handle that can be used to\n   * drag the content of the draggable\n   */\n  set handle(value) {\n    if (this.getAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.HANDLE) !== value) {\n      if (this.hasAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.HANDLE) && !value) {\n        this.removeAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.HANDLE);\n      } else if (value) {\n        this.setAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.HANDLE, value);\n      }\n      this.#updateHandleElem();\n    }\n  }\n  /**\n   * @returns {string} value A query selector representing an optional handle that can be used to\n   * drag the content of the draggable\n   */\n  get handle() {\n    return this.getAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.HANDLE);\n  }\n  #updateHandleElem = () => {\n    this.offEvent(\"mousedown\", this.#handleElem);\n    this.offEvent(\"mouseup\", window.document, this.onMouseUp);\n    this.offEvent(\"mousemove\", window.document, this.onMouseMove);\n    this.#handleElem = this.handle ? document.querySelector(this.handle) || this : this;\n    if (this.#handleElem !== this) {\n      this.#handleElem.style.cursor = this.#getCursorStyle();\n    }\n    this.onEvent(\"mousedown\", this.#handleElem, (e) => {\n      if (this.disabled || e.button !== 0) {\n        return;\n      }\n      e.preventDefault();\n      this.isDragging = true;\n      this.onEvent(\"mouseup\", document, this.onMouseUp);\n      this.onEvent(\"mousemove\", document, this.onMouseMove);\n      if (this.parentContainment) {\n        this.#updateParentRect(e?.path || e?.composedPath?.());\n      }\n      this.#dragStartMousePoint = { x: e.x, y: e.y };\n      const dragOffset = (0,_get_el_translate_point__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(this);\n      this.#dragStartOffset = {\n        x: this.axis !== \"y\" ? dragOffset.x : 0,\n        y: this.axis !== \"x\" ? dragOffset.y : 0\n      };\n      this.triggerEvent(\"ids-dragstart\", this, {\n        detail: {\n          mouseX: e.x,\n          mouseY: e.y,\n          translateX: this.#dragStartOffset.x,\n          transitionY: this.#dragStartOffset.y\n        }\n      });\n      const thisRect = this.getBoundingClientRect();\n      this.#dragStartRect = {\n        width: thisRect.width,\n        height: thisRect.height,\n        left: thisRect.left - this.#dragStartOffset.x,\n        right: thisRect.right - this.#dragStartOffset.x,\n        top: thisRect.top - this.#dragStartOffset.y,\n        bottom: thisRect.bottom - this.#dragStartOffset.y\n      };\n      let parentLOffset = 0;\n      let parentROffset = 0;\n      let parentTOffset = 0;\n      let parentBOffset = 0;\n      if (this.#parentRect) {\n        parentLOffset = this.#parentRect.left - this.#dragStartRect.left;\n        parentROffset = this.#parentRect.right - this.#dragStartRect.right;\n        parentTOffset = this.#parentRect.top - this.#dragStartRect.top;\n        parentBOffset = this.#parentRect.bottom - this.#dragStartRect.bottom;\n      }\n      this.#xformBounds = {\n        left: parentLOffset + (this.#relativeBounds.left || 0),\n        right: parentROffset - (this.#relativeBounds.right || 0),\n        top: parentTOffset + (this.#relativeBounds.top || 0),\n        bottom: parentBOffset - (this.#relativeBounds.bottom || 0)\n      };\n      this.#cursorEl.style.pointerEvents = \"all\";\n      (document.body.querySelector(\"ids-container\") || document.body).appendChild(this.#cursorEl);\n    });\n  };\n  /**\n   * sets an optional integer attribute for an element\n   * (may offload as general util; just need to think\n   * through this a bit more)\n   * @param {HTMLElement} elem ids element to update\n   * @param {string} attribute the attribute to update\n   * @param {any} value a value to set on the\n   */\n  #setIntAttribute(elem, attribute, value) {\n    const nextValue = parseInt(value);\n    if (nextValue !== null && !Number.isNaN(nextValue)) {\n      if (parseInt(elem.getAttribute(attribute)) !== nextValue) {\n        elem.setAttribute(attribute, nextValue);\n      }\n    } else if (value === null && elem.hasAttribute(attribute)) {\n      elem.removeAttribute(attribute);\n    }\n  }\n  set minTransformX(value) {\n    this.#setIntAttribute(this, _core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.MIN_TRANSFORM_X, value);\n  }\n  get minTransformX() {\n    return parseInt(this.getAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.MIN_TRANSFORM_X) ?? \"0\");\n  }\n  set maxTransformX(value) {\n    this.#setIntAttribute(this, _core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.MAX_TRANSFORM_X, value);\n  }\n  get maxTransformX() {\n    return parseInt(this.getAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.MAX_TRANSFORM_X) ?? \"0\");\n  }\n  set minTransformY(value) {\n    this.#setIntAttribute(this, _core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.MIN_TRANSFORM_Y, value);\n  }\n  get minTransformY() {\n    return parseInt(this.getAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.MIN_TRANSFORM_Y) ?? \"0\");\n  }\n  get maxTransformY() {\n    return parseInt(this.getAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.MAX_TRANSFORM_Y) ?? \"0\");\n  }\n  set maxTransformY(value) {\n    this.#setIntAttribute(this, _core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.MAX_TRANSFORM_Y, value);\n  }\n  /**\n   * update the transform with respect to containment\n   * and min/max transform bounds\n   * @param {number} mouseDeltaX mouse delta x\n   * @param {number} mouseDeltaY mouse delta y\n   * @returns {Array} [transformX, transformY]\n   */\n  #updateTransform = (mouseDeltaX, mouseDeltaY) => {\n    let translateX = 0;\n    let translateY = 0;\n    if (this.axis !== \"y\") {\n      translateX = this.#dragStartOffset.x + mouseDeltaX;\n    }\n    if (this.axis !== \"x\") {\n      translateY = this.#dragStartOffset.y + mouseDeltaY;\n    }\n    if (this.parentContainment) {\n      if (this.axis !== \"y\") {\n        translateX = Math.max(this.#xformBounds.left, translateX);\n        translateX = Math.min(this.#xformBounds.right, translateX);\n      }\n      if (this.axis !== \"x\") {\n        translateY = Math.max(this.#xformBounds.top, translateY);\n        translateY = Math.min(this.#xformBounds.bottom, translateY);\n      }\n    }\n    if (this.hasAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.MIN_TRANSFORM_X)) {\n      translateX = Math.max(translateX, this.minTransformX);\n    }\n    if (this.hasAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.MAX_TRANSFORM_X)) {\n      translateX = Math.min(translateX, this.maxTransformX);\n    }\n    if (this.hasAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.MIN_TRANSFORM_Y)) {\n      translateY = Math.max(translateY, this.minTransformY);\n    }\n    if (this.hasAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.MAX_TRANSFORM_Y)) {\n      translateY = Math.min(translateY, this.maxTransformY);\n    }\n    this.style.setProperty(\n      \"transform\",\n      `translate(${translateX}px, ${translateY}px)`\n    );\n    return [translateX, translateY];\n  };\n  /**\n   * called on mouse move; transforms element for\n   * transition offset and updates cursor overlay\n   * element as necessary\n   * @param {*} e mousemove event\n   */\n  onMouseMove = (e) => {\n    e.preventDefault();\n    const eventDetail = {};\n    if (this.isDragging) {\n      const dragDeltaX = e.x - this.#dragStartMousePoint.x;\n      const dragDeltaY = e.y - this.#dragStartMousePoint.y;\n      const [\n        translateX,\n        translateY\n      ] = this.#updateTransform(dragDeltaX, dragDeltaY);\n      if (this.#parentRect) {\n        eventDetail.parentRect = this.#parentRect;\n      }\n      eventDetail.mouseX = e.x;\n      eventDetail.mouseY = e.y;\n      eventDetail.dragDeltaX = dragDeltaX;\n      eventDetail.dragDeltaY = dragDeltaY;\n      eventDetail.translateX = translateX;\n      eventDetail.translateY = translateY;\n      if (this.#cursorEl) {\n        this.#cursorEl.style.left = `${e.x - CURSOR_EL_SIZE / 2}px`;\n        this.#cursorEl.style.top = `${e.y - CURSOR_EL_SIZE / 2}px`;\n      }\n    }\n    eventDetail.originalEvent = e;\n    this.triggerEvent(\"ids-drag\", this, { detail: eventDetail });\n  };\n  onMouseUp = (e) => {\n    if (this.isDragging) {\n      this.isDragging = false;\n      const translatePoint = (0,_get_el_translate_point__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(this);\n      this.triggerEvent(\"ids-dragend\", this, {\n        detail: {\n          mouseX: e.x,\n          mouseY: e.y,\n          dragDeltaX: e.x - this.#dragStartMousePoint.x,\n          dragDeltaY: e.y - this.#dragStartMousePoint.y,\n          translateX: translatePoint.x,\n          translateY: translatePoint.y\n        }\n      });\n      (document.body.querySelector(\"ids-container\") || document.body)?.removeChild(this.#cursorEl);\n    }\n    this.offEvent(\"mousemove\", document, this.onMouseMove);\n    this.offEvent(\"mouseup\", document, this.onMouseUp);\n    this.#cursorEl.style.pointerEvents = \"none\";\n  };\n  /**\n   * @param {string | boolean} value Whether or not this element\n   * and content is being dragged\n   */\n  set isDragging(value) {\n    const isTruthy = (0,_utils_ids_string_utils_ids_string_utils__WEBPACK_IMPORTED_MODULE_2__.stringToBool)(value);\n    if (isTruthy && this.getAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.IS_DRAGGING) !== \"\") {\n      this.setAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.IS_DRAGGING, \"\");\n    } else if (!isTruthy && this.hasAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.IS_DRAGGING)) {\n      this.removeAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.IS_DRAGGING);\n    }\n  }\n  /**\n   * @returns {boolean} value Whether or not this element\n   * and content is being dragged\n   */\n  get isDragging() {\n    return (0,_utils_ids_string_utils_ids_string_utils__WEBPACK_IMPORTED_MODULE_2__.stringToBool)(this.getAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.IS_DRAGGING));\n  }\n  /**\n   * Get the \"cursor\" property of cursor element\n   * placed in front of drag\n   * @returns {string} cursor property\n   */\n  #getCursorStyle() {\n    switch (this.axis) {\n      case \"x\": {\n        return \"ew-resize\";\n      }\n      case \"y\": {\n        return \"ns-resize\";\n      }\n      default: {\n        return \"move\";\n      }\n    }\n  }\n  /**\n   * Element that is currently draggable;\n   * if \"handle\" becomes it possibly becomes the selected element.\n   *\n   * Otherwise it defaults to the overall draggable container (this)\n   */\n  #handleElem;\n  /**\n   * First measurable parent's rectangle\n   * when a drag is initiated\n   * @type {{ x: number, y: number }}\n   */\n  #parentRect;\n  /**\n   * The point where we start dragging on the mouse\n   * to delta from for current tracking.\n   * @type {{ x: number, y: number }}\n   */\n  #dragStartMousePoint;\n  /**\n   * The transform translation point applied at\n   * the time of a dragstart in order to calculate\n   * delta during drag\n   * @type {{ x: number, y: number }}\n   */\n  #dragStartOffset;\n  /**\n   * The bounding rectangle of this component at the\n   * time of a dragstart offset by translate (so\n   * its original position in the div on start of drag)\n   * @type {{ x: number, y: number }}\n   */\n  #dragStartRect;\n  /**\n   * Rectangle bounds that transform is limited to if drag\n   * is bounded by parent\n   * @type {{ top: number, bottom: number, left: number, right: number }}\n   */\n  #xformBounds;\n  /**\n   * Element which provides cursor for mouse when\n   * dragging after mousedown event since we can\n   * bind to X/Y axes and there's no way to override\n   * the behavior\n   */\n  #cursorEl = document.createElement(\"div\");\n  /**\n   * Update parent rectangle stored in this.#parentRect\n   * @param {*} path path passed by mouse/drag event\n   * to traverse through shadow and lightDOM\n   * @private\n   */\n  #updateParentRect(path) {\n    this.#parentRect = void 0;\n    let pathElemIndex = 0;\n    let pathElem = path[pathElemIndex];\n    let hasTraversedThis = false;\n    let isAtSlotEl = false;\n    let isAtShadowRoot = false;\n    while ((!this.#parentRect || !hasTraversedThis || isAtShadowRoot || isAtSlotEl) && pathElemIndex + 1 < path.length) {\n      if (pathElem === this) {\n        hasTraversedThis = true;\n      }\n      pathElemIndex++;\n      pathElem = path[pathElemIndex];\n      isAtSlotEl = pathElem.tagName === \"SLOT\";\n      isAtShadowRoot = pathElem instanceof ShadowRoot;\n      if (isAtShadowRoot || isAtSlotEl) {\n        continue;\n      }\n      const rect = pathElem?.getBoundingClientRect?.();\n      if (rect?.height !== 0 && rect?.width !== 0) {\n        this.#parentRect = rect;\n      }\n    }\n  }\n  /**\n   * @param {string | number} value The max coordinates relative\n   * to the overall div; e.g. \"left: -20; right: -20\" would extend\n   * the minimum x and maximum x from current container\n   * bounds, or \"top: 10; bottom: 20\" would make the top (upwards\n   * bounds) 10 below the top or 20 below the bottom).\n   */\n  set relativeBounds(value) {\n    if (value) {\n      this.setAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.RELATIVE_BOUNDS, String(value));\n      this.#updateRelativeBounds();\n      return;\n    }\n    this.removeAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.RELATIVE_BOUNDS);\n  }\n  get relativeBounds() {\n    return this.getAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.RELATIVE_BOUNDS);\n  }\n  /**\n   * @param {{\n   *  left: number,\n   *  top: number,\n   *  right: number,\n   *  bottom: number\n   * }} bounds rectangle bounds to hash\n   * @returns {string} a hash for bounds in a predictable\n   * order that can be diffed for attribute changes\n   */\n  getBoundsHash(bounds) {\n    return `${bounds?.left || 0}_${bounds?.right || 0}_${bounds?.top || 0}_${bounds?.bottom || 0}`;\n  }\n  #updateRelativeBounds() {\n    const relativeBoundsAttr = this.getAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.RELATIVE_BOUNDS);\n    const newBounds = Object.fromEntries(relativeBoundsAttr?.split(\";\").map((str) => {\n      const [kStr, vStr] = str?.split?.(\":\");\n      return [kStr, !Number.isNaN(parseInt(vStr)) ? parseInt(vStr) : 0];\n    }) ?? []);\n    if (this.getBoundsHash(newBounds) !== this.getBoundsHash(this.#relativeBounds)) {\n      this.#relativeBounds = newBounds;\n    }\n  }\n};\nIdsDraggable = __decorateClass([\n  (0,_core_ids_decorators__WEBPACK_IMPORTED_MODULE_0__.customElement)(\"ids-draggable\"),\n  (0,_core_ids_decorators__WEBPACK_IMPORTED_MODULE_0__.scss)(_ids_draggable_scss__WEBPACK_IMPORTED_MODULE_6__[\"default\"])\n], IdsDraggable);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9pZHMtZHJhZ2dhYmxlL2lkcy1kcmFnZ2FibGUudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFvQztBQUNUO0FBQ0U7QUFFRjtBQUNKO0FBRVM7QUFDYjtBQUVuQixNQUFNLGlCQUFpQjtBQVV2QixJQUFxQixlQUFyQixjQUEwQyxxRkFBYyxDQUFDLHlEQUFVLEVBQUU7QUFBQSxFQUNuRSxrQkFBdUIsQ0FBQztBQUFBLEVBRXhCLGNBQWM7QUFDWixVQUFNO0FBQUEsRUFDUjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxXQUFXLGFBQWE7QUFDdEIsV0FBTztBQUFBLE1BQ0wsR0FBRyxNQUFNO0FBQUEsTUFDVCxpRUFBZTtBQUFKLE1BQ1gscUVBQW1CO0FBQVIsTUFDWCxtRUFBaUI7QUFBTixNQUNYLHdFQUFzQjtBQUFYLE1BQ1gsNEVBQTBCO0FBQWYsTUFDWCw0RUFBMEI7QUFBZixNQUNYLDRFQUEwQjtBQUFmLE1BQ1gsNEVBQTBCO0FBQWYsTUFDWCwrRUFBNkI7QUFBbEIsSUFDYjtBQUFBLEVBQ0Y7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtBLFdBQW1CO0FBQ2pCLFdBQ0U7QUFBQSxFQUVKO0FBQUEsRUFFQSxvQkFBb0I7QUFDbEIsVUFBTSxrQkFBa0I7QUFDeEIsU0FBSyxrQkFBa0I7QUFHdkIsU0FBSyxVQUFVLE1BQU0sV0FBVztBQUNoQyxTQUFLLFVBQVUsTUFBTSxVQUFVO0FBQy9CLFNBQUssVUFBVSxNQUFNLFFBQVEsR0FBRztBQUNoQyxTQUFLLFVBQVUsTUFBTSxTQUFTLEdBQUc7QUFDakMsU0FBSyxVQUFVLE1BQU0sU0FBUyxLQUFLLGdCQUFnQjtBQUFBLEVBQ3JEO0FBQUEsRUFFQSx1QkFBNkI7QUFDM0IsVUFBTSxxQkFBcUI7QUFBQSxFQUM3QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU9BLElBQUksS0FBSyxPQUFrQztBQUN6QyxRQUFJO0FBRUosWUFBUSxPQUFP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QUFFdkYsWUFBTSxDQUFDLE1BQU0sSUFBSSxJQUFJLEtBQUssUUFBUSxHQUFHO0FBQ3JDLGFBQU8sQ0FBQyxNQUFNLENBQUMsT0FBTyxNQUFNLFNBQVMsSUFBSSxDQUFDLElBQUksU0FBUyxJQUFJLElBQUksQ0FBQztBQUFBLElBQ2xFLENBQUMsS0FBSyxDQUFDLENBQUM7QUFFUixRQUFJLEtBQUssY0FBYyxTQUFTLE1BQU0sS0FBSyxjQUFjLEtBQUssZUFBZSxHQUFHO0FBQzlFLFdBQUssa0JBQWtCO0FBQUEsSUFDekI7QUFBQSxFQUNGO0FBQ0Y7QUFybkJxQixlQUFyQjtBQUFBLEVBRkMsbUVBQWEsQ0FBQyxlQUFlO0FBQUEsRUFDN0IsMERBQUksQ0FBQywyREFBTTtBQUFBLEdBQ1MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pZHMtZW50ZXJwcmlzZS13Yy8uL3NyYy9jb21wb25lbnRzL2lkcy1kcmFnZ2FibGUvaWRzLWRyYWdnYWJsZS50cz82N2VlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGN1c3RvbUVsZW1lbnQsIHNjc3MgfSBmcm9tICcuLi8uLi9jb3JlL2lkcy1kZWNvcmF0b3JzJztcbmltcG9ydCB7IGF0dHJpYnV0ZXMgfSBmcm9tICcuLi8uLi9jb3JlL2lkcy1hdHRyaWJ1dGVzJztcbmltcG9ydCB7IHN0cmluZ1RvQm9vbCB9IGZyb20gJy4uLy4uL3V0aWxzL2lkcy1zdHJpbmctdXRpbHMvaWRzLXN0cmluZy11dGlscyc7XG5cbmltcG9ydCBJZHNFdmVudHNNaXhpbiBmcm9tICcuLi8uLi9taXhpbnMvaWRzLWV2ZW50cy1taXhpbi9pZHMtZXZlbnRzLW1peGluJztcbmltcG9ydCBJZHNFbGVtZW50IGZyb20gJy4uLy4uL2NvcmUvaWRzLWVsZW1lbnQnO1xuXG5pbXBvcnQgZ2V0RWxUcmFuc2xhdGVQb2ludCBmcm9tICcuL2dldC1lbC10cmFuc2xhdGUtcG9pbnQnO1xuaW1wb3J0IHN0eWxlcyBmcm9tICcuL2lkcy1kcmFnZ2FibGUuc2Nzcyc7XG5cbmNvbnN0IENVUlNPUl9FTF9TSVpFID0gMzI7XG5cbi8qKlxuICogSURTIERyYWdnYWJsZSBDb21wb25lbnRcbiAqIEB0eXBlIHtJZHNEcmFnZ2FibGV9XG4gKiBAaW5oZXJpdHMgSWRzRWxlbWVudFxuICogQG1peGVzIElkc0V2ZW50c01peGluXG4gKi9cbkBjdXN0b21FbGVtZW50KCdpZHMtZHJhZ2dhYmxlJylcbkBzY3NzKHN0eWxlcylcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIElkc0RyYWdnYWJsZSBleHRlbmRzIElkc0V2ZW50c01peGluKElkc0VsZW1lbnQpIHtcbiAgI3JlbGF0aXZlQm91bmRzOiBhbnkgPSB7fTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgcHJvcGVydGllcyB3ZSBoYW5kbGUgYXMgZ2V0dGVycy9zZXR0ZXJzXG4gICAqIEByZXR1cm5zIHtBcnJheX0gVGhlIHByb3BlcnRpZXMgaW4gYW4gYXJyYXlcbiAgICovXG4gIHN0YXRpYyBnZXQgYXR0cmlidXRlcygpIHtcbiAgICByZXR1cm4gW1xuICAgICAgLi4uc3VwZXIuYXR0cmlidXRlcyxcbiAgICAgIGF0dHJpYnV0ZXMuQVhJUyxcbiAgICAgIGF0dHJpYnV0ZXMuRElTQUJMRUQsXG4gICAgICBhdHRyaWJ1dGVzLkhBTkRMRSxcbiAgICAgIGF0dHJpYnV0ZXMuSVNfRFJBR0dJTkcsXG4gICAgICBhdHRyaWJ1dGVzLk1BWF9UUkFOU0ZPUk1fWCxcbiAgICAgIGF0dHJpYnV0ZXMuTUFYX1RSQU5TRk9STV9ZLFxuICAgICAgYXR0cmlidXRlcy5NSU5fVFJBTlNGT1JNX1gsXG4gICAgICBhdHRyaWJ1dGVzLk1JTl9UUkFOU0ZPUk1fWSxcbiAgICAgIGF0dHJpYnV0ZXMuUEFSRU5UX0NPTlRBSU5NRU5UXG4gICAgXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgdGVtcGxhdGUgaW5uZXJIVE1MIHRvIHJlbmRlclxuICAgKi9cbiAgdGVtcGxhdGUoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gKFxuICAgICAgYDxzbG90Pjwvc2xvdD5gXG4gICAgKTtcbiAgfVxuXG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgdGhpcy4jdXBkYXRlSGFuZGxlRWxlbSgpO1xuXG4gICAgLy8gc3R5bGUgdGhlIGN1cnNvciBlbGVtZW50XG4gICAgdGhpcy4jY3Vyc29yRWwuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgIHRoaXMuI2N1cnNvckVsLnN0eWxlLm9wYWNpdHkgPSAwO1xuICAgIHRoaXMuI2N1cnNvckVsLnN0eWxlLndpZHRoID0gYCR7Q1VSU09SX0VMX1NJWkV9cHhgO1xuICAgIHRoaXMuI2N1cnNvckVsLnN0eWxlLmhlaWdodCA9IGAke0NVUlNPUl9FTF9TSVpFfXB4YDtcbiAgICB0aGlzLiNjdXJzb3JFbC5zdHlsZS5jdXJzb3IgPSB0aGlzLiNnZXRDdXJzb3JTdHlsZSgpO1xuICB9XG5cbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKTogdm9pZCB7XG4gICAgc3VwZXIuZGlzY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1wieFwifFwieVwifHVuZGVmaW5lZH0gdmFsdWUgVGhlIGF4aXMgdGhhdCB0aGUgZHJhZ2dhYmxlIGNvbnRlbnQgd2lsbFxuICAgKiBiZSBtb3ZpbmcgYWxvbmcgKGUuZy4gWCA9PiBob3Jpem9udGFsLCBZID0+IHZlcnRpY2FsKTtcbiAgICogQnkgZGVmYXVsdCwgbm90IGRlZmluZWQgYW5kIHN1cHBvcnRzIGJvdGggYXhlcy5cbiAgICovXG4gIHNldCBheGlzKHZhbHVlOiBzdHJpbmcgfCB1bmRlZmluZWQgfCBudWxsKSB7XG4gICAgbGV0IG5leHRWYWx1ZTtcblxuICAgIHN3aXRjaCAodmFsdWUpIHtcbiAgICAgIGNhc2UgJ3knOiB7XG4gICAgICAgIG5leHRWYWx1ZSA9ICd5JztcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlICd4Jzoge1xuICAgICAgICBuZXh0VmFsdWUgPSAneCc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgZGVmYXVsdDoge1xuICAgICAgICBuZXh0VmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChuZXh0VmFsdWUpIHtcbiAgICAgIHRoaXMuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZXMuQVhJUywgbmV4dFZhbHVlKTtcbiAgICAgIHRoaXMuaXNEcmFnZ2luZyA9IGZhbHNlO1xuICAgICAgdGhpcy4jY3Vyc29yRWwuc3R5bGUuY3Vyc29yID0gdGhpcy4jZ2V0Q3Vyc29yU3R5bGUoKTtcbiAgICB9IGVsc2UgaWYgKCFuZXh0VmFsdWUgJiYgdGhpcy5oYXNBdHRyaWJ1dGUoYXR0cmlidXRlcy5BWElTKSkge1xuICAgICAgdGhpcy5yZW1vdmVBdHRyaWJ1dGUoYXR0cmlidXRlcy5BWElTKTtcbiAgICAgIHRoaXMuaXNEcmFnZ2luZyA9IGZhbHNlO1xuICAgICAgdGhpcy4jY3Vyc29yRWwuc3R5bGUuY3Vyc29yID0gdGhpcy4jZ2V0Q3Vyc29yU3R5bGUoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge1wieFwifFwieVwifG51bGx9IHZhbHVlIFRoZSBheGlzIHRoYXQgdGhlIGRyYWdnYWJsZSBjb250ZW50IHdpbGxcbiAgICogYmUgbW92aW5nIGFsb25nIChlLmcuIFggPT4gaG9yaXpvbnRhbCwgWSA9PiB2ZXJ0aWNhbCk7XG4gICAqIEJ5IGRlZmF1bHQgbm90IGRlZmluZWQgYW5kIHN1cHBvcnRzIGJvdGggYXhlcy5cbiAgICovXG4gIGdldCBheGlzKCk6IHN0cmluZyB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLmdldEF0dHJpYnV0ZSgnYXhpcycpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nIHwgYm9vbGVhbn0gdmFsdWUgV2hldGhlciB0aGUgZHJhZ2dhYmxlIHNob3VsZCBiZSBsaW1pdGVkIGluIHJhbmdlXG4gICAqIGJ5IGl0cyBwYXJlbnQgZWxlbWVudFxuICAgKi9cbiAgc2V0IHBhcmVudENvbnRhaW5tZW50KHZhbHVlOiBzdHJpbmcgfCBib29sZWFuKSB7XG4gICAgY29uc3QgaXNUcnV0aHkgPSBzdHJpbmdUb0Jvb2wodmFsdWUpO1xuXG4gICAgaWYgKGlzVHJ1dGh5KSB7XG4gICAgICBpZiAodGhpcy5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlcy5QQVJFTlRfQ09OVEFJTk1FTlQpICE9PSAnJykge1xuICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZShhdHRyaWJ1dGVzLlBBUkVOVF9DT05UQUlOTUVOVCwgJycpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIWlzVHJ1dGh5ICYmIHRoaXMuaGFzQXR0cmlidXRlKGF0dHJpYnV0ZXMuUEFSRU5UX0NPTlRBSU5NRU5UKSkge1xuICAgICAgdGhpcy5yZW1vdmVBdHRyaWJ1dGUoYXR0cmlidXRlcy5QQVJFTlRfQ09OVEFJTk1FTlQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdmFsdWUgV2hldGhlciB0aGUgZHJhZ2dhYmxlIHNob3VsZCBiZSBsaW1pdGVkIGluIHJhbmdlXG4gICAqIGJ5IGl0cyBwYXJlbnQgZWxlbWVudFxuICAgKi9cbiAgZ2V0IHBhcmVudENvbnRhaW5tZW50KCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBzdHJpbmdUb0Jvb2wodGhpcy5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlcy5QQVJFTlRfQ09OVEFJTk1FTlQpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZyB8IGJvb2xlYW59IHZhbHVlIFdoZXRoZXIgb3Igbm90IGRyYWdnYWJsZSBmdW5jdGlvbmFsaXR5IGlzIHRvIGJlIGRpc2FibGVkXG4gICAqL1xuICBzZXQgZGlzYWJsZWQodmFsdWU6IHN0cmluZyB8IGJvb2xlYW4pIHtcbiAgICBjb25zdCBpc1RydXRoeSA9IHN0cmluZ1RvQm9vbCh2YWx1ZSk7XG5cbiAgICBpZiAoaXNUcnV0aHkgJiYgdGhpcy5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlcy5ESVNBQkxFRCkgIT09ICcnKSB7XG4gICAgICB0aGlzLm9mZkV2ZW50KCdtb3VzZW1vdmUnLCB3aW5kb3cuZG9jdW1lbnQsIHRoaXMub25Nb3VzZU1vdmUpO1xuICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlcy5ESVNBQkxFRCwgJycpO1xuICAgIH0gZWxzZSBpZiAoIWlzVHJ1dGh5ICYmIHRoaXMuaGFzQXR0cmlidXRlKGF0dHJpYnV0ZXMuRElTQUJMRUQpKSB7XG4gICAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZShhdHRyaWJ1dGVzLkRJU0FCTEVEKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge2Jvb2xlYW59IHZhbHVlIFdoZXRoZXIgb3Igbm90IGRyYWdnYWJsZSBmdW5jdGlvbmFsaXR5IGlzIGRpc2FibGVkXG4gICAqL1xuICBnZXQgZGlzYWJsZWQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHN0cmluZ1RvQm9vbCh0aGlzLmdldEF0dHJpYnV0ZShhdHRyaWJ1dGVzLkRJU0FCTEVEKSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIEEgcXVlcnkgc2VsZWN0b3IgcmVwcmVzZW50aW5nIGFuIG9wdGlvbmFsIGhhbmRsZSB0aGF0IGNhbiBiZSB1c2VkIHRvXG4gICAqIGRyYWcgdGhlIGNvbnRlbnQgb2YgdGhlIGRyYWdnYWJsZVxuICAgKi9cbiAgc2V0IGhhbmRsZSh2YWx1ZTogc3RyaW5nIHwgbnVsbCkge1xuICAgIGlmICh0aGlzLmdldEF0dHJpYnV0ZShhdHRyaWJ1dGVzLkhBTkRMRSkgIT09IHZhbHVlKSB7XG4gICAgICBpZiAodGhpcy5oYXNBdHRyaWJ1dGUoYXR0cmlidXRlcy5IQU5ETEUpICYmICghdmFsdWUpKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKGF0dHJpYnV0ZXMuSEFORExFKTtcbiAgICAgIH0gZWxzZSBpZiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlcy5IQU5ETEUsIHZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy4jdXBkYXRlSGFuZGxlRWxlbSgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSB2YWx1ZSBBIHF1ZXJ5IHNlbGVjdG9yIHJlcHJlc2VudGluZyBhbiBvcHRpb25hbCBoYW5kbGUgdGhhdCBjYW4gYmUgdXNlZCB0b1xuICAgKiBkcmFnIHRoZSBjb250ZW50IG9mIHRoZSBkcmFnZ2FibGVcbiAgICovXG4gIGdldCBoYW5kbGUoKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZXMuSEFORExFKTtcbiAgfVxuXG4gICN1cGRhdGVIYW5kbGVFbGVtID0gKCkgPT4ge1xuICAgIHRoaXMub2ZmRXZlbnQoJ21vdXNlZG93bicsIHRoaXMuI2hhbmRsZUVsZW0pO1xuICAgIHRoaXMub2ZmRXZlbnQoJ21vdXNldXAnLCB3aW5kb3cuZG9jdW1lbnQsIHRoaXMub25Nb3VzZVVwKTtcbiAgICB0aGlzLm9mZkV2ZW50KCdtb3VzZW1vdmUnLCB3aW5kb3cuZG9jdW1lbnQsIHRoaXMub25Nb3VzZU1vdmUpO1xuXG4gICAgdGhpcy4jaGFuZGxlRWxlbSA9IHRoaXMuaGFuZGxlID8gKFxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLmhhbmRsZSkgfHwgdGhpc1xuICAgICkgOiB0aGlzO1xuXG4gICAgaWYgKHRoaXMuI2hhbmRsZUVsZW0gIT09IHRoaXMpIHtcbiAgICAgIHRoaXMuI2hhbmRsZUVsZW0uc3R5bGUuY3Vyc29yID0gdGhpcy4jZ2V0Q3Vyc29yU3R5bGUoKTtcbiAgICB9XG5cbiAgICB0aGlzLm9uRXZlbnQoJ21vdXNlZG93bicsIHRoaXMuI2hhbmRsZUVsZW0sIChlOiBhbnkpID0+IHtcbiAgICAgIGlmICh0aGlzLmRpc2FibGVkIHx8IGUuYnV0dG9uICE9PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5pc0RyYWdnaW5nID0gdHJ1ZTtcblxuICAgICAgdGhpcy5vbkV2ZW50KCdtb3VzZXVwJywgZG9jdW1lbnQsIHRoaXMub25Nb3VzZVVwKTtcbiAgICAgIHRoaXMub25FdmVudCgnbW91c2Vtb3ZlJywgZG9jdW1lbnQsIHRoaXMub25Nb3VzZU1vdmUpO1xuXG4gICAgICAvLyBpZiB3ZSBoYXZlIG91ciBjb250ZW50IGJlaW5nIGRyYWdnYWJsZSBieSB0aGUgcGFyZW50IGVsZW1lbnQsXG4gICAgICAvLyB0aGVuIHdlIG5lZWQgdG8gZ3JhYiB0aGUgZmlyc3QgcGFyZW50IHJlY3RhbmdsZSBib3VuZHNcbiAgICAgIC8vIGFzIHdlbGwgYXMgYXBwZW5kIGl0IHRvIHRoZSBhc3NvY2lhdGVkIGV2ZW50IGRldGFpbFxuXG4gICAgICBpZiAodGhpcy5wYXJlbnRDb250YWlubWVudCkge1xuICAgICAgICB0aGlzLiN1cGRhdGVQYXJlbnRSZWN0KGU/LnBhdGggfHwgZT8uY29tcG9zZWRQYXRoPy4oKSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuI2RyYWdTdGFydE1vdXNlUG9pbnQgPSB7IHg6IGUueCwgeTogZS55IH07XG5cbiAgICAgIGNvbnN0IGRyYWdPZmZzZXQgPSBnZXRFbFRyYW5zbGF0ZVBvaW50KHRoaXMpO1xuXG4gICAgICB0aGlzLiNkcmFnU3RhcnRPZmZzZXQgPSB7XG4gICAgICAgIHg6IHRoaXMuYXhpcyAhPT0gJ3knID8gZHJhZ09mZnNldC54IDogMCxcbiAgICAgICAgeTogdGhpcy5heGlzICE9PSAneCcgPyBkcmFnT2Zmc2V0LnkgOiAwXG4gICAgICB9O1xuXG4gICAgICB0aGlzLnRyaWdnZXJFdmVudCgnaWRzLWRyYWdzdGFydCcsIHRoaXMsIHtcbiAgICAgICAgZGV0YWlsOiB7XG4gICAgICAgICAgbW91c2VYOiBlLngsXG4gICAgICAgICAgbW91c2VZOiBlLnksXG4gICAgICAgICAgdHJhbnNsYXRlWDogdGhpcy4jZHJhZ1N0YXJ0T2Zmc2V0LngsXG4gICAgICAgICAgdHJhbnNpdGlvblk6IHRoaXMuI2RyYWdTdGFydE9mZnNldC55XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCB0aGlzUmVjdCA9IHRoaXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgIC8vIHRyYWNrIHRoZSBiYXNlIGVsZW1lbnQgcmVjdGFuZ2xlXG4gICAgICAvLyAoYmVmb3JlIHRyYW5zbGF0aW9uIGNvbnNpZGVyZWQpXG5cbiAgICAgIHRoaXMuI2RyYWdTdGFydFJlY3QgPSB7XG4gICAgICAgIHdpZHRoOiB0aGlzUmVjdC53aWR0aCxcbiAgICAgICAgaGVpZ2h0OiB0aGlzUmVjdC5oZWlnaHQsXG4gICAgICAgIGxlZnQ6IHRoaXNSZWN0LmxlZnQgLSB0aGlzLiNkcmFnU3RhcnRPZmZzZXQueCxcbiAgICAgICAgcmlnaHQ6IHRoaXNSZWN0LnJpZ2h0IC0gdGhpcy4jZHJhZ1N0YXJ0T2Zmc2V0LngsXG4gICAgICAgIHRvcDogdGhpc1JlY3QudG9wIC0gdGhpcy4jZHJhZ1N0YXJ0T2Zmc2V0LnksXG4gICAgICAgIGJvdHRvbTogdGhpc1JlY3QuYm90dG9tIC0gdGhpcy4jZHJhZ1N0YXJ0T2Zmc2V0LnlcbiAgICAgIH07XG5cbiAgICAgIGxldCBwYXJlbnRMT2Zmc2V0ID0gMDtcbiAgICAgIGxldCBwYXJlbnRST2Zmc2V0ID0gMDtcbiAgICAgIGxldCBwYXJlbnRUT2Zmc2V0ID0gMDtcbiAgICAgIGxldCBwYXJlbnRCT2Zmc2V0ID0gMDtcblxuICAgICAgaWYgKHRoaXMuI3BhcmVudFJlY3QpIHtcbiAgICAgICAgcGFyZW50TE9mZnNldCA9ICh0aGlzLiNwYXJlbnRSZWN0LmxlZnQgLSB0aGlzLiNkcmFnU3RhcnRSZWN0LmxlZnQpO1xuICAgICAgICBwYXJlbnRST2Zmc2V0ID0gKHRoaXMuI3BhcmVudFJlY3QucmlnaHQgLSB0aGlzLiNkcmFnU3RhcnRSZWN0LnJpZ2h0KTtcbiAgICAgICAgcGFyZW50VE9mZnNldCA9ICh0aGlzLiNwYXJlbnRSZWN0LnRvcCAtIHRoaXMuI2RyYWdTdGFydFJlY3QudG9wKTtcbiAgICAgICAgcGFyZW50Qk9mZnNldCA9ICh0aGlzLiNwYXJlbnRSZWN0LmJvdHRvbSAtIHRoaXMuI2RyYWdTdGFydFJlY3QuYm90dG9tKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy4jeGZvcm1Cb3VuZHMgPSB7XG4gICAgICAgIGxlZnQ6IHBhcmVudExPZmZzZXQgKyAodGhpcy4jcmVsYXRpdmVCb3VuZHMubGVmdCB8fCAwKSxcbiAgICAgICAgcmlnaHQ6IHBhcmVudFJPZmZzZXQgLSAodGhpcy4jcmVsYXRpdmVCb3VuZHMucmlnaHQgfHwgMCksXG4gICAgICAgIHRvcDogcGFyZW50VE9mZnNldCArICh0aGlzLiNyZWxhdGl2ZUJvdW5kcy50b3AgfHwgMCksXG4gICAgICAgIGJvdHRvbTogcGFyZW50Qk9mZnNldCAtICh0aGlzLiNyZWxhdGl2ZUJvdW5kcy5ib3R0b20gfHwgMClcbiAgICAgIH07XG5cbiAgICAgIHRoaXMuI2N1cnNvckVsLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnYWxsJztcblxuICAgICAgLy8gYXBwZW5kIHRoZSBjdXJzb3IgdG8gZWl0aGVyIHRoZSB0b3AtbGV2ZWwgaWRzLWNvbnRhaW5lclxuICAgICAgLy8gb3IgaWYgbm90IGZvdW5kIHRoZSBkb2N1bWVudCBib2R5XG4gICAgICAvLyAodG8gYXZvaWQgZG91YmxlIG92ZXJmbG93IHNjcm9sbGJhcnMpXG5cbiAgICAgIChkb2N1bWVudC5ib2R5LnF1ZXJ5U2VsZWN0b3IoJ2lkcy1jb250YWluZXInKSB8fCBkb2N1bWVudC5ib2R5KVxuICAgICAgICAuYXBwZW5kQ2hpbGQodGhpcy4jY3Vyc29yRWwpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBzZXRzIGFuIG9wdGlvbmFsIGludGVnZXIgYXR0cmlidXRlIGZvciBhbiBlbGVtZW50XG4gICAqIChtYXkgb2ZmbG9hZCBhcyBnZW5lcmFsIHV0aWw7IGp1c3QgbmVlZCB0byB0aGlua1xuICAgKiB0aHJvdWdoIHRoaXMgYSBiaXQgbW9yZSlcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbSBpZHMgZWxlbWVudCB0byB1cGRhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGF0dHJpYnV0ZSB0aGUgYXR0cmlidXRlIHRvIHVwZGF0ZVxuICAgKiBAcGFyYW0ge2FueX0gdmFsdWUgYSB2YWx1ZSB0byBzZXQgb24gdGhlXG4gICAqL1xuICAjc2V0SW50QXR0cmlidXRlKGVsZW06IGFueSwgYXR0cmlidXRlOiBzdHJpbmcsIHZhbHVlOiBhbnkpIHtcbiAgICBjb25zdCBuZXh0VmFsdWUgPSBwYXJzZUludCh2YWx1ZSk7XG5cbiAgICBpZiAobmV4dFZhbHVlICE9PSBudWxsICYmICFOdW1iZXIuaXNOYU4obmV4dFZhbHVlKSkge1xuICAgICAgaWYgKHBhcnNlSW50KGVsZW0uZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZSkpICE9PSBuZXh0VmFsdWUpIHtcbiAgICAgICAgZWxlbS5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlLCBuZXh0VmFsdWUpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodmFsdWUgPT09IG51bGwgJiYgZWxlbS5oYXNBdHRyaWJ1dGUoYXR0cmlidXRlKSkge1xuICAgICAgZWxlbS5yZW1vdmVBdHRyaWJ1dGUoYXR0cmlidXRlKTtcbiAgICB9XG4gIH1cblxuICBzZXQgbWluVHJhbnNmb3JtWCh2YWx1ZTogbnVtYmVyKSB7XG4gICAgdGhpcy4jc2V0SW50QXR0cmlidXRlKHRoaXMsIGF0dHJpYnV0ZXMuTUlOX1RSQU5TRk9STV9YLCB2YWx1ZSk7XG4gIH1cblxuICBnZXQgbWluVHJhbnNmb3JtWCgpOiBudW1iZXIge1xuICAgIHJldHVybiBwYXJzZUludCh0aGlzLmdldEF0dHJpYnV0ZShhdHRyaWJ1dGVzLk1JTl9UUkFOU0ZPUk1fWCkgPz8gJzAnKTtcbiAgfVxuXG4gIHNldCBtYXhUcmFuc2Zvcm1YKHZhbHVlOiBudW1iZXIpIHtcbiAgICB0aGlzLiNzZXRJbnRBdHRyaWJ1dGUodGhpcywgYXR0cmlidXRlcy5NQVhfVFJBTlNGT1JNX1gsIHZhbHVlKTtcbiAgfVxuXG4gIGdldCBtYXhUcmFuc2Zvcm1YKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHBhcnNlSW50KHRoaXMuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZXMuTUFYX1RSQU5TRk9STV9YKSA/PyAnMCcpO1xuICB9XG5cbiAgc2V0IG1pblRyYW5zZm9ybVkodmFsdWU6IG51bWJlcikge1xuICAgIHRoaXMuI3NldEludEF0dHJpYnV0ZSh0aGlzLCBhdHRyaWJ1dGVzLk1JTl9UUkFOU0ZPUk1fWSwgdmFsdWUpO1xuICB9XG5cbiAgZ2V0IG1pblRyYW5zZm9ybVkoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gcGFyc2VJbnQodGhpcy5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlcy5NSU5fVFJBTlNGT1JNX1kpID8/ICcwJyk7XG4gIH1cblxuICBnZXQgbWF4VHJhbnNmb3JtWSgpOiBudW1iZXIge1xuICAgIHJldHVybiBwYXJzZUludCh0aGlzLmdldEF0dHJpYnV0ZShhdHRyaWJ1dGVzLk1BWF9UUkFOU0ZPUk1fWSkgPz8gJzAnKTtcbiAgfVxuXG4gIHNldCBtYXhUcmFuc2Zvcm1ZKHZhbHVlOiBudW1iZXIpIHtcbiAgICB0aGlzLiNzZXRJbnRBdHRyaWJ1dGUodGhpcywgYXR0cmlidXRlcy5NQVhfVFJBTlNGT1JNX1ksIHZhbHVlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiB1cGRhdGUgdGhlIHRyYW5zZm9ybSB3aXRoIHJlc3BlY3QgdG8gY29udGFpbm1lbnRcbiAgICogYW5kIG1pbi9tYXggdHJhbnNmb3JtIGJvdW5kc1xuICAgKiBAcGFyYW0ge251bWJlcn0gbW91c2VEZWx0YVggbW91c2UgZGVsdGEgeFxuICAgKiBAcGFyYW0ge251bWJlcn0gbW91c2VEZWx0YVkgbW91c2UgZGVsdGEgeVxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFt0cmFuc2Zvcm1YLCB0cmFuc2Zvcm1ZXVxuICAgKi9cbiAgI3VwZGF0ZVRyYW5zZm9ybSA9IChtb3VzZURlbHRhWDogbnVtYmVyLCBtb3VzZURlbHRhWTogbnVtYmVyKSA9PiB7XG4gICAgbGV0IHRyYW5zbGF0ZVggPSAwO1xuICAgIGxldCB0cmFuc2xhdGVZID0gMDtcblxuICAgIC8vIGluIGNhc2Ugd2UncmUgZHJhZ2dpbmcgYW5kIHBhc3NlZCBpbiB0aGUgZGVsdGFcbiAgICAvLyB0aGVuIGNvbnNpZGVyIHRoZSB0cmFuc2xhdGVYL1kgdnMgd2hlcmUgd2VcbiAgICAvLyBmaXJzdCBzdGFydGVkIGRyYWdnaW5nIHRoZSBtb3VzZSBmcm9tIHdoZXJlXG4gICAgLy8gd2UgbW92ZWQgdG9cblxuICAgIGlmICh0aGlzLmF4aXMgIT09ICd5Jykge1xuICAgICAgdHJhbnNsYXRlWCA9IHRoaXMuI2RyYWdTdGFydE9mZnNldC54ICsgbW91c2VEZWx0YVg7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuYXhpcyAhPT0gJ3gnKSB7XG4gICAgICB0cmFuc2xhdGVZID0gdGhpcy4jZHJhZ1N0YXJ0T2Zmc2V0LnkgKyBtb3VzZURlbHRhWTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5wYXJlbnRDb250YWlubWVudCkge1xuICAgICAgaWYgKHRoaXMuYXhpcyAhPT0gJ3knKSB7XG4gICAgICAgIHRyYW5zbGF0ZVggPSBNYXRoLm1heCh0aGlzLiN4Zm9ybUJvdW5kcy5sZWZ0LCB0cmFuc2xhdGVYKTtcbiAgICAgICAgdHJhbnNsYXRlWCA9IE1hdGgubWluKHRoaXMuI3hmb3JtQm91bmRzLnJpZ2h0LCB0cmFuc2xhdGVYKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuYXhpcyAhPT0gJ3gnKSB7XG4gICAgICAgIHRyYW5zbGF0ZVkgPSBNYXRoLm1heCh0aGlzLiN4Zm9ybUJvdW5kcy50b3AsIHRyYW5zbGF0ZVkpO1xuICAgICAgICB0cmFuc2xhdGVZID0gTWF0aC5taW4odGhpcy4jeGZvcm1Cb3VuZHMuYm90dG9tLCB0cmFuc2xhdGVZKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5oYXNBdHRyaWJ1dGUoYXR0cmlidXRlcy5NSU5fVFJBTlNGT1JNX1gpKSB7XG4gICAgICB0cmFuc2xhdGVYID0gTWF0aC5tYXgodHJhbnNsYXRlWCwgdGhpcy5taW5UcmFuc2Zvcm1YKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5oYXNBdHRyaWJ1dGUoYXR0cmlidXRlcy5NQVhfVFJBTlNGT1JNX1gpKSB7XG4gICAgICB0cmFuc2xhdGVYID0gTWF0aC5taW4odHJhbnNsYXRlWCwgdGhpcy5tYXhUcmFuc2Zvcm1YKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5oYXNBdHRyaWJ1dGUoYXR0cmlidXRlcy5NSU5fVFJBTlNGT1JNX1kpKSB7XG4gICAgICB0cmFuc2xhdGVZID0gTWF0aC5tYXgodHJhbnNsYXRlWSwgdGhpcy5taW5UcmFuc2Zvcm1ZKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5oYXNBdHRyaWJ1dGUoYXR0cmlidXRlcy5NQVhfVFJBTlNGT1JNX1kpKSB7XG4gICAgICB0cmFuc2xhdGVZID0gTWF0aC5taW4odHJhbnNsYXRlWSwgdGhpcy5tYXhUcmFuc2Zvcm1ZKTtcbiAgICB9XG5cbiAgICB0aGlzLnN0eWxlLnNldFByb3BlcnR5KFxuICAgICAgJ3RyYW5zZm9ybScsXG4gICAgICBgdHJhbnNsYXRlKCR7dHJhbnNsYXRlWH1weCwgJHt0cmFuc2xhdGVZfXB4KWBcbiAgICApO1xuXG4gICAgcmV0dXJuIFt0cmFuc2xhdGVYLCB0cmFuc2xhdGVZXTtcbiAgfTtcblxuICAvKipcbiAgICogY2FsbGVkIG9uIG1vdXNlIG1vdmU7IHRyYW5zZm9ybXMgZWxlbWVudCBmb3JcbiAgICogdHJhbnNpdGlvbiBvZmZzZXQgYW5kIHVwZGF0ZXMgY3Vyc29yIG92ZXJsYXlcbiAgICogZWxlbWVudCBhcyBuZWNlc3NhcnlcbiAgICogQHBhcmFtIHsqfSBlIG1vdXNlbW92ZSBldmVudFxuICAgKi9cbiAgb25Nb3VzZU1vdmU6IGFueSA9IChlOiBhbnkpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgZXZlbnREZXRhaWw6IGFueSA9IHt9O1xuXG4gICAgaWYgKHRoaXMuaXNEcmFnZ2luZykge1xuICAgICAgY29uc3QgZHJhZ0RlbHRhWCA9IGUueCAtIHRoaXMuI2RyYWdTdGFydE1vdXNlUG9pbnQueDtcbiAgICAgIGNvbnN0IGRyYWdEZWx0YVkgPSBlLnkgLSB0aGlzLiNkcmFnU3RhcnRNb3VzZVBvaW50Lnk7XG5cbiAgICAgIC8vIG9uY2UgZHJhZ2dhYmxlIGJvdW5kIHRvIHBhcmVudCB3YXMgdXBkYXRlZCxcbiAgICAgIC8vIHVwZGF0ZSB0aGUgdHJhbnNmb3JtXG5cbiAgICAgIGNvbnN0IFtcbiAgICAgICAgdHJhbnNsYXRlWCxcbiAgICAgICAgdHJhbnNsYXRlWVxuICAgICAgXSA9IHRoaXMuI3VwZGF0ZVRyYW5zZm9ybShkcmFnRGVsdGFYLCBkcmFnRGVsdGFZKTtcblxuICAgICAgaWYgKHRoaXMuI3BhcmVudFJlY3QpIHtcbiAgICAgICAgZXZlbnREZXRhaWwucGFyZW50UmVjdCA9IHRoaXMuI3BhcmVudFJlY3Q7XG4gICAgICB9XG5cbiAgICAgIGV2ZW50RGV0YWlsLm1vdXNlWCA9IGUueDtcbiAgICAgIGV2ZW50RGV0YWlsLm1vdXNlWSA9IGUueTtcbiAgICAgIGV2ZW50RGV0YWlsLmRyYWdEZWx0YVggPSBkcmFnRGVsdGFYO1xuICAgICAgZXZlbnREZXRhaWwuZHJhZ0RlbHRhWSA9IGRyYWdEZWx0YVk7XG4gICAgICBldmVudERldGFpbC50cmFuc2xhdGVYID0gdHJhbnNsYXRlWDtcbiAgICAgIGV2ZW50RGV0YWlsLnRyYW5zbGF0ZVkgPSB0cmFuc2xhdGVZO1xuXG4gICAgICBpZiAodGhpcy4jY3Vyc29yRWwpIHtcbiAgICAgICAgdGhpcy4jY3Vyc29yRWwuc3R5bGUubGVmdCA9IGAke2UueCAtIENVUlNPUl9FTF9TSVpFIC8gMn1weGA7XG4gICAgICAgIHRoaXMuI2N1cnNvckVsLnN0eWxlLnRvcCA9IGAke2UueSAtIENVUlNPUl9FTF9TSVpFIC8gMn1weGA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZXZlbnREZXRhaWwub3JpZ2luYWxFdmVudCA9IGU7XG5cbiAgICB0aGlzLnRyaWdnZXJFdmVudCgnaWRzLWRyYWcnLCB0aGlzLCB7IGRldGFpbDogZXZlbnREZXRhaWwgfSk7XG4gIH07XG5cbiAgb25Nb3VzZVVwOiBhbnkgPSAoZTogYW55KSA9PiB7XG4gICAgaWYgKHRoaXMuaXNEcmFnZ2luZykge1xuICAgICAgdGhpcy5pc0RyYWdnaW5nID0gZmFsc2U7XG4gICAgICBjb25zdCB0cmFuc2xhdGVQb2ludCA9IGdldEVsVHJhbnNsYXRlUG9pbnQodGhpcyk7XG4gICAgICB0aGlzLnRyaWdnZXJFdmVudCgnaWRzLWRyYWdlbmQnLCB0aGlzLCB7XG4gICAgICAgIGRldGFpbDoge1xuICAgICAgICAgIG1vdXNlWDogZS54LFxuICAgICAgICAgIG1vdXNlWTogZS55LFxuICAgICAgICAgIGRyYWdEZWx0YVg6IGUueCAtIHRoaXMuI2RyYWdTdGFydE1vdXNlUG9pbnQueCxcbiAgICAgICAgICBkcmFnRGVsdGFZOiBlLnkgLSB0aGlzLiNkcmFnU3RhcnRNb3VzZVBvaW50LnksXG4gICAgICAgICAgdHJhbnNsYXRlWDogdHJhbnNsYXRlUG9pbnQueCxcbiAgICAgICAgICB0cmFuc2xhdGVZOiB0cmFuc2xhdGVQb2ludC55XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAoZG9jdW1lbnQuYm9keS5xdWVyeVNlbGVjdG9yKCdpZHMtY29udGFpbmVyJykgfHwgZG9jdW1lbnQuYm9keSlcbiAgICAgICAgPy5yZW1vdmVDaGlsZCh0aGlzLiNjdXJzb3JFbCk7XG4gICAgfVxuXG4gICAgdGhpcy5vZmZFdmVudCgnbW91c2Vtb3ZlJywgZG9jdW1lbnQsIHRoaXMub25Nb3VzZU1vdmUpO1xuICAgIHRoaXMub2ZmRXZlbnQoJ21vdXNldXAnLCBkb2N1bWVudCwgdGhpcy5vbk1vdXNlVXApO1xuXG4gICAgdGhpcy4jY3Vyc29yRWwuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJztcbiAgfTtcblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmcgfCBib29sZWFufSB2YWx1ZSBXaGV0aGVyIG9yIG5vdCB0aGlzIGVsZW1lbnRcbiAgICogYW5kIGNvbnRlbnQgaXMgYmVpbmcgZHJhZ2dlZFxuICAgKi9cbiAgc2V0IGlzRHJhZ2dpbmcodmFsdWU6IHN0cmluZyB8IGJvb2xlYW4pIHtcbiAgICBjb25zdCBpc1RydXRoeSA9IHN0cmluZ1RvQm9vbCh2YWx1ZSk7XG5cbiAgICBpZiAoaXNUcnV0aHkgJiYgdGhpcy5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlcy5JU19EUkFHR0lORykgIT09ICcnKSB7XG4gICAgICB0aGlzLnNldEF0dHJpYnV0ZShhdHRyaWJ1dGVzLklTX0RSQUdHSU5HLCAnJyk7XG4gICAgfSBlbHNlIGlmICghaXNUcnV0aHkgJiYgdGhpcy5oYXNBdHRyaWJ1dGUoYXR0cmlidXRlcy5JU19EUkFHR0lORykpIHtcbiAgICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKGF0dHJpYnV0ZXMuSVNfRFJBR0dJTkcpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdmFsdWUgV2hldGhlciBvciBub3QgdGhpcyBlbGVtZW50XG4gICAqIGFuZCBjb250ZW50IGlzIGJlaW5nIGRyYWdnZWRcbiAgICovXG4gIGdldCBpc0RyYWdnaW5nKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBzdHJpbmdUb0Jvb2wodGhpcy5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlcy5JU19EUkFHR0lORykpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgXCJjdXJzb3JcIiBwcm9wZXJ0eSBvZiBjdXJzb3IgZWxlbWVudFxuICAgKiBwbGFjZWQgaW4gZnJvbnQgb2YgZHJhZ1xuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBjdXJzb3IgcHJvcGVydHlcbiAgICovXG4gICNnZXRDdXJzb3JTdHlsZSgpOiBzdHJpbmcge1xuICAgIHN3aXRjaCAodGhpcy5heGlzKSB7XG4gICAgICBjYXNlICd4JzogeyByZXR1cm4gJ2V3LXJlc2l6ZSc7IH1cbiAgICAgIGNhc2UgJ3knOiB7IHJldHVybiAnbnMtcmVzaXplJzsgfVxuICAgICAgZGVmYXVsdDogeyByZXR1cm4gJ21vdmUnOyB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEVsZW1lbnQgdGhhdCBpcyBjdXJyZW50bHkgZHJhZ2dhYmxlO1xuICAgKiBpZiBcImhhbmRsZVwiIGJlY29tZXMgaXQgcG9zc2libHkgYmVjb21lcyB0aGUgc2VsZWN0ZWQgZWxlbWVudC5cbiAgICpcbiAgICogT3RoZXJ3aXNlIGl0IGRlZmF1bHRzIHRvIHRoZSBvdmVyYWxsIGRyYWdnYWJsZSBjb250YWluZXIgKHRoaXMpXG4gICAqL1xuICAjaGFuZGxlRWxlbTogYW55O1xuXG4gIC8qKlxuICAgKiBGaXJzdCBtZWFzdXJhYmxlIHBhcmVudCdzIHJlY3RhbmdsZVxuICAgKiB3aGVuIGEgZHJhZyBpcyBpbml0aWF0ZWRcbiAgICogQHR5cGUge3sgeDogbnVtYmVyLCB5OiBudW1iZXIgfX1cbiAgICovXG4gICNwYXJlbnRSZWN0OiBhbnk7XG5cbiAgLyoqXG4gICAqIFRoZSBwb2ludCB3aGVyZSB3ZSBzdGFydCBkcmFnZ2luZyBvbiB0aGUgbW91c2VcbiAgICogdG8gZGVsdGEgZnJvbSBmb3IgY3VycmVudCB0cmFja2luZy5cbiAgICogQHR5cGUge3sgeDogbnVtYmVyLCB5OiBudW1iZXIgfX1cbiAgICovXG4gICNkcmFnU3RhcnRNb3VzZVBvaW50OiBhbnk7XG5cbiAgLyoqXG4gICAqIFRoZSB0cmFuc2Zvcm0gdHJhbnNsYXRpb24gcG9pbnQgYXBwbGllZCBhdFxuICAgKiB0aGUgdGltZSBvZiBhIGRyYWdzdGFydCBpbiBvcmRlciB0byBjYWxjdWxhdGVcbiAgICogZGVsdGEgZHVyaW5nIGRyYWdcbiAgICogQHR5cGUge3sgeDogbnVtYmVyLCB5OiBudW1iZXIgfX1cbiAgICovXG4gICNkcmFnU3RhcnRPZmZzZXQ6IGFueTtcblxuICAvKipcbiAgICogVGhlIGJvdW5kaW5nIHJlY3RhbmdsZSBvZiB0aGlzIGNvbXBvbmVudCBhdCB0aGVcbiAgICogdGltZSBvZiBhIGRyYWdzdGFydCBvZmZzZXQgYnkgdHJhbnNsYXRlIChzb1xuICAgKiBpdHMgb3JpZ2luYWwgcG9zaXRpb24gaW4gdGhlIGRpdiBvbiBzdGFydCBvZiBkcmFnKVxuICAgKiBAdHlwZSB7eyB4OiBudW1iZXIsIHk6IG51bWJlciB9fVxuICAgKi9cbiAgI2RyYWdTdGFydFJlY3Q6IGFueTtcblxuICAvKipcbiAgICogUmVjdGFuZ2xlIGJvdW5kcyB0aGF0IHRyYW5zZm9ybSBpcyBsaW1pdGVkIHRvIGlmIGRyYWdcbiAgICogaXMgYm91bmRlZCBieSBwYXJlbnRcbiAgICogQHR5cGUge3sgdG9wOiBudW1iZXIsIGJvdHRvbTogbnVtYmVyLCBsZWZ0OiBudW1iZXIsIHJpZ2h0OiBudW1iZXIgfX1cbiAgICovXG4gICN4Zm9ybUJvdW5kczogYW55O1xuXG4gIC8qKlxuICAgKiBFbGVtZW50IHdoaWNoIHByb3ZpZGVzIGN1cnNvciBmb3IgbW91c2Ugd2hlblxuICAgKiBkcmFnZ2luZyBhZnRlciBtb3VzZWRvd24gZXZlbnQgc2luY2Ugd2UgY2FuXG4gICAqIGJpbmQgdG8gWC9ZIGF4ZXMgYW5kIHRoZXJlJ3Mgbm8gd2F5IHRvIG92ZXJyaWRlXG4gICAqIHRoZSBiZWhhdmlvclxuICAgKi9cbiAgI2N1cnNvckVsOiBhbnkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAvKipcbiAgICogVXBkYXRlIHBhcmVudCByZWN0YW5nbGUgc3RvcmVkIGluIHRoaXMuI3BhcmVudFJlY3RcbiAgICogQHBhcmFtIHsqfSBwYXRoIHBhdGggcGFzc2VkIGJ5IG1vdXNlL2RyYWcgZXZlbnRcbiAgICogdG8gdHJhdmVyc2UgdGhyb3VnaCBzaGFkb3cgYW5kIGxpZ2h0RE9NXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICAjdXBkYXRlUGFyZW50UmVjdChwYXRoOiBhbnkpIHtcbiAgICAvLyBpbiBvcmRlciB0byBtZWFzdXJlIHRoZSBzaXplIG9mIHRoZSBwYXJlbnQsXG4gICAgLy8gd2hlbiBkcmFnZ2luZyBoYXMgc3RhcnRlZCwgaXRlcmF0ZSB0aHJvdWdoXG4gICAgLy8gcGF0aCBjYXB0dXJlZCBmcm9tIGRyYWcgdW50aWwgcGFyZW50IGxldmVsXG4gICAgLy8gb3V0c2lkZSBvZiB0aGlzIGRyYWdnYWJsZSBvciBhbiBpbW1lZGlhdGUgSWRzRWxlbWVudFxuICAgIC8vIChlLmcuIG5vbiBzdHlsZWQgY29udGFpbmVyKSBpcyBkZXRlY3RlZFxuICAgIHRoaXMuI3BhcmVudFJlY3QgPSB1bmRlZmluZWQ7XG5cbiAgICBsZXQgcGF0aEVsZW1JbmRleCA9IDA7XG4gICAgbGV0IHBhdGhFbGVtID0gcGF0aFtwYXRoRWxlbUluZGV4XTtcbiAgICBsZXQgaGFzVHJhdmVyc2VkVGhpcyA9IGZhbHNlO1xuICAgIGxldCBpc0F0U2xvdEVsID0gZmFsc2U7XG4gICAgbGV0IGlzQXRTaGFkb3dSb290ID0gZmFsc2U7XG5cbiAgICB3aGlsZSAoXG4gICAgICAoIXRoaXMuI3BhcmVudFJlY3QgfHwgIWhhc1RyYXZlcnNlZFRoaXMgfHwgaXNBdFNoYWRvd1Jvb3QgfHwgaXNBdFNsb3RFbClcbiAgICAgICYmICgocGF0aEVsZW1JbmRleCArIDEpIDwgcGF0aC5sZW5ndGgpXG4gICAgKSB7XG4gICAgICBpZiAocGF0aEVsZW0gPT09IHRoaXMpIHtcbiAgICAgICAgaGFzVHJhdmVyc2VkVGhpcyA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIHBhdGhFbGVtSW5kZXgrKztcbiAgICAgIHBhdGhFbGVtID0gcGF0aFtwYXRoRWxlbUluZGV4XTtcblxuICAgICAgaXNBdFNsb3RFbCA9IHBhdGhFbGVtLnRhZ05hbWUgPT09ICdTTE9UJztcbiAgICAgIGlzQXRTaGFkb3dSb290ID0gcGF0aEVsZW0gaW5zdGFuY2VvZiBTaGFkb3dSb290O1xuXG4gICAgICBpZiAoaXNBdFNoYWRvd1Jvb3QgfHwgaXNBdFNsb3RFbCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVjdCA9IHBhdGhFbGVtPy5nZXRCb3VuZGluZ0NsaWVudFJlY3Q/LigpO1xuXG4gICAgICAvLyBvbmx5IHVzZSBhcyBwYXJlbnQgaWYgbm90IGEgbm9uLXByZXNlbnRhdGlvbmFsIHJlY3RhbmdsZXMgKGUuZy5cbiAgICAgIC8vIHRoZSBwYXJlbnQgSWRzRWxlbWVudCB3aGljaCBoYXMgbm8gZXhwbGljaXQgc3R5bGluZzsgaGVuY2VcbiAgICAgIC8vIHplcm8td2lkdGggb3IgemVyby1oZWlnaHQgcmVuZGVyZWQpXG5cbiAgICAgIGlmIChyZWN0Py5oZWlnaHQgIT09IDAgJiYgcmVjdD8ud2lkdGggIT09IDApIHtcbiAgICAgICAgdGhpcy4jcGFyZW50UmVjdCA9IHJlY3Q7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nIHwgbnVtYmVyfSB2YWx1ZSBUaGUgbWF4IGNvb3JkaW5hdGVzIHJlbGF0aXZlXG4gICAqIHRvIHRoZSBvdmVyYWxsIGRpdjsgZS5nLiBcImxlZnQ6IC0yMDsgcmlnaHQ6IC0yMFwiIHdvdWxkIGV4dGVuZFxuICAgKiB0aGUgbWluaW11bSB4IGFuZCBtYXhpbXVtIHggZnJvbSBjdXJyZW50IGNvbnRhaW5lclxuICAgKiBib3VuZHMsIG9yIFwidG9wOiAxMDsgYm90dG9tOiAyMFwiIHdvdWxkIG1ha2UgdGhlIHRvcCAodXB3YXJkc1xuICAgKiBib3VuZHMpIDEwIGJlbG93IHRoZSB0b3Agb3IgMjAgYmVsb3cgdGhlIGJvdHRvbSkuXG4gICAqL1xuICBzZXQgcmVsYXRpdmVCb3VuZHModmFsdWU6IHN0cmluZyB8IG51bWJlciB8IG51bGwpIHtcbiAgICBpZiAodmFsdWUpIHtcbiAgICAgIHRoaXMuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZXMuUkVMQVRJVkVfQk9VTkRTLCBTdHJpbmcodmFsdWUpKTtcbiAgICAgIHRoaXMuI3VwZGF0ZVJlbGF0aXZlQm91bmRzKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKGF0dHJpYnV0ZXMuUkVMQVRJVkVfQk9VTkRTKTtcbiAgfVxuXG4gIGdldCByZWxhdGl2ZUJvdW5kcygpOiBzdHJpbmcgfCBudWxsIHtcbiAgICByZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlcy5SRUxBVElWRV9CT1VORFMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7e1xuICAgKiAgbGVmdDogbnVtYmVyLFxuICAgKiAgdG9wOiBudW1iZXIsXG4gICAqICByaWdodDogbnVtYmVyLFxuICAgKiAgYm90dG9tOiBudW1iZXJcbiAgICogfX0gYm91bmRzIHJlY3RhbmdsZSBib3VuZHMgdG8gaGFzaFxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBhIGhhc2ggZm9yIGJvdW5kcyBpbiBhIHByZWRpY3RhYmxlXG4gICAqIG9yZGVyIHRoYXQgY2FuIGJlIGRpZmZlZCBmb3IgYXR0cmlidXRlIGNoYW5nZXNcbiAgICovXG4gIGdldEJvdW5kc0hhc2goYm91bmRzOiBhbnkpIHtcbiAgICByZXR1cm4gKFxuICAgICAgYCR7Ym91bmRzPy5sZWZ0IHx8IDBcbiAgICAgIH1fJHtcbiAgICAgICAgYm91bmRzPy5yaWdodCB8fCAwXG4gICAgICB9XyR7XG4gICAgICAgIGJvdW5kcz8udG9wIHx8IDBcbiAgICAgIH1fJHtib3VuZHM/LmJvdHRvbSB8fCAwfWBcbiAgICApO1xuICB9XG5cbiAgI3VwZGF0ZVJlbGF0aXZlQm91bmRzKCkge1xuICAgIGNvbnN0IHJlbGF0aXZlQm91bmRzQXR0ciA9IHRoaXMuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZXMuUkVMQVRJVkVfQk9VTkRTKTtcbiAgICBjb25zdCBuZXdCb3VuZHMgPSBPYmplY3QuZnJvbUVudHJpZXMocmVsYXRpdmVCb3VuZHNBdHRyPy5zcGxpdCgnOycpLm1hcCgoc3RyOiBzdHJpbmcpID0+IHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnNhZmUtb3B0aW9uYWwtY2hhaW5pbmdcbiAgICAgIGNvbnN0IFtrU3RyLCB2U3RyXSA9IHN0cj8uc3BsaXQ/LignOicpO1xuICAgICAgcmV0dXJuIFtrU3RyLCAhTnVtYmVyLmlzTmFOKHBhcnNlSW50KHZTdHIpKSA/IHBhcnNlSW50KHZTdHIpIDogMF07XG4gICAgfSkgPz8gW10pO1xuXG4gICAgaWYgKHRoaXMuZ2V0Qm91bmRzSGFzaChuZXdCb3VuZHMpICE9PSB0aGlzLmdldEJvdW5kc0hhc2godGhpcy4jcmVsYXRpdmVCb3VuZHMpKSB7XG4gICAgICB0aGlzLiNyZWxhdGl2ZUJvdW5kcyA9IG5ld0JvdW5kcztcbiAgICB9XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/ids-draggable/ids-draggable.ts\n");

/***/ }),

/***/ "./src/components/ids-draggable/ids-draggable.scss":
/*!*********************************************************!*\
  !*** ./src/components/ids-draggable/ids-draggable.scss ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n\n        const styles = `:host(ids-draggable) {\n  height: fit-content;\n  width: fit-content;\n}\n\n:host(ids-draggable:not([handle])) {\n  cursor: move;\n  touch-action: none;\n}\n\n:host(ids-draggable[disabled]:not([handle])) {\n  cursor: inherit;\n}\n\n:host(ids-draggable[axis=x]:not([disabled])) {\n  cursor: ew-resize;\n}\n\n:host(ids-draggable[axis=y]:not([disabled])) {\n  cursor: ns-resize;\n}\n\nids-draggable[is-dragging]:not([handle]) {\n  cursor: grabbing;\n}`;\n        /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (styles);\n    //# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9pZHMtZHJhZ2dhYmxlL2lkcy1kcmFnZ2FibGUuc2Nzcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7RUFDRTtFQUNBOzs7QUFHRjtFQUNFO0VBQ0E7OztBQUdGO0VBQ0U7OztBQUdGO0VBQ0U7OztBQUdGO0VBQ0U7OztBQUdGO0VBQ0UiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pZHMtZW50ZXJwcmlzZS13Yy8uL3NyYy9jb21wb25lbnRzL2lkcy1kcmFnZ2FibGUvaWRzLWRyYWdnYWJsZS5zY3NzP2Y5MmQiXSwic291cmNlc0NvbnRlbnQiOlsiOmhvc3QoaWRzLWRyYWdnYWJsZSkge1xuICBoZWlnaHQ6IGZpdC1jb250ZW50O1xuICB3aWR0aDogZml0LWNvbnRlbnQ7XG59XG5cbjpob3N0KGlkcy1kcmFnZ2FibGU6bm90KFtoYW5kbGVdKSkge1xuICBjdXJzb3I6IG1vdmU7XG4gIHRvdWNoLWFjdGlvbjogbm9uZTtcbn1cblxuOmhvc3QoaWRzLWRyYWdnYWJsZVtkaXNhYmxlZF06bm90KFtoYW5kbGVdKSkge1xuICBjdXJzb3I6IGluaGVyaXQ7XG59XG5cbjpob3N0KGlkcy1kcmFnZ2FibGVbYXhpcz0neCddOm5vdChbZGlzYWJsZWRdKSkge1xuICBjdXJzb3I6IGV3LXJlc2l6ZTtcbn1cblxuOmhvc3QoaWRzLWRyYWdnYWJsZVtheGlzPSd5J106bm90KFtkaXNhYmxlZF0pKSB7XG4gIGN1cnNvcjogbnMtcmVzaXplO1xufVxuXG5pZHMtZHJhZ2dhYmxlW2lzLWRyYWdnaW5nXTpub3QoW2hhbmRsZV0pIHtcbiAgY3Vyc29yOiBncmFiYmluZztcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/ids-draggable/ids-draggable.scss\n");

/***/ })

}]);