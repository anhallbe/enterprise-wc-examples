"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkids_enterprise_wc"] = self["webpackChunkids_enterprise_wc"] || []).push([["src_components_ids-draggable_ids-draggable_ts"],{

/***/ "./src/components/ids-draggable/get-el-translate-point.ts":
/*!****************************************************************!*\
  !*** ./src/components/ids-draggable/get-el-translate-point.ts ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ getElTranslatePoint)\n/* harmony export */ });\nfunction getElTranslatePoint(element) {\n  const style = window.getComputedStyle(element);\n  const matrix = style.transform;\n  if (matrix === \"none\" || !matrix) {\n    return { x: 0, y: 0, z: 0 };\n  }\n  const matrixType = matrix.includes(\"3d\") ? \"3d\" : \"2d\";\n  const matrixValues = matrix.match(/matrix.*\\((.+)\\)/)?.[1]?.split(\", \");\n  if (!matrixValues) {\n    return { x: 0, y: 0, z: 0 };\n  }\n  if (matrixType === \"2d\") {\n    return {\n      x: Number.parseFloat(matrixValues[4]),\n      y: Number.parseFloat(matrixValues[5]),\n      z: 0\n    };\n  }\n  return {\n    x: parseFloat(matrixValues[12]),\n    y: parseFloat(matrixValues[13]),\n    z: parseFloat(matrixValues[14])\n  };\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9pZHMtZHJhZ2dhYmxlL2dldC1lbC10cmFuc2xhdGUtcG9pbnQudHMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQWVlLFNBQVIsb0JBQXFDLFNBQW1CO0FBQzdELFFBQU0sUUFBUSxPQUFPLGlCQUFpQixPQUFPO0FBQzdDLFFBQU0sU0FBUyxNQUFNO0FBR3JCLE1BQUksV0FBVyxVQUFVLENBQUMsUUFBUTtBQUNoQyxXQUFPLEVBQUUsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEVBQUU7QUFBQSxFQUM1QjtBQUdBLFFBQU0sYUFBYSxPQUFPLFNBQVMsSUFBSSxJQUFJLE9BQU87QUFHbEQsUUFBTSxlQUFlLE9BQU8sTUFBTSxrQkFBa0IsSUFBSSxDQUFDLEdBQUcsTUFBTSxJQUFJO0FBRXRFLE1BQUksQ0FBQyxjQUFjO0FBQ2pCLFdBQU8sRUFBRSxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsRUFBRTtBQUFBLEVBQzVCO0FBS0EsTUFBSSxlQUFlLE1BQU07QUFDdkIsV0FBTztBQUFBLE1BQ0wsR0FBRyxPQUFPLFdBQVcsYUFBYSxDQUFDLENBQUM7QUFBQSxNQUNwQyxHQUFHLE9BQU8sV0FBVyxhQUFhLENBQUMsQ0FBQztBQUFBLE1BQ3BDLEdBQUc7QUFBQSxJQUNMO0FBQUEsRUFDRjtBQUlBLFNBQU87QUFBQSxJQUNMLEdBQUcsV0FBVyxhQUFhLEVBQUUsQ0FBQztBQUFBLElBQzlCLEdBQUcsV0FBVyxhQUFhLEVBQUUsQ0FBQztBQUFBLElBQzlCLEdBQUcsV0FBVyxhQUFhLEVBQUUsQ0FBQztBQUFBLEVBQ2hDO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pZHMtZW50ZXJwcmlzZS13Yy8uL3NyYy9jb21wb25lbnRzL2lkcy1kcmFnZ2FibGUvZ2V0LWVsLXRyYW5zbGF0ZS1wb2ludC50cz8xNDA0Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQHR5cGVkZWYgVHJhbnNsYXRpb25Qb2ludFxuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB4PyB4LW9mZnNldFxuICogQHByb3BlcnR5IHtudW1iZXJ9IHk/IHktb2Zmc2V0XG4gKiBAcHJvcGVydHkge251bWJlcn0gej8gei1vZmZzZXRcbiAqL1xuXG4vKipcbiAqIEdldHMgY29tcHV0ZWQgdHJhbnNsYXRlIHZhbHVlcyBmcm9tIHN0eWxlIHByb3A7IGFkYXB0ZWQgZnJvbTpcbiAqIGh0dHBzOi8vemVsbHdrLmNvbS9ibG9nL2Nzcy10cmFuc2xhdGUtdmFsdWVzLWluLWphdmFzY3JpcHQvXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCBlbGVtZW50IHRvIGdyYWIgdHJhbnNsYXRpb24gcG9pbnQgZnJvbSBpdCdzIHN0eWxlcyB3aXRoXG4gKiBAcmV0dXJucyB7VHJhbnNsYXRpb25Qb2ludH0gdHJhbnNsYXRpb24gcG9pbnQgaWYgYXZhaWxhYmxlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldEVsVHJhbnNsYXRlUG9pbnQoZWxlbWVudDogYW55KTogYW55IHtcbiAgY29uc3Qgc3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbiAgY29uc3QgbWF0cml4ID0gc3R5bGUudHJhbnNmb3JtO1xuXG4gIC8vIE5vIHRyYW5zZm9ybSBwcm9wZXJ0eS4gU2ltcGx5IHJldHVybiAwIHZhbHVlcy5cbiAgaWYgKG1hdHJpeCA9PT0gJ25vbmUnIHx8ICFtYXRyaXgpIHtcbiAgICByZXR1cm4geyB4OiAwLCB5OiAwLCB6OiAwIH07XG4gIH1cblxuICAvLyBDYW4gZWl0aGVyIGJlIDJkIG9yIDNkIHRyYW5zZm9ybVxuICBjb25zdCBtYXRyaXhUeXBlID0gbWF0cml4LmluY2x1ZGVzKCczZCcpID8gJzNkJyA6ICcyZCc7XG5cbiAgLy8gdGhlIGZvbGxvd2luZyBjaGVja3MgYXJlIG5lZWQgZm9yIG5vbiBzdGFuZGFyZCBlbnZzIGUuZy4gSmVzdCBvciBTU1JcbiAgY29uc3QgbWF0cml4VmFsdWVzID0gbWF0cml4Lm1hdGNoKC9tYXRyaXguKlxcKCguKylcXCkvKT8uWzFdPy5zcGxpdCgnLCAnKTtcblxuICBpZiAoIW1hdHJpeFZhbHVlcykge1xuICAgIHJldHVybiB7IHg6IDAsIHk6IDAsIHo6IDAgfTtcbiAgfVxuXG4gIC8vIDJkIG1hdHJpY2VzIGhhdmUgNiB2YWx1ZXNcbiAgLy8gTGFzdCAyIHZhbHVlcyBhcmUgWCBhbmQgWS5cbiAgLy8gMmQgbWF0cmljZXMgZG9lcyBub3QgaGF2ZSBaIHZhbHVlLlxuICBpZiAobWF0cml4VHlwZSA9PT0gJzJkJykge1xuICAgIHJldHVybiB7XG4gICAgICB4OiBOdW1iZXIucGFyc2VGbG9hdChtYXRyaXhWYWx1ZXNbNF0pLFxuICAgICAgeTogTnVtYmVyLnBhcnNlRmxvYXQobWF0cml4VmFsdWVzWzVdKSxcbiAgICAgIHo6IDBcbiAgICB9O1xuICB9XG5cbiAgLy8gM2QgbWF0cmljZXMgaGF2ZSAxNiB2YWx1ZXNcbiAgLy8gVGhlIDEzdGgsIDE0dGgsIGFuZCAxNXRoIHZhbHVlcyBhcmUgWCwgWSwgYW5kIFpcbiAgcmV0dXJuIHtcbiAgICB4OiBwYXJzZUZsb2F0KG1hdHJpeFZhbHVlc1sxMl0pLFxuICAgIHk6IHBhcnNlRmxvYXQobWF0cml4VmFsdWVzWzEzXSksXG4gICAgejogcGFyc2VGbG9hdChtYXRyaXhWYWx1ZXNbMTRdKVxuICB9O1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/ids-draggable/get-el-translate-point.ts\n");

/***/ }),

/***/ "./src/components/ids-draggable/ids-draggable.ts":
/*!*******************************************************!*\
  !*** ./src/components/ids-draggable/ids-draggable.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ IdsDraggable)\n/* harmony export */ });\n/* harmony import */ var _core_ids_decorators__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/ids-decorators */ \"./src/core/ids-decorators.ts\");\n/* harmony import */ var _core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/ids-attributes */ \"./src/core/ids-attributes.ts\");\n/* harmony import */ var _utils_ids_string_utils_ids_string_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/ids-string-utils/ids-string-utils */ \"./src/utils/ids-string-utils/ids-string-utils.ts\");\n/* harmony import */ var _mixins_ids_events_mixin_ids_events_mixin__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../mixins/ids-events-mixin/ids-events-mixin */ \"./src/mixins/ids-events-mixin/ids-events-mixin.ts\");\n/* harmony import */ var _core_ids_element__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/ids-element */ \"./src/core/ids-element.ts\");\n/* harmony import */ var _get_el_translate_point__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./get-el-translate-point */ \"./src/components/ids-draggable/get-el-translate-point.ts\");\n/* harmony import */ var _ids_draggable_scss__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ids-draggable.scss */ \"./src/components/ids-draggable/ids-draggable.scss\");\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __decorateClass = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp(target, key, result);\n  return result;\n};\n\n\n\n\n\n\n\nconst CURSOR_EL_SIZE = 32;\nlet IdsDraggable = class extends (0,_mixins_ids_events_mixin_ids_events_mixin__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(_core_ids_element__WEBPACK_IMPORTED_MODULE_4__[\"default\"]) {\n  #relativeBounds = {};\n  constructor() {\n    super();\n  }\n  /**\n   * Return the properties we handle as getters/setters\n   * @returns {Array} The properties in an array\n   */\n  static get attributes() {\n    return [\n      ...super.attributes,\n      _core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.AXIS,\n      _core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.DISABLED,\n      _core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.HANDLE,\n      _core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.IS_DRAGGING,\n      _core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.MAX_TRANSFORM_X,\n      _core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.MAX_TRANSFORM_Y,\n      _core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.MIN_TRANSFORM_X,\n      _core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.MIN_TRANSFORM_Y,\n      _core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.PARENT_CONTAINMENT\n    ];\n  }\n  /**\n   * @returns {string} The template innerHTML to render\n   */\n  template() {\n    return `<slot></slot>`;\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    this.#updateHandleElem();\n    this.#cursorEl.style.position = \"absolute\";\n    this.#cursorEl.style.opacity = 0;\n    this.#cursorEl.style.width = `${CURSOR_EL_SIZE}px`;\n    this.#cursorEl.style.height = `${CURSOR_EL_SIZE}px`;\n    this.#cursorEl.style.cursor = this.#getCursorStyle();\n  }\n  disconnectedCallback() {\n    super.disconnectedCallback();\n  }\n  /**\n   * @param {\"x\"|\"y\"|undefined} value The axis that the draggable content will\n   * be moving along (e.g. X => horizontal, Y => vertical);\n   * By default, not defined and supports both axes.\n   */\n  set axis(value) {\n    let nextValue;\n    switch (value) {\n      case \"y\": {\n        nextValue = \"y\";\n        break;\n      }\n      case \"x\": {\n        nextValue = \"x\";\n        break;\n      }\n      default: {\n        nextValue = void 0;\n        break;\n      }\n    }\n    if (nextValue) {\n      this.setAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.AXIS, nextValue);\n      this.isDragging = false;\n      this.#cursorEl.style.cursor = this.#getCursorStyle();\n    } else if (!nextValue && this.hasAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.AXIS)) {\n      this.removeAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.AXIS);\n      this.isDragging = false;\n      this.#cursorEl.style.cursor = this.#getCursorStyle();\n    }\n  }\n  /**\n   * @returns {\"x\"|\"y\"|null} value The axis that the draggable content will\n   * be moving along (e.g. X => horizontal, Y => vertical);\n   * By default not defined and supports both axes.\n   */\n  get axis() {\n    return this.getAttribute(\"axis\");\n  }\n  /**\n   * @param {string | boolean} value Whether the draggable should be limited in range\n   * by its parent element\n   */\n  set parentContainment(value) {\n    const isTruthy = (0,_utils_ids_string_utils_ids_string_utils__WEBPACK_IMPORTED_MODULE_2__.stringToBool)(value);\n    if (isTruthy) {\n      if (this.getAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.PARENT_CONTAINMENT) !== \"\") {\n        this.setAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.PARENT_CONTAINMENT, \"\");\n      }\n    } else if (!isTruthy && this.hasAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.PARENT_CONTAINMENT)) {\n      this.removeAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.PARENT_CONTAINMENT);\n    }\n  }\n  /**\n   * @returns {boolean} value Whether the draggable should be limited in range\n   * by its parent element\n   */\n  get parentContainment() {\n    return (0,_utils_ids_string_utils_ids_string_utils__WEBPACK_IMPORTED_MODULE_2__.stringToBool)(this.getAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.PARENT_CONTAINMENT));\n  }\n  /**\n   * @param {string | boolean} value Whether or not draggable functionality is to be disabled\n   */\n  set disabled(value) {\n    const isTruthy = (0,_utils_ids_string_utils_ids_string_utils__WEBPACK_IMPORTED_MODULE_2__.stringToBool)(value);\n    if (isTruthy && this.getAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.DISABLED) !== \"\") {\n      this.offEvent(\"mousemove\", window.document, this.onMouseMove);\n      this.setAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.DISABLED, \"\");\n    } else if (!isTruthy && this.hasAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.DISABLED)) {\n      this.removeAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.DISABLED);\n    }\n  }\n  /**\n   * @returns {boolean} value Whether or not draggable functionality is disabled\n   */\n  get disabled() {\n    return (0,_utils_ids_string_utils_ids_string_utils__WEBPACK_IMPORTED_MODULE_2__.stringToBool)(this.getAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.DISABLED));\n  }\n  /**\n   * @param {string} value A query selector representing an optional handle that can be used to\n   * drag the content of the draggable\n   */\n  set handle(value) {\n    if (this.getAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.HANDLE) !== value) {\n      if (this.hasAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.HANDLE) && !value) {\n        this.removeAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.HANDLE);\n      } else if (value) {\n        this.setAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.HANDLE, value);\n      }\n      this.#updateHandleElem();\n    }\n  }\n  /**\n   * @returns {string} value A query selector representing an optional handle that can be used to\n   * drag the content of the draggable\n   */\n  get handle() {\n    return this.getAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.HANDLE);\n  }\n  #updateHandleElem = () => {\n    this.offEvent(\"mousedown\", this.#handleElem);\n    this.offEvent(\"mouseup\", window.document, this.onMouseUp);\n    this.offEvent(\"mousemove\", window.document, this.onMouseMove);\n    this.#handleElem = this.handle ? document.querySelector(this.handle) || this : this;\n    if (this.#handleElem !== this) {\n      this.#handleElem.style.cursor = this.#getCursorStyle();\n    }\n    this.onEvent(\"mousedown\", this.#handleElem, (e) => {\n      if (this.disabled || e.button !== 0) {\n        return;\n      }\n      e.preventDefault();\n      this.isDragging = true;\n      this.onEvent(\"mouseup\", document, this.onMouseUp);\n      this.onEvent(\"mousemove\", document, this.onMouseMove);\n      if (this.parentContainment) {\n        this.#updateParentRect(e?.path || e?.composedPath?.());\n      }\n      this.#dragStartMousePoint = { x: e.x, y: e.y };\n      const dragOffset = (0,_get_el_translate_point__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(this);\n      this.#dragStartOffset = {\n        x: this.axis !== \"y\" ? dragOffset.x : 0,\n        y: this.axis !== \"x\" ? dragOffset.y : 0\n      };\n      this.triggerEvent(\"ids-dragstart\", this, {\n        detail: {\n          mouseX: e.x,\n          mouseY: e.y,\n          translateX: this.#dragStartOffset.x,\n          transitionY: this.#dragStartOffset.y\n        }\n      });\n      const thisRect = this.getBoundingClientRect();\n      this.#dragStartRect = {\n        width: thisRect.width,\n        height: thisRect.height,\n        left: thisRect.left - this.#dragStartOffset.x,\n        right: thisRect.right - this.#dragStartOffset.x,\n        top: thisRect.top - this.#dragStartOffset.y,\n        bottom: thisRect.bottom - this.#dragStartOffset.y\n      };\n      let parentLOffset = 0;\n      let parentROffset = 0;\n      let parentTOffset = 0;\n      let parentBOffset = 0;\n      if (this.#parentRect) {\n        parentLOffset = this.#parentRect.left - this.#dragStartRect.left;\n        parentROffset = this.#parentRect.right - this.#dragStartRect.right;\n        parentTOffset = this.#parentRect.top - this.#dragStartRect.top;\n        parentBOffset = this.#parentRect.bottom - this.#dragStartRect.bottom;\n      }\n      this.#xformBounds = {\n        left: parentLOffset + (this.#relativeBounds.left || 0),\n        right: parentROffset - (this.#relativeBounds.right || 0),\n        top: parentTOffset + (this.#relativeBounds.top || 0),\n        bottom: parentBOffset - (this.#relativeBounds.bottom || 0)\n      };\n      this.#cursorEl.style.pointerEvents = \"all\";\n      (document.body.querySelector(\"ids-container\") || document.body).appendChild(this.#cursorEl);\n    });\n  };\n  /**\n   * sets an optional integer attribute for an element\n   * (may offload as general util; just need to think\n   * through this a bit more)\n   * @param {HTMLElement} elem ids element to update\n   * @param {string} attribute the attribute to update\n   * @param {any} value a value to set on the\n   */\n  #setIntAttribute(elem, attribute, value) {\n    const nextValue = parseInt(value);\n    if (nextValue !== null && !Number.isNaN(nextValue)) {\n      if (parseInt(elem.getAttribute(attribute)) !== nextValue) {\n        elem.setAttribute(attribute, nextValue);\n      }\n    } else if (value === null && elem.hasAttribute(attribute)) {\n      elem.removeAttribute(attribute);\n    }\n  }\n  set minTransformX(value) {\n    this.#setIntAttribute(this, _core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.MIN_TRANSFORM_X, value);\n  }\n  get minTransformX() {\n    return parseInt(this.getAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.MIN_TRANSFORM_X) ?? \"0\");\n  }\n  set maxTransformX(value) {\n    this.#setIntAttribute(this, _core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.MAX_TRANSFORM_X, value);\n  }\n  get maxTransformX() {\n    return parseInt(this.getAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.MAX_TRANSFORM_X) ?? \"0\");\n  }\n  set minTransformY(value) {\n    this.#setIntAttribute(this, _core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.MIN_TRANSFORM_Y, value);\n  }\n  get minTransformY() {\n    return parseInt(this.getAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.MIN_TRANSFORM_Y) ?? \"0\");\n  }\n  get maxTransformY() {\n    return parseInt(this.getAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.MAX_TRANSFORM_Y) ?? \"0\");\n  }\n  set maxTransformY(value) {\n    this.#setIntAttribute(this, _core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.MAX_TRANSFORM_Y, value);\n  }\n  /**\n   * update the transform with respect to containment\n   * and min/max transform bounds\n   *\n   * @param {number} mouseDeltaX mouse delta x\n   * @param {number} mouseDeltaY mouse delta y\n   * @returns {Array} [transformX, transformY]\n   */\n  #updateTransform = (mouseDeltaX, mouseDeltaY) => {\n    let translateX = 0;\n    let translateY = 0;\n    if (this.axis !== \"y\") {\n      translateX = this.#dragStartOffset.x + mouseDeltaX;\n    }\n    if (this.axis !== \"x\") {\n      translateY = this.#dragStartOffset.y + mouseDeltaY;\n    }\n    if (this.parentContainment) {\n      if (this.axis !== \"y\") {\n        translateX = Math.max(this.#xformBounds.left, translateX);\n        translateX = Math.min(this.#xformBounds.right, translateX);\n      }\n      if (this.axis !== \"x\") {\n        translateY = Math.max(this.#xformBounds.top, translateY);\n        translateY = Math.min(this.#xformBounds.bottom, translateY);\n      }\n    }\n    if (this.hasAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.MIN_TRANSFORM_X)) {\n      translateX = Math.max(translateX, this.minTransformX);\n    }\n    if (this.hasAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.MAX_TRANSFORM_X)) {\n      translateX = Math.min(translateX, this.maxTransformX);\n    }\n    if (this.hasAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.MIN_TRANSFORM_Y)) {\n      translateY = Math.max(translateY, this.minTransformY);\n    }\n    if (this.hasAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.MAX_TRANSFORM_Y)) {\n      translateY = Math.min(translateY, this.maxTransformY);\n    }\n    this.style.setProperty(\n      \"transform\",\n      `translate(${translateX}px, ${translateY}px)`\n    );\n    return [translateX, translateY];\n  };\n  /**\n   * called on mouse move; transforms element for\n   * transition offset and updates cursor overlay\n   * element as necessary\n   *\n   * @param {*} e mousemove event\n   */\n  onMouseMove = (e) => {\n    e.preventDefault();\n    const eventDetail = {};\n    if (this.isDragging) {\n      const dragDeltaX = e.x - this.#dragStartMousePoint.x;\n      const dragDeltaY = e.y - this.#dragStartMousePoint.y;\n      const [\n        translateX,\n        translateY\n      ] = this.#updateTransform(dragDeltaX, dragDeltaY);\n      if (this.#parentRect) {\n        eventDetail.parentRect = this.#parentRect;\n      }\n      eventDetail.mouseX = e.x;\n      eventDetail.mouseY = e.y;\n      eventDetail.dragDeltaX = dragDeltaX;\n      eventDetail.dragDeltaY = dragDeltaY;\n      eventDetail.translateX = translateX;\n      eventDetail.translateY = translateY;\n      if (this.#cursorEl) {\n        this.#cursorEl.style.left = `${e.x - CURSOR_EL_SIZE / 2}px`;\n        this.#cursorEl.style.top = `${e.y - CURSOR_EL_SIZE / 2}px`;\n      }\n    }\n    eventDetail.originalEvent = e;\n    this.triggerEvent(\"ids-drag\", this, { detail: eventDetail });\n  };\n  onMouseUp = (e) => {\n    if (this.isDragging) {\n      this.isDragging = false;\n      const translatePoint = (0,_get_el_translate_point__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(this);\n      this.triggerEvent(\"ids-dragend\", this, {\n        detail: {\n          mouseX: e.x,\n          mouseY: e.y,\n          dragDeltaX: e.x - this.#dragStartMousePoint.x,\n          dragDeltaY: e.y - this.#dragStartMousePoint.y,\n          translateX: translatePoint.x,\n          translateY: translatePoint.y\n        }\n      });\n      (document.body.querySelector(\"ids-container\") || document.body)?.removeChild(this.#cursorEl);\n    }\n    this.offEvent(\"mousemove\", document, this.onMouseMove);\n    this.offEvent(\"mouseup\", document, this.onMouseUp);\n    this.#cursorEl.style.pointerEvents = \"none\";\n  };\n  /**\n   * @param {string | boolean} value Whether or not this element\n   * and content is being dragged\n   */\n  set isDragging(value) {\n    const isTruthy = (0,_utils_ids_string_utils_ids_string_utils__WEBPACK_IMPORTED_MODULE_2__.stringToBool)(value);\n    if (isTruthy && this.getAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.IS_DRAGGING) !== \"\") {\n      this.setAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.IS_DRAGGING, \"\");\n    } else if (!isTruthy && this.hasAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.IS_DRAGGING)) {\n      this.removeAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.IS_DRAGGING);\n    }\n  }\n  /**\n   * @returns {boolean} value Whether or not this element\n   * and content is being dragged\n   */\n  get isDragging() {\n    return (0,_utils_ids_string_utils_ids_string_utils__WEBPACK_IMPORTED_MODULE_2__.stringToBool)(this.getAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.IS_DRAGGING));\n  }\n  /**\n   * Get the \"cursor\" property of cursor element\n   * placed in front of drag\n   *\n   * @returns {string} cursor property\n   */\n  #getCursorStyle() {\n    switch (this.axis) {\n      case \"x\": {\n        return \"ew-resize\";\n      }\n      case \"y\": {\n        return \"ns-resize\";\n      }\n      default: {\n        return \"move\";\n      }\n    }\n  }\n  /**\n   * Element that is currently draggable;\n   * if \"handle\" becomes it possibly becomes the selected element.\n   *\n   * Otherwise it defaults to the overall draggable container (this)\n   */\n  #handleElem;\n  /**\n   * First measurable parent's rectangle\n   * when a drag is initiated\n   *\n   * @type {{ x: number, y: number }}\n   */\n  #parentRect;\n  /**\n   * The point where we start dragging on the mouse\n   * to delta from for current tracking.\n   *\n   * @type {{ x: number, y: number }}\n   */\n  #dragStartMousePoint;\n  /**\n   * The transform translation point applied at\n   * the time of a dragstart in order to calculate\n   * delta during drag\n   *\n   * @type {{ x: number, y: number }}\n   */\n  #dragStartOffset;\n  /**\n   * The bounding rectangle of this component at the\n   * time of a dragstart offset by translate (so\n   * its original position in the div on start of drag)\n   * @type {{ x: number, y: number }}\n   */\n  #dragStartRect;\n  /**\n   * Rectangle bounds that transform is limited to if drag\n   * is bounded by parent\n   *\n   * @type {{ top: number, bottom: number, left: number, right: number }}\n   */\n  #xformBounds;\n  /**\n   * Element which provides cursor for mouse when\n   * dragging after mousedown event since we can\n   * bind to X/Y axes and there's no way to override\n   * the behavior\n   */\n  #cursorEl = document.createElement(\"div\");\n  /**\n   * Update parent rectangle stored in this.#parentRect\n   *\n   * @param {*} path path passed by mouse/drag event\n   * to traverse through shadow and lightDOM\n   * @private\n   */\n  #updateParentRect(path) {\n    this.#parentRect = void 0;\n    let pathElemIndex = 0;\n    let pathElem = path[pathElemIndex];\n    let hasTraversedThis = false;\n    let isAtSlotEl = false;\n    let isAtShadowRoot = false;\n    while ((!this.#parentRect || !hasTraversedThis || isAtShadowRoot || isAtSlotEl) && pathElemIndex + 1 < path.length) {\n      if (pathElem === this) {\n        hasTraversedThis = true;\n      }\n      pathElemIndex++;\n      pathElem = path[pathElemIndex];\n      isAtSlotEl = pathElem.tagName === \"SLOT\";\n      isAtShadowRoot = pathElem instanceof ShadowRoot;\n      if (isAtShadowRoot || isAtSlotEl) {\n        continue;\n      }\n      const rect = pathElem?.getBoundingClientRect?.();\n      if (rect?.height !== 0 && rect?.width !== 0) {\n        this.#parentRect = rect;\n      }\n    }\n  }\n  /**\n   * @param {string | number} value The max coordinates relative\n   * to the overall div; e.g. \"left: -20; right: -20\" would extend\n   * the minimum x and maximum x from current container\n   * bounds, or \"top: 10; bottom: 20\" would make the top (upwards\n   * bounds) 10 below the top or 20 below the bottom).\n   */\n  set relativeBounds(value) {\n    if (value) {\n      this.setAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.RELATIVE_BOUNDS, String(value));\n      this.#updateRelativeBounds();\n      return;\n    }\n    this.removeAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.RELATIVE_BOUNDS);\n  }\n  get relativeBounds() {\n    return this.getAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.RELATIVE_BOUNDS);\n  }\n  /**\n   * @param {{\n   *  left: number,\n   *  top: number,\n   *  right: number,\n   *  bottom: number\n   * }} bounds rectangle bounds to hash\n   * @returns {string} a hash for bounds in a predictable\n   * order that can be diffed for attribute changes\n   */\n  getBoundsHash(bounds) {\n    return `${bounds?.left || 0}_${bounds?.right || 0}_${bounds?.top || 0}_${bounds?.bottom || 0}`;\n  }\n  #updateRelativeBounds() {\n    const relativeBoundsAttr = this.getAttribute(_core_ids_attributes__WEBPACK_IMPORTED_MODULE_1__.attributes.RELATIVE_BOUNDS);\n    const newBounds = Object.fromEntries(relativeBoundsAttr?.split(\";\").map((str) => {\n      const [kStr, vStr] = str?.split?.(\":\");\n      return [kStr, !Number.isNaN(parseInt(vStr)) ? parseInt(vStr) : 0];\n    }) ?? []);\n    if (this.getBoundsHash(newBounds) !== this.getBoundsHash(this.#relativeBounds)) {\n      this.#relativeBounds = newBounds;\n    }\n  }\n};\nIdsDraggable = __decorateClass([\n  (0,_core_ids_decorators__WEBPACK_IMPORTED_MODULE_0__.customElement)(\"ids-draggable\"),\n  (0,_core_ids_decorators__WEBPACK_IMPORTED_MODULE_0__.scss)(_ids_draggable_scss__WEBPACK_IMPORTED_MODULE_6__[\"default\"])\n], IdsDraggable);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9pZHMtZHJhZ2dhYmxlL2lkcy1kcmFnZ2FibGUudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFvQztBQUNUO0FBQ0U7QUFFRjtBQUNKO0FBRVM7QUFDYjtBQUVuQixNQUFNLGlCQUFpQjtBQVV2QixJQUFxQixlQUFyQixjQUEwQyxxRkFBYyxDQUFDLHlEQUFVLEVBQUU7QUFBQSxFQUNuRSxrQkFBdUIsQ0FBQztBQUFBLEVBRXhCLGNBQWM7QUFDWixVQUFNO0FBQUEsRUFDUjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxXQUFXLGFBQWE7QUFDdEIsV0FBTztBQUFBLE1BQ0wsR0FBRyxNQUFNO0FBQUEsTUFDVCxpRUFBZTtBQUFKLE1BQ1gscUVBQW1CO0FBQVIsTUFDWCxtRUFBaUI7QUFBTixNQUNYLHdFQUFzQjtBQUFYLE1BQ1gsNEVBQTBCO0FBQWYsTUFDWCw0RUFBMEI7QUFBZixNQUNYLDRFQUEwQjtBQUFmLE1BQ1gsNEVBQTBCO0FBQWYsTUFDWCwrRUFBNkI7QUFBbEIsSUFDYjtBQUFBLEVBQ0Y7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtBLFdBQW1CO0FBQ2pCLFdBQ0U7QUFBQSxFQUVKO0FBQUEsRUFFQSxvQkFBb0I7QUFDbEIsVUFBTSxrQkFBa0I7QUFDeEIsU0FBSyxrQkFBa0I7QUFHdkIsU0FBSyxVQUFVLE1BQU0sV0FBVztBQUNoQyxTQUFLLFVBQVUsTUFBTSxVQUFVO0FBQy9CLFNBQUssVUFBVSxNQUFNLFFBQVEsR0FBRztBQUNoQyxTQUFLLFVBQVUsTUFBTSxTQUFTLEdBQUc7QUFDakMsU0FBSyxVQUFVLE1BQU0sU0FBUyxLQUFLLGdCQUFnQjtBQUFBLEVBQ3JEO0FBQUEsRUFFQSx1QkFBNkI7QUFDM0IsVUFBTSxxQkFBcUI7QUFBQSxFQUM3QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU9BLElBQUksS0FBSyxPQUFrQztBQUN6QyxRQUFJO0FBRUosWUFBUSxPQUFP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WSxvQkFBb0IsTUFBTSxHQUFHLEVBQUUsSUFBSSxDQUFDLFFBQWdCO0FBRXZGLFlBQU0sQ0FBQyxNQUFNLElBQUksSUFBSSxLQUFLLFFBQVEsR0FBRztBQUNyQyxhQUFPLENBQUMsTUFBTSxDQUFDLE9BQU8sTUFBTSxTQUFTLElBQUksQ0FBQyxJQUFJLFNBQVMsSUFBSSxJQUFJLENBQUM7QUFBQSxJQUNsRSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBRVIsUUFBSSxLQUFLLGNBQWMsU0FBUyxNQUFNLEtBQUssY0FBYyxLQUFLLGVBQWUsR0FBRztBQUM5RSxXQUFLLGtCQUFrQjtBQUFBLElBQ3pCO0FBQUEsRUFDRjtBQUNGO0FBN25CcUIsZUFBckI7QUFBQSxFQUZDLG1FQUFhLENBQUMsZUFBZTtBQUFBLEVBQzdCLDBEQUFJLENBQUMsMkRBQU07QUFBQSxHQUNTIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaWRzLWVudGVycHJpc2Utd2MvLi9zcmMvY29tcG9uZW50cy9pZHMtZHJhZ2dhYmxlL2lkcy1kcmFnZ2FibGUudHM/NjdlZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjdXN0b21FbGVtZW50LCBzY3NzIH0gZnJvbSAnLi4vLi4vY29yZS9pZHMtZGVjb3JhdG9ycyc7XG5pbXBvcnQgeyBhdHRyaWJ1dGVzIH0gZnJvbSAnLi4vLi4vY29yZS9pZHMtYXR0cmlidXRlcyc7XG5pbXBvcnQgeyBzdHJpbmdUb0Jvb2wgfSBmcm9tICcuLi8uLi91dGlscy9pZHMtc3RyaW5nLXV0aWxzL2lkcy1zdHJpbmctdXRpbHMnO1xuXG5pbXBvcnQgSWRzRXZlbnRzTWl4aW4gZnJvbSAnLi4vLi4vbWl4aW5zL2lkcy1ldmVudHMtbWl4aW4vaWRzLWV2ZW50cy1taXhpbic7XG5pbXBvcnQgSWRzRWxlbWVudCBmcm9tICcuLi8uLi9jb3JlL2lkcy1lbGVtZW50JztcblxuaW1wb3J0IGdldEVsVHJhbnNsYXRlUG9pbnQgZnJvbSAnLi9nZXQtZWwtdHJhbnNsYXRlLXBvaW50JztcbmltcG9ydCBzdHlsZXMgZnJvbSAnLi9pZHMtZHJhZ2dhYmxlLnNjc3MnO1xuXG5jb25zdCBDVVJTT1JfRUxfU0laRSA9IDMyO1xuXG4vKipcbiAqIElEUyBEcmFnZ2FibGUgQ29tcG9uZW50XG4gKiBAdHlwZSB7SWRzRHJhZ2dhYmxlfVxuICogQGluaGVyaXRzIElkc0VsZW1lbnRcbiAqIEBtaXhlcyBJZHNFdmVudHNNaXhpblxuICovXG5AY3VzdG9tRWxlbWVudCgnaWRzLWRyYWdnYWJsZScpXG5Ac2NzcyhzdHlsZXMpXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJZHNEcmFnZ2FibGUgZXh0ZW5kcyBJZHNFdmVudHNNaXhpbihJZHNFbGVtZW50KSB7XG4gICNyZWxhdGl2ZUJvdW5kczogYW55ID0ge307XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIHByb3BlcnRpZXMgd2UgaGFuZGxlIGFzIGdldHRlcnMvc2V0dGVyc1xuICAgKiBAcmV0dXJucyB7QXJyYXl9IFRoZSBwcm9wZXJ0aWVzIGluIGFuIGFycmF5XG4gICAqL1xuICBzdGF0aWMgZ2V0IGF0dHJpYnV0ZXMoKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIC4uLnN1cGVyLmF0dHJpYnV0ZXMsXG4gICAgICBhdHRyaWJ1dGVzLkFYSVMsXG4gICAgICBhdHRyaWJ1dGVzLkRJU0FCTEVELFxuICAgICAgYXR0cmlidXRlcy5IQU5ETEUsXG4gICAgICBhdHRyaWJ1dGVzLklTX0RSQUdHSU5HLFxuICAgICAgYXR0cmlidXRlcy5NQVhfVFJBTlNGT1JNX1gsXG4gICAgICBhdHRyaWJ1dGVzLk1BWF9UUkFOU0ZPUk1fWSxcbiAgICAgIGF0dHJpYnV0ZXMuTUlOX1RSQU5TRk9STV9YLFxuICAgICAgYXR0cmlidXRlcy5NSU5fVFJBTlNGT1JNX1ksXG4gICAgICBhdHRyaWJ1dGVzLlBBUkVOVF9DT05UQUlOTUVOVFxuICAgIF07XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge3N0cmluZ30gVGhlIHRlbXBsYXRlIGlubmVySFRNTCB0byByZW5kZXJcbiAgICovXG4gIHRlbXBsYXRlKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIChcbiAgICAgIGA8c2xvdD48L3Nsb3Q+YFxuICAgICk7XG4gIH1cblxuICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgIHRoaXMuI3VwZGF0ZUhhbmRsZUVsZW0oKTtcblxuICAgIC8vIHN0eWxlIHRoZSBjdXJzb3IgZWxlbWVudFxuICAgIHRoaXMuI2N1cnNvckVsLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICB0aGlzLiNjdXJzb3JFbC5zdHlsZS5vcGFjaXR5ID0gMDtcbiAgICB0aGlzLiNjdXJzb3JFbC5zdHlsZS53aWR0aCA9IGAke0NVUlNPUl9FTF9TSVpFfXB4YDtcbiAgICB0aGlzLiNjdXJzb3JFbC5zdHlsZS5oZWlnaHQgPSBgJHtDVVJTT1JfRUxfU0laRX1weGA7XG4gICAgdGhpcy4jY3Vyc29yRWwuc3R5bGUuY3Vyc29yID0gdGhpcy4jZ2V0Q3Vyc29yU3R5bGUoKTtcbiAgfVxuXG4gIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCk6IHZvaWQge1xuICAgIHN1cGVyLmRpc2Nvbm5lY3RlZENhbGxiYWNrKCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtcInhcInxcInlcInx1bmRlZmluZWR9IHZhbHVlIFRoZSBheGlzIHRoYXQgdGhlIGRyYWdnYWJsZSBjb250ZW50IHdpbGxcbiAgICogYmUgbW92aW5nIGFsb25nIChlLmcuIFggPT4gaG9yaXpvbnRhbCwgWSA9PiB2ZXJ0aWNhbCk7XG4gICAqIEJ5IGRlZmF1bHQsIG5vdCBkZWZpbmVkIGFuZCBzdXBwb3J0cyBib3RoIGF4ZXMuXG4gICAqL1xuICBzZXQgYXhpcyh2YWx1ZTogc3RyaW5nIHwgdW5kZWZpbmVkIHwgbnVsbCkge1xuICAgIGxldCBuZXh0VmFsdWU7XG5cbiAgICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgICBjYXNlICd5Jzoge1xuICAgICAgICBuZXh0VmFsdWUgPSAneSc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSAneCc6IHtcbiAgICAgICAgbmV4dFZhbHVlID0gJ3gnO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgbmV4dFZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobmV4dFZhbHVlKSB7XG4gICAgICB0aGlzLnNldEF0dHJpYnV0ZShhdHRyaWJ1dGVzLkFYSVMsIG5leHRWYWx1ZSk7XG4gICAgICB0aGlzLmlzRHJhZ2dpbmcgPSBmYWxzZTtcbiAgICAgIHRoaXMuI2N1cnNvckVsLnN0eWxlLmN1cnNvciA9IHRoaXMuI2dldEN1cnNvclN0eWxlKCk7XG4gICAgfSBlbHNlIGlmICghbmV4dFZhbHVlICYmIHRoaXMuaGFzQXR0cmlidXRlKGF0dHJpYnV0ZXMuQVhJUykpIHtcbiAgICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKGF0dHJpYnV0ZXMuQVhJUyk7XG4gICAgICB0aGlzLmlzRHJhZ2dpbmcgPSBmYWxzZTtcbiAgICAgIHRoaXMuI2N1cnNvckVsLnN0eWxlLmN1cnNvciA9IHRoaXMuI2dldEN1cnNvclN0eWxlKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtcInhcInxcInlcInxudWxsfSB2YWx1ZSBUaGUgYXhpcyB0aGF0IHRoZSBkcmFnZ2FibGUgY29udGVudCB3aWxsXG4gICAqIGJlIG1vdmluZyBhbG9uZyAoZS5nLiBYID0+IGhvcml6b250YWwsIFkgPT4gdmVydGljYWwpO1xuICAgKiBCeSBkZWZhdWx0IG5vdCBkZWZpbmVkIGFuZCBzdXBwb3J0cyBib3RoIGF4ZXMuXG4gICAqL1xuICBnZXQgYXhpcygpOiBzdHJpbmcgfCBudWxsIHtcbiAgICByZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGUoJ2F4aXMnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZyB8IGJvb2xlYW59IHZhbHVlIFdoZXRoZXIgdGhlIGRyYWdnYWJsZSBzaG91bGQgYmUgbGltaXRlZCBpbiByYW5nZVxuICAgKiBieSBpdHMgcGFyZW50IGVsZW1lbnRcbiAgICovXG4gIHNldCBwYXJlbnRDb250YWlubWVudCh2YWx1ZTogc3RyaW5nIHwgYm9vbGVhbikge1xuICAgIGNvbnN0IGlzVHJ1dGh5ID0gc3RyaW5nVG9Cb29sKHZhbHVlKTtcblxuICAgIGlmIChpc1RydXRoeSkge1xuICAgICAgaWYgKHRoaXMuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZXMuUEFSRU5UX0NPTlRBSU5NRU5UKSAhPT0gJycpIHtcbiAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlcy5QQVJFTlRfQ09OVEFJTk1FTlQsICcnKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCFpc1RydXRoeSAmJiB0aGlzLmhhc0F0dHJpYnV0ZShhdHRyaWJ1dGVzLlBBUkVOVF9DT05UQUlOTUVOVCkpIHtcbiAgICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKGF0dHJpYnV0ZXMuUEFSRU5UX0NPTlRBSU5NRU5UKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge2Jvb2xlYW59IHZhbHVlIFdoZXRoZXIgdGhlIGRyYWdnYWJsZSBzaG91bGQgYmUgbGltaXRlZCBpbiByYW5nZVxuICAgKiBieSBpdHMgcGFyZW50IGVsZW1lbnRcbiAgICovXG4gIGdldCBwYXJlbnRDb250YWlubWVudCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gc3RyaW5nVG9Cb29sKHRoaXMuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZXMuUEFSRU5UX0NPTlRBSU5NRU5UKSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmcgfCBib29sZWFufSB2YWx1ZSBXaGV0aGVyIG9yIG5vdCBkcmFnZ2FibGUgZnVuY3Rpb25hbGl0eSBpcyB0byBiZSBkaXNhYmxlZFxuICAgKi9cbiAgc2V0IGRpc2FibGVkKHZhbHVlOiBzdHJpbmcgfCBib29sZWFuKSB7XG4gICAgY29uc3QgaXNUcnV0aHkgPSBzdHJpbmdUb0Jvb2wodmFsdWUpO1xuXG4gICAgaWYgKGlzVHJ1dGh5ICYmIHRoaXMuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZXMuRElTQUJMRUQpICE9PSAnJykge1xuICAgICAgdGhpcy5vZmZFdmVudCgnbW91c2Vtb3ZlJywgd2luZG93LmRvY3VtZW50LCB0aGlzLm9uTW91c2VNb3ZlKTtcbiAgICAgIHRoaXMuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZXMuRElTQUJMRUQsICcnKTtcbiAgICB9IGVsc2UgaWYgKCFpc1RydXRoeSAmJiB0aGlzLmhhc0F0dHJpYnV0ZShhdHRyaWJ1dGVzLkRJU0FCTEVEKSkge1xuICAgICAgdGhpcy5yZW1vdmVBdHRyaWJ1dGUoYXR0cmlidXRlcy5ESVNBQkxFRCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtib29sZWFufSB2YWx1ZSBXaGV0aGVyIG9yIG5vdCBkcmFnZ2FibGUgZnVuY3Rpb25hbGl0eSBpcyBkaXNhYmxlZFxuICAgKi9cbiAgZ2V0IGRpc2FibGVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBzdHJpbmdUb0Jvb2wodGhpcy5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlcy5ESVNBQkxFRCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSBBIHF1ZXJ5IHNlbGVjdG9yIHJlcHJlc2VudGluZyBhbiBvcHRpb25hbCBoYW5kbGUgdGhhdCBjYW4gYmUgdXNlZCB0b1xuICAgKiBkcmFnIHRoZSBjb250ZW50IG9mIHRoZSBkcmFnZ2FibGVcbiAgICovXG4gIHNldCBoYW5kbGUodmFsdWU6IHN0cmluZyB8IG51bGwpIHtcbiAgICBpZiAodGhpcy5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlcy5IQU5ETEUpICE9PSB2YWx1ZSkge1xuICAgICAgaWYgKHRoaXMuaGFzQXR0cmlidXRlKGF0dHJpYnV0ZXMuSEFORExFKSAmJiAoIXZhbHVlKSkge1xuICAgICAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZShhdHRyaWJ1dGVzLkhBTkRMRSk7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZXMuSEFORExFLCB2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuI3VwZGF0ZUhhbmRsZUVsZW0oKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge3N0cmluZ30gdmFsdWUgQSBxdWVyeSBzZWxlY3RvciByZXByZXNlbnRpbmcgYW4gb3B0aW9uYWwgaGFuZGxlIHRoYXQgY2FuIGJlIHVzZWQgdG9cbiAgICogZHJhZyB0aGUgY29udGVudCBvZiB0aGUgZHJhZ2dhYmxlXG4gICAqL1xuICBnZXQgaGFuZGxlKCk6IHN0cmluZyB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLmdldEF0dHJpYnV0ZShhdHRyaWJ1dGVzLkhBTkRMRSk7XG4gIH1cblxuICAjdXBkYXRlSGFuZGxlRWxlbSA9ICgpID0+IHtcbiAgICB0aGlzLm9mZkV2ZW50KCdtb3VzZWRvd24nLCB0aGlzLiNoYW5kbGVFbGVtKTtcbiAgICB0aGlzLm9mZkV2ZW50KCdtb3VzZXVwJywgd2luZG93LmRvY3VtZW50LCB0aGlzLm9uTW91c2VVcCk7XG4gICAgdGhpcy5vZmZFdmVudCgnbW91c2Vtb3ZlJywgd2luZG93LmRvY3VtZW50LCB0aGlzLm9uTW91c2VNb3ZlKTtcblxuICAgIHRoaXMuI2hhbmRsZUVsZW0gPSB0aGlzLmhhbmRsZSA/IChcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5oYW5kbGUpIHx8IHRoaXNcbiAgICApIDogdGhpcztcblxuICAgIGlmICh0aGlzLiNoYW5kbGVFbGVtICE9PSB0aGlzKSB7XG4gICAgICB0aGlzLiNoYW5kbGVFbGVtLnN0eWxlLmN1cnNvciA9IHRoaXMuI2dldEN1cnNvclN0eWxlKCk7XG4gICAgfVxuXG4gICAgdGhpcy5vbkV2ZW50KCdtb3VzZWRvd24nLCB0aGlzLiNoYW5kbGVFbGVtLCAoZTogYW55KSA9PiB7XG4gICAgICBpZiAodGhpcy5kaXNhYmxlZCB8fCBlLmJ1dHRvbiAhPT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuaXNEcmFnZ2luZyA9IHRydWU7XG5cbiAgICAgIHRoaXMub25FdmVudCgnbW91c2V1cCcsIGRvY3VtZW50LCB0aGlzLm9uTW91c2VVcCk7XG4gICAgICB0aGlzLm9uRXZlbnQoJ21vdXNlbW92ZScsIGRvY3VtZW50LCB0aGlzLm9uTW91c2VNb3ZlKTtcblxuICAgICAgLy8gaWYgd2UgaGF2ZSBvdXIgY29udGVudCBiZWluZyBkcmFnZ2FibGUgYnkgdGhlIHBhcmVudCBlbGVtZW50LFxuICAgICAgLy8gdGhlbiB3ZSBuZWVkIHRvIGdyYWIgdGhlIGZpcnN0IHBhcmVudCByZWN0YW5nbGUgYm91bmRzXG4gICAgICAvLyBhcyB3ZWxsIGFzIGFwcGVuZCBpdCB0byB0aGUgYXNzb2NpYXRlZCBldmVudCBkZXRhaWxcblxuICAgICAgaWYgKHRoaXMucGFyZW50Q29udGFpbm1lbnQpIHtcbiAgICAgICAgdGhpcy4jdXBkYXRlUGFyZW50UmVjdChlPy5wYXRoIHx8IGU/LmNvbXBvc2VkUGF0aD8uKCkpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLiNkcmFnU3RhcnRNb3VzZVBvaW50ID0geyB4OiBlLngsIHk6IGUueSB9O1xuXG4gICAgICBjb25zdCBkcmFnT2Zmc2V0ID0gZ2V0RWxUcmFuc2xhdGVQb2ludCh0aGlzKTtcblxuICAgICAgdGhpcy4jZHJhZ1N0YXJ0T2Zmc2V0ID0ge1xuICAgICAgICB4OiB0aGlzLmF4aXMgIT09ICd5JyA/IGRyYWdPZmZzZXQueCA6IDAsXG4gICAgICAgIHk6IHRoaXMuYXhpcyAhPT0gJ3gnID8gZHJhZ09mZnNldC55IDogMFxuICAgICAgfTtcblxuICAgICAgdGhpcy50cmlnZ2VyRXZlbnQoJ2lkcy1kcmFnc3RhcnQnLCB0aGlzLCB7XG4gICAgICAgIGRldGFpbDoge1xuICAgICAgICAgIG1vdXNlWDogZS54LFxuICAgICAgICAgIG1vdXNlWTogZS55LFxuICAgICAgICAgIHRyYW5zbGF0ZVg6IHRoaXMuI2RyYWdTdGFydE9mZnNldC54LFxuICAgICAgICAgIHRyYW5zaXRpb25ZOiB0aGlzLiNkcmFnU3RhcnRPZmZzZXQueVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgdGhpc1JlY3QgPSB0aGlzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAvLyB0cmFjayB0aGUgYmFzZSBlbGVtZW50IHJlY3RhbmdsZVxuICAgICAgLy8gKGJlZm9yZSB0cmFuc2xhdGlvbiBjb25zaWRlcmVkKVxuXG4gICAgICB0aGlzLiNkcmFnU3RhcnRSZWN0ID0ge1xuICAgICAgICB3aWR0aDogdGhpc1JlY3Qud2lkdGgsXG4gICAgICAgIGhlaWdodDogdGhpc1JlY3QuaGVpZ2h0LFxuICAgICAgICBsZWZ0OiB0aGlzUmVjdC5sZWZ0IC0gdGhpcy4jZHJhZ1N0YXJ0T2Zmc2V0LngsXG4gICAgICAgIHJpZ2h0OiB0aGlzUmVjdC5yaWdodCAtIHRoaXMuI2RyYWdTdGFydE9mZnNldC54LFxuICAgICAgICB0b3A6IHRoaXNSZWN0LnRvcCAtIHRoaXMuI2RyYWdTdGFydE9mZnNldC55LFxuICAgICAgICBib3R0b206IHRoaXNSZWN0LmJvdHRvbSAtIHRoaXMuI2RyYWdTdGFydE9mZnNldC55XG4gICAgICB9O1xuXG4gICAgICBsZXQgcGFyZW50TE9mZnNldCA9IDA7XG4gICAgICBsZXQgcGFyZW50Uk9mZnNldCA9IDA7XG4gICAgICBsZXQgcGFyZW50VE9mZnNldCA9IDA7XG4gICAgICBsZXQgcGFyZW50Qk9mZnNldCA9IDA7XG5cbiAgICAgIGlmICh0aGlzLiNwYXJlbnRSZWN0KSB7XG4gICAgICAgIHBhcmVudExPZmZzZXQgPSAodGhpcy4jcGFyZW50UmVjdC5sZWZ0IC0gdGhpcy4jZHJhZ1N0YXJ0UmVjdC5sZWZ0KTtcbiAgICAgICAgcGFyZW50Uk9mZnNldCA9ICh0aGlzLiNwYXJlbnRSZWN0LnJpZ2h0IC0gdGhpcy4jZHJhZ1N0YXJ0UmVjdC5yaWdodCk7XG4gICAgICAgIHBhcmVudFRPZmZzZXQgPSAodGhpcy4jcGFyZW50UmVjdC50b3AgLSB0aGlzLiNkcmFnU3RhcnRSZWN0LnRvcCk7XG4gICAgICAgIHBhcmVudEJPZmZzZXQgPSAodGhpcy4jcGFyZW50UmVjdC5ib3R0b20gLSB0aGlzLiNkcmFnU3RhcnRSZWN0LmJvdHRvbSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuI3hmb3JtQm91bmRzID0ge1xuICAgICAgICBsZWZ0OiBwYXJlbnRMT2Zmc2V0ICsgKHRoaXMuI3JlbGF0aXZlQm91bmRzLmxlZnQgfHwgMCksXG4gICAgICAgIHJpZ2h0OiBwYXJlbnRST2Zmc2V0IC0gKHRoaXMuI3JlbGF0aXZlQm91bmRzLnJpZ2h0IHx8IDApLFxuICAgICAgICB0b3A6IHBhcmVudFRPZmZzZXQgKyAodGhpcy4jcmVsYXRpdmVCb3VuZHMudG9wIHx8IDApLFxuICAgICAgICBib3R0b206IHBhcmVudEJPZmZzZXQgLSAodGhpcy4jcmVsYXRpdmVCb3VuZHMuYm90dG9tIHx8IDApXG4gICAgICB9O1xuXG4gICAgICB0aGlzLiNjdXJzb3JFbC5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ2FsbCc7XG5cbiAgICAgIC8vIGFwcGVuZCB0aGUgY3Vyc29yIHRvIGVpdGhlciB0aGUgdG9wLWxldmVsIGlkcy1jb250YWluZXJcbiAgICAgIC8vIG9yIGlmIG5vdCBmb3VuZCB0aGUgZG9jdW1lbnQgYm9keVxuICAgICAgLy8gKHRvIGF2b2lkIGRvdWJsZSBvdmVyZmxvdyBzY3JvbGxiYXJzKVxuXG4gICAgICAoZG9jdW1lbnQuYm9keS5xdWVyeVNlbGVjdG9yKCdpZHMtY29udGFpbmVyJykgfHwgZG9jdW1lbnQuYm9keSlcbiAgICAgICAgLmFwcGVuZENoaWxkKHRoaXMuI2N1cnNvckVsKTtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogc2V0cyBhbiBvcHRpb25hbCBpbnRlZ2VyIGF0dHJpYnV0ZSBmb3IgYW4gZWxlbWVudFxuICAgKiAobWF5IG9mZmxvYWQgYXMgZ2VuZXJhbCB1dGlsOyBqdXN0IG5lZWQgdG8gdGhpbmtcbiAgICogdGhyb3VnaCB0aGlzIGEgYml0IG1vcmUpXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW0gaWRzIGVsZW1lbnQgdG8gdXBkYXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBhdHRyaWJ1dGUgdGhlIGF0dHJpYnV0ZSB0byB1cGRhdGVcbiAgICogQHBhcmFtIHthbnl9IHZhbHVlIGEgdmFsdWUgdG8gc2V0IG9uIHRoZVxuICAgKi9cbiAgI3NldEludEF0dHJpYnV0ZShlbGVtOiBhbnksIGF0dHJpYnV0ZTogc3RyaW5nLCB2YWx1ZTogYW55KSB7XG4gICAgY29uc3QgbmV4dFZhbHVlID0gcGFyc2VJbnQodmFsdWUpO1xuXG4gICAgaWYgKG5leHRWYWx1ZSAhPT0gbnVsbCAmJiAhTnVtYmVyLmlzTmFOKG5leHRWYWx1ZSkpIHtcbiAgICAgIGlmIChwYXJzZUludChlbGVtLmdldEF0dHJpYnV0ZShhdHRyaWJ1dGUpKSAhPT0gbmV4dFZhbHVlKSB7XG4gICAgICAgIGVsZW0uc2V0QXR0cmlidXRlKGF0dHJpYnV0ZSwgbmV4dFZhbHVlKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHZhbHVlID09PSBudWxsICYmIGVsZW0uaGFzQXR0cmlidXRlKGF0dHJpYnV0ZSkpIHtcbiAgICAgIGVsZW0ucmVtb3ZlQXR0cmlidXRlKGF0dHJpYnV0ZSk7XG4gICAgfVxuICB9XG5cbiAgc2V0IG1pblRyYW5zZm9ybVgodmFsdWU6IG51bWJlcikge1xuICAgIHRoaXMuI3NldEludEF0dHJpYnV0ZSh0aGlzLCBhdHRyaWJ1dGVzLk1JTl9UUkFOU0ZPUk1fWCwgdmFsdWUpO1xuICB9XG5cbiAgZ2V0IG1pblRyYW5zZm9ybVgoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gcGFyc2VJbnQodGhpcy5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlcy5NSU5fVFJBTlNGT1JNX1gpID8/ICcwJyk7XG4gIH1cblxuICBzZXQgbWF4VHJhbnNmb3JtWCh2YWx1ZTogbnVtYmVyKSB7XG4gICAgdGhpcy4jc2V0SW50QXR0cmlidXRlKHRoaXMsIGF0dHJpYnV0ZXMuTUFYX1RSQU5TRk9STV9YLCB2YWx1ZSk7XG4gIH1cblxuICBnZXQgbWF4VHJhbnNmb3JtWCgpOiBudW1iZXIge1xuICAgIHJldHVybiBwYXJzZUludCh0aGlzLmdldEF0dHJpYnV0ZShhdHRyaWJ1dGVzLk1BWF9UUkFOU0ZPUk1fWCkgPz8gJzAnKTtcbiAgfVxuXG4gIHNldCBtaW5UcmFuc2Zvcm1ZKHZhbHVlOiBudW1iZXIpIHtcbiAgICB0aGlzLiNzZXRJbnRBdHRyaWJ1dGUodGhpcywgYXR0cmlidXRlcy5NSU5fVFJBTlNGT1JNX1ksIHZhbHVlKTtcbiAgfVxuXG4gIGdldCBtaW5UcmFuc2Zvcm1ZKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHBhcnNlSW50KHRoaXMuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZXMuTUlOX1RSQU5TRk9STV9ZKSA/PyAnMCcpO1xuICB9XG5cbiAgZ2V0IG1heFRyYW5zZm9ybVkoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gcGFyc2VJbnQodGhpcy5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlcy5NQVhfVFJBTlNGT1JNX1kpID8/ICcwJyk7XG4gIH1cblxuICBzZXQgbWF4VHJhbnNmb3JtWSh2YWx1ZTogbnVtYmVyKSB7XG4gICAgdGhpcy4jc2V0SW50QXR0cmlidXRlKHRoaXMsIGF0dHJpYnV0ZXMuTUFYX1RSQU5TRk9STV9ZLCB2YWx1ZSk7XG4gIH1cblxuICAvKipcbiAgICogdXBkYXRlIHRoZSB0cmFuc2Zvcm0gd2l0aCByZXNwZWN0IHRvIGNvbnRhaW5tZW50XG4gICAqIGFuZCBtaW4vbWF4IHRyYW5zZm9ybSBib3VuZHNcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IG1vdXNlRGVsdGFYIG1vdXNlIGRlbHRhIHhcbiAgICogQHBhcmFtIHtudW1iZXJ9IG1vdXNlRGVsdGFZIG1vdXNlIGRlbHRhIHlcbiAgICogQHJldHVybnMge0FycmF5fSBbdHJhbnNmb3JtWCwgdHJhbnNmb3JtWV1cbiAgICovXG4gICN1cGRhdGVUcmFuc2Zvcm0gPSAobW91c2VEZWx0YVg6IG51bWJlciwgbW91c2VEZWx0YVk6IG51bWJlcikgPT4ge1xuICAgIGxldCB0cmFuc2xhdGVYID0gMDtcbiAgICBsZXQgdHJhbnNsYXRlWSA9IDA7XG5cbiAgICAvLyBpbiBjYXNlIHdlJ3JlIGRyYWdnaW5nIGFuZCBwYXNzZWQgaW4gdGhlIGRlbHRhXG4gICAgLy8gdGhlbiBjb25zaWRlciB0aGUgdHJhbnNsYXRlWC9ZIHZzIHdoZXJlIHdlXG4gICAgLy8gZmlyc3Qgc3RhcnRlZCBkcmFnZ2luZyB0aGUgbW91c2UgZnJvbSB3aGVyZVxuICAgIC8vIHdlIG1vdmVkIHRvXG5cbiAgICBpZiAodGhpcy5heGlzICE9PSAneScpIHtcbiAgICAgIHRyYW5zbGF0ZVggPSB0aGlzLiNkcmFnU3RhcnRPZmZzZXQueCArIG1vdXNlRGVsdGFYO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmF4aXMgIT09ICd4Jykge1xuICAgICAgdHJhbnNsYXRlWSA9IHRoaXMuI2RyYWdTdGFydE9mZnNldC55ICsgbW91c2VEZWx0YVk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucGFyZW50Q29udGFpbm1lbnQpIHtcbiAgICAgIGlmICh0aGlzLmF4aXMgIT09ICd5Jykge1xuICAgICAgICB0cmFuc2xhdGVYID0gTWF0aC5tYXgodGhpcy4jeGZvcm1Cb3VuZHMubGVmdCwgdHJhbnNsYXRlWCk7XG4gICAgICAgIHRyYW5zbGF0ZVggPSBNYXRoLm1pbih0aGlzLiN4Zm9ybUJvdW5kcy5yaWdodCwgdHJhbnNsYXRlWCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmF4aXMgIT09ICd4Jykge1xuICAgICAgICB0cmFuc2xhdGVZID0gTWF0aC5tYXgodGhpcy4jeGZvcm1Cb3VuZHMudG9wLCB0cmFuc2xhdGVZKTtcbiAgICAgICAgdHJhbnNsYXRlWSA9IE1hdGgubWluKHRoaXMuI3hmb3JtQm91bmRzLmJvdHRvbSwgdHJhbnNsYXRlWSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaGFzQXR0cmlidXRlKGF0dHJpYnV0ZXMuTUlOX1RSQU5TRk9STV9YKSkge1xuICAgICAgdHJhbnNsYXRlWCA9IE1hdGgubWF4KHRyYW5zbGF0ZVgsIHRoaXMubWluVHJhbnNmb3JtWCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaGFzQXR0cmlidXRlKGF0dHJpYnV0ZXMuTUFYX1RSQU5TRk9STV9YKSkge1xuICAgICAgdHJhbnNsYXRlWCA9IE1hdGgubWluKHRyYW5zbGF0ZVgsIHRoaXMubWF4VHJhbnNmb3JtWCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaGFzQXR0cmlidXRlKGF0dHJpYnV0ZXMuTUlOX1RSQU5TRk9STV9ZKSkge1xuICAgICAgdHJhbnNsYXRlWSA9IE1hdGgubWF4KHRyYW5zbGF0ZVksIHRoaXMubWluVHJhbnNmb3JtWSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaGFzQXR0cmlidXRlKGF0dHJpYnV0ZXMuTUFYX1RSQU5TRk9STV9ZKSkge1xuICAgICAgdHJhbnNsYXRlWSA9IE1hdGgubWluKHRyYW5zbGF0ZVksIHRoaXMubWF4VHJhbnNmb3JtWSk7XG4gICAgfVxuXG4gICAgdGhpcy5zdHlsZS5zZXRQcm9wZXJ0eShcbiAgICAgICd0cmFuc2Zvcm0nLFxuICAgICAgYHRyYW5zbGF0ZSgke3RyYW5zbGF0ZVh9cHgsICR7dHJhbnNsYXRlWX1weClgXG4gICAgKTtcblxuICAgIHJldHVybiBbdHJhbnNsYXRlWCwgdHJhbnNsYXRlWV07XG4gIH07XG5cbiAgLyoqXG4gICAqIGNhbGxlZCBvbiBtb3VzZSBtb3ZlOyB0cmFuc2Zvcm1zIGVsZW1lbnQgZm9yXG4gICAqIHRyYW5zaXRpb24gb2Zmc2V0IGFuZCB1cGRhdGVzIGN1cnNvciBvdmVybGF5XG4gICAqIGVsZW1lbnQgYXMgbmVjZXNzYXJ5XG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gZSBtb3VzZW1vdmUgZXZlbnRcbiAgICovXG4gIG9uTW91c2VNb3ZlOiBhbnkgPSAoZTogYW55KSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IGV2ZW50RGV0YWlsOiBhbnkgPSB7fTtcblxuICAgIGlmICh0aGlzLmlzRHJhZ2dpbmcpIHtcbiAgICAgIGNvbnN0IGRyYWdEZWx0YVggPSBlLnggLSB0aGlzLiNkcmFnU3RhcnRNb3VzZVBvaW50Lng7XG4gICAgICBjb25zdCBkcmFnRGVsdGFZID0gZS55IC0gdGhpcy4jZHJhZ1N0YXJ0TW91c2VQb2ludC55O1xuXG4gICAgICAvLyBvbmNlIGRyYWdnYWJsZSBib3VuZCB0byBwYXJlbnQgd2FzIHVwZGF0ZWQsXG4gICAgICAvLyB1cGRhdGUgdGhlIHRyYW5zZm9ybVxuXG4gICAgICBjb25zdCBbXG4gICAgICAgIHRyYW5zbGF0ZVgsXG4gICAgICAgIHRyYW5zbGF0ZVlcbiAgICAgIF0gPSB0aGlzLiN1cGRhdGVUcmFuc2Zvcm0oZHJhZ0RlbHRhWCwgZHJhZ0RlbHRhWSk7XG5cbiAgICAgIGlmICh0aGlzLiNwYXJlbnRSZWN0KSB7XG4gICAgICAgIGV2ZW50RGV0YWlsLnBhcmVudFJlY3QgPSB0aGlzLiNwYXJlbnRSZWN0O1xuICAgICAgfVxuXG4gICAgICBldmVudERldGFpbC5tb3VzZVggPSBlLng7XG4gICAgICBldmVudERldGFpbC5tb3VzZVkgPSBlLnk7XG4gICAgICBldmVudERldGFpbC5kcmFnRGVsdGFYID0gZHJhZ0RlbHRhWDtcbiAgICAgIGV2ZW50RGV0YWlsLmRyYWdEZWx0YVkgPSBkcmFnRGVsdGFZO1xuICAgICAgZXZlbnREZXRhaWwudHJhbnNsYXRlWCA9IHRyYW5zbGF0ZVg7XG4gICAgICBldmVudERldGFpbC50cmFuc2xhdGVZID0gdHJhbnNsYXRlWTtcblxuICAgICAgaWYgKHRoaXMuI2N1cnNvckVsKSB7XG4gICAgICAgIHRoaXMuI2N1cnNvckVsLnN0eWxlLmxlZnQgPSBgJHtlLnggLSBDVVJTT1JfRUxfU0laRSAvIDJ9cHhgO1xuICAgICAgICB0aGlzLiNjdXJzb3JFbC5zdHlsZS50b3AgPSBgJHtlLnkgLSBDVVJTT1JfRUxfU0laRSAvIDJ9cHhgO1xuICAgICAgfVxuICAgIH1cblxuICAgIGV2ZW50RGV0YWlsLm9yaWdpbmFsRXZlbnQgPSBlO1xuXG4gICAgdGhpcy50cmlnZ2VyRXZlbnQoJ2lkcy1kcmFnJywgdGhpcywgeyBkZXRhaWw6IGV2ZW50RGV0YWlsIH0pO1xuICB9O1xuXG4gIG9uTW91c2VVcDogYW55ID0gKGU6IGFueSkgPT4ge1xuICAgIGlmICh0aGlzLmlzRHJhZ2dpbmcpIHtcbiAgICAgIHRoaXMuaXNEcmFnZ2luZyA9IGZhbHNlO1xuICAgICAgY29uc3QgdHJhbnNsYXRlUG9pbnQgPSBnZXRFbFRyYW5zbGF0ZVBvaW50KHRoaXMpO1xuICAgICAgdGhpcy50cmlnZ2VyRXZlbnQoJ2lkcy1kcmFnZW5kJywgdGhpcywge1xuICAgICAgICBkZXRhaWw6IHtcbiAgICAgICAgICBtb3VzZVg6IGUueCxcbiAgICAgICAgICBtb3VzZVk6IGUueSxcbiAgICAgICAgICBkcmFnRGVsdGFYOiBlLnggLSB0aGlzLiNkcmFnU3RhcnRNb3VzZVBvaW50LngsXG4gICAgICAgICAgZHJhZ0RlbHRhWTogZS55IC0gdGhpcy4jZHJhZ1N0YXJ0TW91c2VQb2ludC55LFxuICAgICAgICAgIHRyYW5zbGF0ZVg6IHRyYW5zbGF0ZVBvaW50LngsXG4gICAgICAgICAgdHJhbnNsYXRlWTogdHJhbnNsYXRlUG9pbnQueVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgKGRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvcignaWRzLWNvbnRhaW5lcicpIHx8IGRvY3VtZW50LmJvZHkpXG4gICAgICAgID8ucmVtb3ZlQ2hpbGQodGhpcy4jY3Vyc29yRWwpO1xuICAgIH1cblxuICAgIHRoaXMub2ZmRXZlbnQoJ21vdXNlbW92ZScsIGRvY3VtZW50LCB0aGlzLm9uTW91c2VNb3ZlKTtcbiAgICB0aGlzLm9mZkV2ZW50KCdtb3VzZXVwJywgZG9jdW1lbnQsIHRoaXMub25Nb3VzZVVwKTtcblxuICAgIHRoaXMuI2N1cnNvckVsLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nIHwgYm9vbGVhbn0gdmFsdWUgV2hldGhlciBvciBub3QgdGhpcyBlbGVtZW50XG4gICAqIGFuZCBjb250ZW50IGlzIGJlaW5nIGRyYWdnZWRcbiAgICovXG4gIHNldCBpc0RyYWdnaW5nKHZhbHVlOiBzdHJpbmcgfCBib29sZWFuKSB7XG4gICAgY29uc3QgaXNUcnV0aHkgPSBzdHJpbmdUb0Jvb2wodmFsdWUpO1xuXG4gICAgaWYgKGlzVHJ1dGh5ICYmIHRoaXMuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZXMuSVNfRFJBR0dJTkcpICE9PSAnJykge1xuICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlcy5JU19EUkFHR0lORywgJycpO1xuICAgIH0gZWxzZSBpZiAoIWlzVHJ1dGh5ICYmIHRoaXMuaGFzQXR0cmlidXRlKGF0dHJpYnV0ZXMuSVNfRFJBR0dJTkcpKSB7XG4gICAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZShhdHRyaWJ1dGVzLklTX0RSQUdHSU5HKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge2Jvb2xlYW59IHZhbHVlIFdoZXRoZXIgb3Igbm90IHRoaXMgZWxlbWVudFxuICAgKiBhbmQgY29udGVudCBpcyBiZWluZyBkcmFnZ2VkXG4gICAqL1xuICBnZXQgaXNEcmFnZ2luZygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gc3RyaW5nVG9Cb29sKHRoaXMuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZXMuSVNfRFJBR0dJTkcpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIFwiY3Vyc29yXCIgcHJvcGVydHkgb2YgY3Vyc29yIGVsZW1lbnRcbiAgICogcGxhY2VkIGluIGZyb250IG9mIGRyYWdcbiAgICpcbiAgICogQHJldHVybnMge3N0cmluZ30gY3Vyc29yIHByb3BlcnR5XG4gICAqL1xuICAjZ2V0Q3Vyc29yU3R5bGUoKTogc3RyaW5nIHtcbiAgICBzd2l0Y2ggKHRoaXMuYXhpcykge1xuICAgICAgY2FzZSAneCc6IHsgcmV0dXJuICdldy1yZXNpemUnOyB9XG4gICAgICBjYXNlICd5JzogeyByZXR1cm4gJ25zLXJlc2l6ZSc7IH1cbiAgICAgIGRlZmF1bHQ6IHsgcmV0dXJuICdtb3ZlJzsgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBFbGVtZW50IHRoYXQgaXMgY3VycmVudGx5IGRyYWdnYWJsZTtcbiAgICogaWYgXCJoYW5kbGVcIiBiZWNvbWVzIGl0IHBvc3NpYmx5IGJlY29tZXMgdGhlIHNlbGVjdGVkIGVsZW1lbnQuXG4gICAqXG4gICAqIE90aGVyd2lzZSBpdCBkZWZhdWx0cyB0byB0aGUgb3ZlcmFsbCBkcmFnZ2FibGUgY29udGFpbmVyICh0aGlzKVxuICAgKi9cbiAgI2hhbmRsZUVsZW06IGFueTtcblxuICAvKipcbiAgICogRmlyc3QgbWVhc3VyYWJsZSBwYXJlbnQncyByZWN0YW5nbGVcbiAgICogd2hlbiBhIGRyYWcgaXMgaW5pdGlhdGVkXG4gICAqXG4gICAqIEB0eXBlIHt7IHg6IG51bWJlciwgeTogbnVtYmVyIH19XG4gICAqL1xuICAjcGFyZW50UmVjdDogYW55O1xuXG4gIC8qKlxuICAgKiBUaGUgcG9pbnQgd2hlcmUgd2Ugc3RhcnQgZHJhZ2dpbmcgb24gdGhlIG1vdXNlXG4gICAqIHRvIGRlbHRhIGZyb20gZm9yIGN1cnJlbnQgdHJhY2tpbmcuXG4gICAqXG4gICAqIEB0eXBlIHt7IHg6IG51bWJlciwgeTogbnVtYmVyIH19XG4gICAqL1xuICAjZHJhZ1N0YXJ0TW91c2VQb2ludDogYW55O1xuXG4gIC8qKlxuICAgKiBUaGUgdHJhbnNmb3JtIHRyYW5zbGF0aW9uIHBvaW50IGFwcGxpZWQgYXRcbiAgICogdGhlIHRpbWUgb2YgYSBkcmFnc3RhcnQgaW4gb3JkZXIgdG8gY2FsY3VsYXRlXG4gICAqIGRlbHRhIGR1cmluZyBkcmFnXG4gICAqXG4gICAqIEB0eXBlIHt7IHg6IG51bWJlciwgeTogbnVtYmVyIH19XG4gICAqL1xuICAjZHJhZ1N0YXJ0T2Zmc2V0OiBhbnk7XG5cbiAgLyoqXG4gICAqIFRoZSBib3VuZGluZyByZWN0YW5nbGUgb2YgdGhpcyBjb21wb25lbnQgYXQgdGhlXG4gICAqIHRpbWUgb2YgYSBkcmFnc3RhcnQgb2Zmc2V0IGJ5IHRyYW5zbGF0ZSAoc29cbiAgICogaXRzIG9yaWdpbmFsIHBvc2l0aW9uIGluIHRoZSBkaXYgb24gc3RhcnQgb2YgZHJhZylcbiAgICogQHR5cGUge3sgeDogbnVtYmVyLCB5OiBudW1iZXIgfX1cbiAgICovXG4gICNkcmFnU3RhcnRSZWN0OiBhbnk7XG5cbiAgLyoqXG4gICAqIFJlY3RhbmdsZSBib3VuZHMgdGhhdCB0cmFuc2Zvcm0gaXMgbGltaXRlZCB0byBpZiBkcmFnXG4gICAqIGlzIGJvdW5kZWQgYnkgcGFyZW50XG4gICAqXG4gICAqIEB0eXBlIHt7IHRvcDogbnVtYmVyLCBib3R0b206IG51bWJlciwgbGVmdDogbnVtYmVyLCByaWdodDogbnVtYmVyIH19XG4gICAqL1xuICAjeGZvcm1Cb3VuZHM6IGFueTtcblxuICAvKipcbiAgICogRWxlbWVudCB3aGljaCBwcm92aWRlcyBjdXJzb3IgZm9yIG1vdXNlIHdoZW5cbiAgICogZHJhZ2dpbmcgYWZ0ZXIgbW91c2Vkb3duIGV2ZW50IHNpbmNlIHdlIGNhblxuICAgKiBiaW5kIHRvIFgvWSBheGVzIGFuZCB0aGVyZSdzIG5vIHdheSB0byBvdmVycmlkZVxuICAgKiB0aGUgYmVoYXZpb3JcbiAgICovXG4gICNjdXJzb3JFbDogYW55ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBwYXJlbnQgcmVjdGFuZ2xlIHN0b3JlZCBpbiB0aGlzLiNwYXJlbnRSZWN0XG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gcGF0aCBwYXRoIHBhc3NlZCBieSBtb3VzZS9kcmFnIGV2ZW50XG4gICAqIHRvIHRyYXZlcnNlIHRocm91Z2ggc2hhZG93IGFuZCBsaWdodERPTVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgI3VwZGF0ZVBhcmVudFJlY3QocGF0aDogYW55KSB7XG4gICAgLy8gaW4gb3JkZXIgdG8gbWVhc3VyZSB0aGUgc2l6ZSBvZiB0aGUgcGFyZW50LFxuICAgIC8vIHdoZW4gZHJhZ2dpbmcgaGFzIHN0YXJ0ZWQsIGl0ZXJhdGUgdGhyb3VnaFxuICAgIC8vIHBhdGggY2FwdHVyZWQgZnJvbSBkcmFnIHVudGlsIHBhcmVudCBsZXZlbFxuICAgIC8vIG91dHNpZGUgb2YgdGhpcyBkcmFnZ2FibGUgb3IgYW4gaW1tZWRpYXRlIElkc0VsZW1lbnRcbiAgICAvLyAoZS5nLiBub24gc3R5bGVkIGNvbnRhaW5lcikgaXMgZGV0ZWN0ZWRcbiAgICB0aGlzLiNwYXJlbnRSZWN0ID0gdW5kZWZpbmVkO1xuXG4gICAgbGV0IHBhdGhFbGVtSW5kZXggPSAwO1xuICAgIGxldCBwYXRoRWxlbSA9IHBhdGhbcGF0aEVsZW1JbmRleF07XG4gICAgbGV0IGhhc1RyYXZlcnNlZFRoaXMgPSBmYWxzZTtcbiAgICBsZXQgaXNBdFNsb3RFbCA9IGZhbHNlO1xuICAgIGxldCBpc0F0U2hhZG93Um9vdCA9IGZhbHNlO1xuXG4gICAgd2hpbGUgKFxuICAgICAgKCF0aGlzLiNwYXJlbnRSZWN0IHx8ICFoYXNUcmF2ZXJzZWRUaGlzIHx8IGlzQXRTaGFkb3dSb290IHx8IGlzQXRTbG90RWwpXG4gICAgICAmJiAoKHBhdGhFbGVtSW5kZXggKyAxKSA8IHBhdGgubGVuZ3RoKVxuICAgICkge1xuICAgICAgaWYgKHBhdGhFbGVtID09PSB0aGlzKSB7XG4gICAgICAgIGhhc1RyYXZlcnNlZFRoaXMgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBwYXRoRWxlbUluZGV4Kys7XG4gICAgICBwYXRoRWxlbSA9IHBhdGhbcGF0aEVsZW1JbmRleF07XG5cbiAgICAgIGlzQXRTbG90RWwgPSBwYXRoRWxlbS50YWdOYW1lID09PSAnU0xPVCc7XG4gICAgICBpc0F0U2hhZG93Um9vdCA9IHBhdGhFbGVtIGluc3RhbmNlb2YgU2hhZG93Um9vdDtcblxuICAgICAgaWYgKGlzQXRTaGFkb3dSb290IHx8IGlzQXRTbG90RWwpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlY3QgPSBwYXRoRWxlbT8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0Py4oKTtcblxuICAgICAgLy8gb25seSB1c2UgYXMgcGFyZW50IGlmIG5vdCBhIG5vbi1wcmVzZW50YXRpb25hbCByZWN0YW5nbGVzIChlLmcuXG4gICAgICAvLyB0aGUgcGFyZW50IElkc0VsZW1lbnQgd2hpY2ggaGFzIG5vIGV4cGxpY2l0IHN0eWxpbmc7IGhlbmNlXG4gICAgICAvLyB6ZXJvLXdpZHRoIG9yIHplcm8taGVpZ2h0IHJlbmRlcmVkKVxuXG4gICAgICBpZiAocmVjdD8uaGVpZ2h0ICE9PSAwICYmIHJlY3Q/LndpZHRoICE9PSAwKSB7XG4gICAgICAgIHRoaXMuI3BhcmVudFJlY3QgPSByZWN0O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZyB8IG51bWJlcn0gdmFsdWUgVGhlIG1heCBjb29yZGluYXRlcyByZWxhdGl2ZVxuICAgKiB0byB0aGUgb3ZlcmFsbCBkaXY7IGUuZy4gXCJsZWZ0OiAtMjA7IHJpZ2h0OiAtMjBcIiB3b3VsZCBleHRlbmRcbiAgICogdGhlIG1pbmltdW0geCBhbmQgbWF4aW11bSB4IGZyb20gY3VycmVudCBjb250YWluZXJcbiAgICogYm91bmRzLCBvciBcInRvcDogMTA7IGJvdHRvbTogMjBcIiB3b3VsZCBtYWtlIHRoZSB0b3AgKHVwd2FyZHNcbiAgICogYm91bmRzKSAxMCBiZWxvdyB0aGUgdG9wIG9yIDIwIGJlbG93IHRoZSBib3R0b20pLlxuICAgKi9cbiAgc2V0IHJlbGF0aXZlQm91bmRzKHZhbHVlOiBzdHJpbmcgfCBudW1iZXIgfCBudWxsKSB7XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICB0aGlzLnNldEF0dHJpYnV0ZShhdHRyaWJ1dGVzLlJFTEFUSVZFX0JPVU5EUywgU3RyaW5nKHZhbHVlKSk7XG4gICAgICB0aGlzLiN1cGRhdGVSZWxhdGl2ZUJvdW5kcygpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZShhdHRyaWJ1dGVzLlJFTEFUSVZFX0JPVU5EUyk7XG4gIH1cblxuICBnZXQgcmVsYXRpdmVCb3VuZHMoKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZXMuUkVMQVRJVkVfQk9VTkRTKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3tcbiAgICogIGxlZnQ6IG51bWJlcixcbiAgICogIHRvcDogbnVtYmVyLFxuICAgKiAgcmlnaHQ6IG51bWJlcixcbiAgICogIGJvdHRvbTogbnVtYmVyXG4gICAqIH19IGJvdW5kcyByZWN0YW5nbGUgYm91bmRzIHRvIGhhc2hcbiAgICogQHJldHVybnMge3N0cmluZ30gYSBoYXNoIGZvciBib3VuZHMgaW4gYSBwcmVkaWN0YWJsZVxuICAgKiBvcmRlciB0aGF0IGNhbiBiZSBkaWZmZWQgZm9yIGF0dHJpYnV0ZSBjaGFuZ2VzXG4gICAqL1xuICBnZXRCb3VuZHNIYXNoKGJvdW5kczogYW55KSB7XG4gICAgcmV0dXJuIChcbiAgICAgIGAke2JvdW5kcz8ubGVmdCB8fCAwXG4gICAgICB9XyR7XG4gICAgICAgIGJvdW5kcz8ucmlnaHQgfHwgMFxuICAgICAgfV8ke1xuICAgICAgICBib3VuZHM/LnRvcCB8fCAwXG4gICAgICB9XyR7Ym91bmRzPy5ib3R0b20gfHwgMH1gXG4gICAgKTtcbiAgfVxuXG4gICN1cGRhdGVSZWxhdGl2ZUJvdW5kcygpIHtcbiAgICBjb25zdCByZWxhdGl2ZUJvdW5kc0F0dHIgPSB0aGlzLmdldEF0dHJpYnV0ZShhdHRyaWJ1dGVzLlJFTEFUSVZFX0JPVU5EUyk7XG4gICAgY29uc3QgbmV3Qm91bmRzID0gT2JqZWN0LmZyb21FbnRyaWVzKHJlbGF0aXZlQm91bmRzQXR0cj8uc3BsaXQoJzsnKS5tYXAoKHN0cjogc3RyaW5nKSA9PiB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5zYWZlLW9wdGlvbmFsLWNoYWluaW5nXG4gICAgICBjb25zdCBba1N0ciwgdlN0cl0gPSBzdHI/LnNwbGl0Py4oJzonKTtcbiAgICAgIHJldHVybiBba1N0ciwgIU51bWJlci5pc05hTihwYXJzZUludCh2U3RyKSkgPyBwYXJzZUludCh2U3RyKSA6IDBdO1xuICAgIH0pID8/IFtdKTtcblxuICAgIGlmICh0aGlzLmdldEJvdW5kc0hhc2gobmV3Qm91bmRzKSAhPT0gdGhpcy5nZXRCb3VuZHNIYXNoKHRoaXMuI3JlbGF0aXZlQm91bmRzKSkge1xuICAgICAgdGhpcy4jcmVsYXRpdmVCb3VuZHMgPSBuZXdCb3VuZHM7XG4gICAgfVxuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/ids-draggable/ids-draggable.ts\n");

/***/ }),

/***/ "./src/components/ids-draggable/ids-draggable.scss":
/*!*********************************************************!*\
  !*** ./src/components/ids-draggable/ids-draggable.scss ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n\n        const styles = `:host(ids-draggable) {\n  height: fit-content;\n  width: fit-content;\n}\n\n:host(ids-draggable:not([handle])) {\n  cursor: move;\n  touch-action: none;\n}\n\n:host(ids-draggable[disabled]:not([handle])) {\n  cursor: inherit;\n}\n\n:host(ids-draggable[axis=x]:not([disabled])) {\n  cursor: ew-resize;\n}\n\n:host(ids-draggable[axis=y]:not([disabled])) {\n  cursor: ns-resize;\n}\n\nids-draggable[is-dragging]:not([handle]) {\n  cursor: grabbing;\n}`;\n        /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (styles);\n    //# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9pZHMtZHJhZ2dhYmxlL2lkcy1kcmFnZ2FibGUuc2Nzcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7RUFDRTtFQUNBOzs7QUFHRjtFQUNFO0VBQ0E7OztBQUdGO0VBQ0U7OztBQUdGO0VBQ0U7OztBQUdGO0VBQ0U7OztBQUdGO0VBQ0UiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pZHMtZW50ZXJwcmlzZS13Yy8uL3NyYy9jb21wb25lbnRzL2lkcy1kcmFnZ2FibGUvaWRzLWRyYWdnYWJsZS5zY3NzP2Y5MmQiXSwic291cmNlc0NvbnRlbnQiOlsiOmhvc3QoaWRzLWRyYWdnYWJsZSkge1xuICBoZWlnaHQ6IGZpdC1jb250ZW50O1xuICB3aWR0aDogZml0LWNvbnRlbnQ7XG59XG5cbjpob3N0KGlkcy1kcmFnZ2FibGU6bm90KFtoYW5kbGVdKSkge1xuICBjdXJzb3I6IG1vdmU7XG4gIHRvdWNoLWFjdGlvbjogbm9uZTtcbn1cblxuOmhvc3QoaWRzLWRyYWdnYWJsZVtkaXNhYmxlZF06bm90KFtoYW5kbGVdKSkge1xuICBjdXJzb3I6IGluaGVyaXQ7XG59XG5cbjpob3N0KGlkcy1kcmFnZ2FibGVbYXhpcz0neCddOm5vdChbZGlzYWJsZWRdKSkge1xuICBjdXJzb3I6IGV3LXJlc2l6ZTtcbn1cblxuOmhvc3QoaWRzLWRyYWdnYWJsZVtheGlzPSd5J106bm90KFtkaXNhYmxlZF0pKSB7XG4gIGN1cnNvcjogbnMtcmVzaXplO1xufVxuXG5pZHMtZHJhZ2dhYmxlW2lzLWRyYWdnaW5nXTpub3QoW2hhbmRsZV0pIHtcbiAgY3Vyc29yOiBncmFiYmluZztcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/ids-draggable/ids-draggable.scss\n");

/***/ })

}]);