"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkids_enterprise_wc"] = self["webpackChunkids_enterprise_wc"] || []).push([["src_core_ids-data-source_ts"],{

/***/ "./src/core/ids-data-source.ts":
/*!*************************************!*\
  !*** ./src/core/ids-data-source.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ids_data_source_default)\n/* harmony export */ });\n/* harmony import */ var _utils_ids_deep_clone_utils_ids_deep_clone_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/ids-deep-clone-utils/ids-deep-clone-utils */ \"./src/utils/ids-deep-clone-utils/ids-deep-clone-utils.ts\");\n\nclass IdsDataSource {\n  /**\n   * Holds a reference to the original data\n   * @private\n   */\n  #originalData = [];\n  /**\n   * Holds the data in its current state\n   * @private\n   */\n  #currentData = [];\n  /**\n   * Holds the current data to use with filter\n   * @private\n   */\n  #currentFilterData = null;\n  /**\n   * Page-number used for pagination\n   * @private\n   */\n  #pageNumber = 1;\n  /**\n   * Page-size used for pagination\n   * @private\n   */\n  #pageSize;\n  /**\n   * An override for the total number of items in data\n   * @private\n   */\n  #total;\n  /**\n   * If true use a flattened data representation\n   * @private\n   */\n  #flatten = false;\n  /**\n   * If true use a filtered data representation\n   * @private\n   */\n  #filtered = false;\n  /**\n   * Return all the currently used data, without paging or filter\n   * @returns {Array | null} All the currently used data\n   */\n  get allData() {\n    if (this.#currentFilterData) {\n      return this.flatten ? this.#flattenData(this.#currentFilterData) : this.#currentFilterData;\n    }\n    return this.#currentData;\n  }\n  /**\n   * Sets the data array on the data source object\n   * @param {Array | null} value The array to attach\n   */\n  set data(value) {\n    this.#currentData = this.#flattenData((0,_utils_ids_deep_clone_utils_ids_deep_clone_utils__WEBPACK_IMPORTED_MODULE_0__.deepClone)(value));\n    this.#originalData = value;\n    this.#total = this.#currentData?.length || 0;\n  }\n  /**\n   * Return the currently used data in its current state\n   * @returns {Array | null} The attached array of data in its current state\n   */\n  get data() {\n    if (this.pageSize && this.pageSize < this.total) {\n      return this.paginate(this.pageNumber, this.pageSize);\n    }\n    return this.#currentData;\n  }\n  get currentData() {\n    return this.#unFlattenData(this.#currentData);\n  }\n  /* Provides ability to set the current data */\n  set currentData(value) {\n    this.#currentData = value;\n  }\n  /* Provides ability to get the original data */\n  get originalData() {\n    return this.#originalData;\n  }\n  /* If true a flattened data model is used */\n  get flatten() {\n    return this.#flatten;\n  }\n  /* If true a flattened data model is used */\n  set flatten(value) {\n    this.#flatten = value;\n  }\n  /* If true data is currently filtered */\n  get filtered() {\n    return this.#filtered;\n  }\n  /* Set filtered value */\n  set filtered(value) {\n    this.#filtered = value;\n  }\n  /**\n   * Flatten tree data internally\n   * @param {Record<string, unknown>} data The data array\n   * @returns {Record<string, unknown>} The flattened data\n   */\n  #flattenData(data) {\n    if (!this.#flatten)\n      return data;\n    const newData = [];\n    const addRows = (subData, length, depth, parentElement) => {\n      subData.map((row, index) => {\n        row.ariaLevel = depth;\n        row.ariaSetSize = length;\n        row.ariaPosinset = index + 1;\n        if (depth === 1) {\n          row.originalElement = index;\n          if (this.pageNumber > 1) {\n            row.originalElement = index + (this.pageNumber - 1) * this.pageSize;\n          }\n        }\n        if (depth > 1)\n          row.parentElement = parentElement;\n        newData.push(row);\n        if (row.children) {\n          if (this.pageNumber > 1) {\n            index += (this.pageNumber - 1) * this.pageSize;\n          }\n          addRows(row.children, row.children.length, depth + 1, `${row.parentElement ? `${row.parentElement} ` : \"\"}${row.id}`);\n        }\n      });\n    };\n    addRows(data, data.length, 1, \"\");\n    return newData;\n  }\n  /**\n   * Flatten tree data internally\n   * @param {Record<string, unknown>} data The data array\n   * @returns {Record<string, unknown>} The flattened data\n   */\n  #unFlattenData(data) {\n    if (!this.#flatten)\n      return data;\n    const newData = data.filter((row) => {\n      delete row.ariaSetSize;\n      delete row.ariaPosinset;\n      const level = row.ariaLevel;\n      delete row.ariaLevel;\n      return level === 1;\n    });\n    return newData;\n  }\n  /**\n   * Get the total number of items in data\n   * @returns {number} - the current page-total\n   */\n  get total() {\n    return this.#total;\n  }\n  /**\n   * Override the total number of items in data\n   * @param {number} value - the new page-total\n   */\n  set total(value) {\n    this.#total = value;\n  }\n  /**\n   * Set the current page-number\n   * @param {number} value - new the page-number\n   */\n  set pageNumber(value) {\n    this.#pageNumber = value;\n  }\n  /**\n   * Get the curret page-number\n   * @returns {number} - the current page-number\n   */\n  get pageNumber() {\n    return this.#pageNumber;\n  }\n  /**\n   * Set the current page-size\n   * @param {number} value - new the page-size\n   */\n  set pageSize(value) {\n    this.#pageSize = value;\n  }\n  /**\n   * Get the current page-size\n   * @returns {number} - the current page-size\n   */\n  get pageSize() {\n    return this.#pageSize;\n  }\n  /**\n   * Prevent running more than once with pagination\n   * @private\n   */\n  #prevState = { pageNumber: -1, pageSize: -1, data: null };\n  /**\n   * Reset previous state\n   * @private\n   * @returns {void}\n   */\n  #resetPrevState() {\n    this.#prevState = { pageNumber: -1, pageSize: -1, data: null };\n  }\n  /**\n   * Ckeck previous state\n   * @private\n   * @param {number|string} num Page number\n   * @param {number|string} size Page size\n   * @returns {boolean} True, if previous state\n   */\n  #isPrevState(num, size) {\n    const { pageNumber, pageSize } = this.#prevState;\n    return pageNumber === Number(num) && pageSize === Number(size);\n  }\n  /**\n   * @param {number} pageNumber - a page number to start with\n   * @param {number} pageSize - number of items to return\n   * @returns {Array} the paginated data\n   */\n  paginate(pageNumber = 1, pageSize = 10) {\n    if (this.#isPrevState(pageNumber, pageSize))\n      return this.#prevState.data;\n    this.#prevState.pageNumber = Number(pageNumber);\n    this.#prevState.pageSize = Number(pageSize);\n    pageNumber = Math.max(pageNumber || 1, 1);\n    pageSize = pageSize || 1;\n    const last = pageNumber * pageSize;\n    const start = last - pageSize;\n    let data;\n    if (this.flatten) {\n      const unFlattenData = this.#unFlattenData((0,_utils_ids_deep_clone_utils_ids_deep_clone_utils__WEBPACK_IMPORTED_MODULE_0__.deepClone)(this.#currentData));\n      data = this.#flattenData(unFlattenData.slice(start, start + pageSize));\n    } else {\n      data = this.#currentData.slice(start, start + pageSize);\n    }\n    this.#prevState.data = data;\n    return data;\n  }\n  /**\n   * Executes a provided function once for each array element in the current data\n   * @param {Function} fn An optional function to iterate the array\n   */\n  forEach(fn) {\n    this.#currentData.forEach(fn);\n  }\n  /**\n   * Sort the dataset\n   * @param {string} field The dataset field\n   * @param {boolean} reverse Sort ascending or descending\n   */\n  sort(field, reverse) {\n    const sort = this.sortFunction(field, reverse);\n    this.#resetPrevState();\n    if (this.flatten) {\n      const unFlattenData = this.#unFlattenData(this.#currentData);\n      unFlattenData.sort(sort);\n      this.#currentData = this.#flattenData(unFlattenData);\n      return;\n    }\n    this.#currentData.sort(sort);\n    this.#originalData.sort(sort);\n  }\n  /**\n   * An overridable array sort function\n   * @param {string} field The dataset field\n   * @param {any} ascending Sort ascending or descending\n   * @returns {object} The sorted dataset\n   */\n  sortFunction(field, ascending) {\n    const primer = (a) => {\n      a = a === void 0 || a === null ? \"\" : a;\n      if (typeof a === \"string\") {\n        a = a.toUpperCase();\n        const numeric = Number(a);\n        if (a !== \"\" && !Number.isNaN(numeric) && Number.isFinite(numeric)) {\n          a = numeric;\n        }\n      }\n      return a;\n    };\n    const key = (x) => primer(x[field]);\n    ascending = !ascending ? -1 : 1;\n    return (a, b) => {\n      a = key(a);\n      b = key(b);\n      if (typeof a === \"number\" && typeof b === \"string\" && b !== \"\")\n        return ascending * -1;\n      if (typeof a === \"string\" && typeof b === \"number\" && a !== \"\")\n        return ascending;\n      if (a === \"\")\n        return b === \"\" ? 0 : 1;\n      if (b === \"\")\n        return a === \"\" ? 0 : -1;\n      if (typeof a !== typeof b) {\n        a = a.toString().toLowerCase();\n        b = b.toString().toLowerCase();\n      }\n      return ascending * (Number(a > b) - Number(b > a));\n    };\n  }\n  /**\n   * Filter current data with given callback\n   * will reset filter data, if given callback not found\n   * @param {Function} filterFunction User filter function\n   * @returns {void}\n   */\n  filter(filterFunction) {\n    const updateCurrentData = (data) => {\n      this.#currentData = this.flatten ? this.#flattenData(data) : data;\n      this.total = this.#currentData.length;\n      this.pageNumber = 1;\n    };\n    const resetCurrentData = () => {\n      updateCurrentData(this.#currentFilterData);\n      this.#currentFilterData = null;\n      this.#resetPrevState();\n      this.filtered = false;\n    };\n    if (typeof filterFunction === \"function\") {\n      const useData = this.flatten ? this.#unFlattenData(this.#currentData) : this.#currentData;\n      this.#currentFilterData = this.#currentFilterData || useData;\n      this.#currentFilterData.forEach((row, index) => {\n        row.isFilteredOut = filterFunction(row, index);\n      });\n      if (this.#currentFilterData.some((row) => row.isFilteredOut)) {\n        const data = this.#currentFilterData.filter((row) => {\n          const r = !row.isFilteredOut;\n          delete row.isFilteredOut;\n          return r;\n        });\n        updateCurrentData(data);\n        this.#resetPrevState();\n        this.filtered = true;\n      } else {\n        resetCurrentData();\n      }\n    } else if (this.#currentFilterData) {\n      resetCurrentData();\n    }\n  }\n}\nvar ids_data_source_default = IdsDataSource;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29yZS9pZHMtZGF0YS1zb3VyY2UudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBMEI7QUFpQjFCLE1BQU0sY0FBYztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLbEIsZ0JBQTRDLENBQUM7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTTdDLGVBQTJDLENBQUM7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTTVDLHFCQUEwQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNMUIsY0FBYztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNZDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxXQUFXO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1YLFlBQVk7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTVosSUFBSSxVQUFVO0FBQ1osUUFBSSxLQUFLLG9CQUFvQjtBQUMzQixhQUFPLEtBQUssVUFDUixLQUFLLGFBQWEsS0FBSyxrQkFBa0IsSUFDekMsS0FBSztBQUFBLElBQ1g7QUFDQSxXQUFPLEtBQUs7QUFBQSxFQUNkO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLElBQUksS0FBSyxPQUFPO0FBQ2QsU0FBSyxlQUFlLEtBQUssYUFBYSwyRkFBUyxDQUFDLEtBQUssQ0FBQztBQUN0RCxTQUFLLGdCQUFnQjtBQUNyQixTQUFLLFNBQVMsS0FBSyxjQUFjLFVBQVU7QUFBQSxFQUM3QztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxJQUFJLE9BQW1DO0FBQ3JDLFFBQUksS0FBSyxZQUFZLEtBQUssV0FBVyxLQUFLLE9BQU87QUFDL0MsYUFBTyxLQUFLLFNBQVMsS0FBSyxZQUFZLEtBQUssUUFBUTtBQUFBLElBQ3JEO0FBRUEsV0FBTyxLQUFLO0FBQUEsRUFDZDtBQUFBLEVBRUEsSUFBSSxjQUFjO0FBQ2hCLFdBQU8sS0FBSyxlQUFlLEtBQUssWUFBWTtBQUFBLEVBQzlDO0FBQUE7QUFBQSxFQUdBLElBQUksWUFBWSxPQUFtQztBQUNqRCxTQUFLLGVBQWU7QUFBQSxFQUN0QjtBQUFBO0FBQUEsRUFHQSxJQUFJLGVBQWU7QUFDakIsV0FBTyxLQUFLO0FBQUEsRUFDZDtBQUFBO0FBQUEsRUFHQSxJQUFJLFVBQVU7QUFDWixXQUFPLEtBQUs7QUFBQSxFQUNkO0FBQUE7QUFBQSxFQUdBLElBQUksUUFBUSxPQUFnQjtBQUMxQixTQUFLLFdBQVc7QUFBQSxFQUNsQjtBQUFBO0FBQUEsRUFHQSxJQUFJLFdBQVc7QUFDYixXQUFPLEtBQUs7QUFBQSxFQUNkO0FBQUE7QUFBQSxFQUdBLElBQUksU0FBUyxPQUFnQjtBQUMzQixTQUFLLFlBQVk7QUFBQSxFQUNuQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU9BLGFBQWEsTUFBa0M7QUFDN0MsUUFBSSxDQUFDLEtBQUs7QUFBVSxhQUFPO0FBRTNCLFVBQU0sVUFBc0MsQ0FBQztBQUM3QyxVQUFNLFVBQVUsQ0FBQyxTQUE4QixRQUFnQixPQUFlLGtCQUEwQjtBQUN0RyxjQUFRLElBQUksQ0FBQyxLQUEwQixVQUFrQjtBQUN2RCxZQUFJLFlBQVk7QUFDaEIsWUFBSSxjQUFjO0FBQ2xCLFlBQUksZUFBZSxRQUFRO0FBRTNCLFlBQUksVUFBVSxHQUFHO0FBQ2YsY0FBSSxrQkFBa0I7QUFDdEIsY0FBSSxLQUFLLGFBQWEsR0FBRztBQUN2QixnQkFBSSxrQkFBa0IsU0FBVSxLQUFLLGFBQWEsS0FBSyxLQUFLO0FBQUEsVUFDOUQ7QUFBQSxRQUNGO0FBQ0EsWUFBSSxRQUFRO0FBQUcsY0FBSSxnQkFBZ0I7QUFDbkMsZ0JBQVEsS0FBSyxHQUFHO0FBRWhCLFlBQUksSUFBSSxVQUFVO0FBQ2hCLGNBQUksS0FBSyxhQUFhLEdBQUc7QUFDdkIsc0JBQVcsS0FBSyxhQUFhLEtBQUssS0FBSztBQUFBLFVBQ3pDO0FBQ0Esa0JBQVEsSUFBSSxVQUFVLElBQUksU0FBUyxRQUFRLFFBQVEsR0FBRyxHQUFHLElBQUksZ0JBQWdCLEdBQUcsSUFBSSxtQkFBbUIsS0FBSyxJQUFJLElBQUk7QUFBQSxRQUN0SDtBQUFBLE1BQ0YsQ0FBQztBQUFBLElBQ0g7QUFFQSxZQUFRLE1BQU0sS0FBSyxRQUFRLEdBQUcsRUFBRTtBQUNoQyxXQUFPO0FBQUEsRUFDVDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU9BLGVBQWUsTUFBMkI7QUFDeEMsUUFBSSxDQUFDLEtBQUs7QUFBVSxhQUFPO0FBRTNCLFVBQU0sVUFBVSxLQUFLLE9BQU8sQ0FBQyxRQUE2QjtBQUN4RCxhQUFPLElBQUk7QUFDWCxhQUFPLElBQUk7QUFDWCxZQUFNLFFBQVEsSUFBSTtBQUNsQixhQUFPLElBQUk7QUFDWCxhQUFPLFVBQVU7QUFBQSxJQUNuQixDQUFDO0FBRUQsV0FBTztBQUFBLEVBQ1Q7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsSUFBSSxRQUFRO0FBQUUsV0FBTyxLQUFLO0FBQUEsRUFBUTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNbEMsSUFBSSxNQUFNLE9BQU87QUFBRSxTQUFLLFNBQVM7QUFBQSxFQUFPO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU14QyxJQUFJLFdBQVcsT0FBTztBQUFFLFNBQUssY0FBYztBQUFBLEVBQU87QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTWxELElBQUksYUFBYTtBQUFFLFdBQU8sS0FBSztBQUFBLEVBQWE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTTVDLElBQUksU0FBUyxPQUFPO0FBQUUsU0FBSyxZQUFZO0FBQUEsRUFBTztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNOUMsSUFBSSxXQUFXO0FBQUUsV0FBTyxLQUFLO0FBQUEsRUFBVztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNeEMsYUFBa0IsRUFBRSxZQUFZLElBQUksVUFBVSxJQUFJLE1BQU0sS0FBSztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU83RCxrQkFBd0I7QUFDdEIsU0FBSyxhQUFhLEVBQUUsWUFBWSxJQUFJLFVBQVUsSUFBSSxNQUFNLEtBQUs7QUFBQSxFQUMvRDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFTQSxhQUFhLEtBQXNCLE1BQWdDO0FBQ2pFLFVBQU0sRUFBRSxZQUFZLFNBQVMsSUFBSSxLQUFLO0FBQ3RDLFdBQU8sZUFBZSxPQUFPLEdBQUcsS0FBSyxhQUFhLE9BQU8sSUFBSTtBQUFBLEVBQy9EO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT0EsU0FBUyxhQUFhLEdBQUcsV0FBVyxJQUFJO0FBQ3RDLFFBQUksS0FBSyxhQUFhLFlBQVksUUFBUTtBQUFHLGFBQU8sS0FBSyxXQUFXO0FBQ3BFLFNBQUssV0FBVyxhQUFhLE9BQU8sVUFBVTtBQUM5QyxTQUFLLFdBQVcsV0FBVyxPQUFPLFFBQVE7QUFFMUMsaUJBQWEsS0FBSyxJQUFJLGNBQWMsR0FBRyxDQUFDO0FBQ3hDLGVBQVcsWUFBWTtBQUV2QixVQUFNLE9BQU8sYUFBYTtBQUMxQixVQUFNLFFBQVEsT0FBTztBQUNyQixRQUFJO0FBRUosUUFBSSxLQUFLLFNBQVM7QUFDaEIsWUFBTSxnQkFBZ0IsS0FBSyxlQUFlLDJGQUFTLENBQUMsS0FBSyxZQUFZLENBQUM7QUFDdEUsYUFBTyxLQUFLLGFBQWEsY0FBYyxNQUFNLE9BQU8sUUFBUSxRQUFRLENBQUM7QUFBQSxJQUN2RSxPQUFPO0FBQ0wsYUFBTyxLQUFLLGFBQWEsTUFBTSxPQUFPLFFBQVEsUUFBUTtBQUFBLElBQ3hEO0FBQ0EsU0FBSyxXQUFXLE9BQU87QUFFdkIsV0FBTztBQUFBLEVBQ1Q7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsUUFBUSxJQUFTO0FBQ2YsU0FBSyxhQUFhLFFBQVEsRUFBRTtBQUFBLEVBQzlCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT0EsS0FBSyxPQUFlLFNBQWtCO0FBQ3BDLFVBQU0sT0FBTyxLQUFLLGFBQWEsT0FBTyxPQUFPO0FBQzdDLFNBQUssZ0JBQWdCO0FBQ3JCLFFBQUksS0FBSyxTQUFTO0FBQ2hCLFlBQU0sZ0JBQWdCLEtBQUssZUFBZSxLQUFLLFlBQVk7QUFDM0Qsb0JBQWMsS0FBSyxJQUFJO0FBQ3ZCLFdBQUssZUFBZSxLQUFLLGFBQWEsYUFBYTtBQUNuRDtBQUFBLElBQ0Y7QUFDQSxTQUFLLGFBQWEsS0FBSyxJQUFJO0FBQzNCLFNBQUssY0FBYyxLQUFLLElBQUk7QUFBQSxFQUM5QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBUUEsYUFBYSxPQUFlLFdBQWdCO0FBQzFDLFVBQU0sU0FBUyxDQUFDLE1BQVc7QUFDekIsVUFBSyxNQUFNLFVBQWEsTUFBTSxPQUFPLEtBQUs7QUFDMUMsVUFBSSxPQUFPLE1BQU0sVUFBVTtBQUN6QixZQUFJLEVBQUUsWUFBWTtBQUdsQixjQUFNLFVBQVUsT0FBTyxDQUFDO0FBQ3hCLFlBQUksTUFBTSxNQUFNLENBQUMsT0FBTyxNQUFNLE9BQU8sS0FBSyxPQUFPLFNBQVMsT0FBTyxHQUFHO0FBQ2xFLGNBQUk7QUFBQSxRQUNOO0FBQUEsTUFDRjtBQUNBLGFBQU87QUFBQSxJQUNUO0FBRUEsVUFBTSxNQUFNLENBQUMsTUFBVyxPQUFPLEVBQUUsS0FBSyxDQUFDO0FBQ3ZDLGdCQUFZLENBQUMsWUFBWSxLQUFLO0FBRTlCLFdBQU8sQ0FBQyxHQUFRLE1BQVc7QUFDekIsVUFBSSxJQUFJLENBQUM7QUFDVCxVQUFJLElBQUksQ0FBQztBQUtULFVBQUksT0FBTyxNQUFNLFlBQVksT0FBTyxNQUFNLFlBQVksTUFBTTtBQUFJLGVBQU8sWUFBWTtBQUNuRixVQUFJLE9BQU8sTUFBTSxZQUFZLE9BQU8sTUFBTSxZQUFZLE1BQU07QUFBSSxlQUFPO0FBR3ZFLFVBQUksTUFBTTtBQUFJLGVBQU8sTUFBTSxLQUFLLElBQUk7QUFHcEMsVUFBSSxNQUFNO0FBQUksZUFBTyxNQUFNLEtBQUssSUFBSTtBQUVwQyxVQUFJLE9BQU8sTUFBTSxPQUFPLEdBQUc7QUFDekIsWUFBSSxFQUFFLFNBQVMsRUFBRSxZQUFZO0FBQzdCLFlBQUksRUFBRSxTQUFTLEVBQUUsWUFBWTtBQUFBLE1BQy9CO0FBRUEsYUFBTyxhQUFhLE9BQU8sSUFBSSxDQUFDLElBQUksT0FBTyxJQUFJLENBQUM7QUFBQSxJQUNsRDtBQUFBLEVBQ0Y7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQVFBLE9BQU8sZ0JBQXFCO0FBRTFCLFVBQU0sb0JBQW9CLENBQUMsU0FBYztBQUN2QyxXQUFLLGVBQWUsS0FBSyxVQUFVLEtBQUssYUFBYSxJQUFJLElBQUk7QUFDN0QsV0FBSyxRQUFRLEtBQUssYUFBYTtBQUMvQixXQUFLLGFBQWE7QUFBQSxJQUNwQjtBQUdBLFVBQU0sbUJBQW1CLE1BQU07QUFDN0Isd0JBQWtCLEtBQUssa0JBQWtCO0FBQ3pDLFdBQUsscUJBQXFCO0FBQzFCLFdBQUssZ0JBQWdCO0FBQ3JCLFdBQUssV0FBVztBQUFBLElBQ2xCO0FBR0EsUUFBSSxPQUFPLG1CQUFtQixZQUFZO0FBQ3hDLFlBQU0sVUFBVSxLQUFLLFVBQVUsS0FBSyxlQUFlLEtBQUssWUFBWSxJQUFJLEtBQUs7QUFDN0UsV0FBSyxxQkFBcUIsS0FBSyxzQkFBc0I7QUFHckQsV0FBSyxtQkFBbUIsUUFBUSxDQUFDLEtBQVUsVUFBa0I7QUFDM0QsWUFBSSxnQkFBZ0IsZUFBZSxLQUFLLEtBQUs7QUFBQSxNQUMvQyxDQUFDO0FBSUQsVUFBSSxLQUFLLG1CQUFtQixLQUFLLENBQUMsUUFBYSxJQUFJLGFBQWEsR0FBRztBQUNqRSxjQUFNLE9BQU8sS0FBSyxtQkFBbUIsT0FBTyxDQUFDLFFBQWE7QUFDeEQsZ0JBQU0sSUFBSSxDQUFDLElBQUk7QUFDZixpQkFBTyxJQUFJO0FBQ1gsaUJBQU87QUFBQSxRQUNULENBQUM7QUFDRCwwQkFBa0IsSUFBSTtBQUN0QixhQUFLLGdCQUFnQjtBQUNyQixhQUFLLFdBQVc7QUFBQSxNQUNsQixPQUFPO0FBQ0wseUJBQWlCO0FBQUEsTUFDbkI7QUFBQSxJQUNGLFdBQVcsS0FBSyxvQkFBb0I7QUFDbEMsdUJBQWlCO0FBQUEsSUFDbkI7QUFBQSxFQUNGO0FBQ0Y7QUFFQSxJQUFPLDBCQUFRIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaWRzLWVudGVycHJpc2Utd2MvLi9zcmMvY29yZS9pZHMtZGF0YS1zb3VyY2UudHM/YzE5OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkZWVwQ2xvbmUgfSBmcm9tICcuLi91dGlscy9pZHMtZGVlcC1jbG9uZS11dGlscy9pZHMtZGVlcC1jbG9uZS11dGlscyc7XG5cbi8qKlxuICogSGFuZGxlIEF0dGFjaGluZyBBcnJheSAvIE9iamVjdCBEYXRhIHRvIENvbXBvbmVudHNcbiAqIEZlYXR1cmVzIChub3cgYW5kIGZ1dHVyZSk6XG4gKiAgLSBkYXRhXG4gKiAgLSBzb3J0XG4gKiAgLSBmaWx0ZXJcbiAqICAtIHJlYWQvbWFwL2xvb3BcbiAqICAtIHByaW1hcnlLZXlcbiAqICAtIHJldHJpZXZhbFxuICogIC0gQ1JVRFxuICogIC0gcGFnaW5nIChwYWdlU2l6ZSwgc2VydmVyU2lkZSwgY2FjaGUpXG4gKiAgLSBhZ2dyZWdhdGVzIC8gZ3JvdXAgYnlcbiAqICAtIGV2ZW50cyAocmVxdWVzdFN0YXJ0LCByZXF1ZXN0RW5kLCBjaGFuZ2UsIGVycm9yKVxuICogIC0gc3luYyAoc3luYyBiYWNrIG9yaWdpbmFsIGFycmF5KVxuICovXG5jbGFzcyBJZHNEYXRhU291cmNlIHtcbiAgLyoqXG4gICAqIEhvbGRzIGEgcmVmZXJlbmNlIHRvIHRoZSBvcmlnaW5hbCBkYXRhXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICAjb3JpZ2luYWxEYXRhOiBBcnJheTxSZWNvcmQ8c3RyaW5nLCBhbnk+PiA9IFtdO1xuXG4gIC8qKlxuICAgKiBIb2xkcyB0aGUgZGF0YSBpbiBpdHMgY3VycmVudCBzdGF0ZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgI2N1cnJlbnREYXRhOiBBcnJheTxSZWNvcmQ8c3RyaW5nLCBhbnk+PiA9IFtdO1xuXG4gIC8qKlxuICAgKiBIb2xkcyB0aGUgY3VycmVudCBkYXRhIHRvIHVzZSB3aXRoIGZpbHRlclxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgI2N1cnJlbnRGaWx0ZXJEYXRhOiBhbnkgPSBudWxsO1xuXG4gIC8qKlxuICAgKiBQYWdlLW51bWJlciB1c2VkIGZvciBwYWdpbmF0aW9uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICAjcGFnZU51bWJlciA9IDE7XG5cbiAgLyoqXG4gICAqIFBhZ2Utc2l6ZSB1c2VkIGZvciBwYWdpbmF0aW9uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICAjcGFnZVNpemU6IGFueTtcblxuICAvKipcbiAgICogQW4gb3ZlcnJpZGUgZm9yIHRoZSB0b3RhbCBudW1iZXIgb2YgaXRlbXMgaW4gZGF0YVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgI3RvdGFsOiBhbnk7XG5cbiAgLyoqXG4gICAqIElmIHRydWUgdXNlIGEgZmxhdHRlbmVkIGRhdGEgcmVwcmVzZW50YXRpb25cbiAgICogQHByaXZhdGVcbiAgICovXG4gICNmbGF0dGVuID0gZmFsc2U7XG5cbiAgLyoqXG4gICAqIElmIHRydWUgdXNlIGEgZmlsdGVyZWQgZGF0YSByZXByZXNlbnRhdGlvblxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgI2ZpbHRlcmVkID0gZmFsc2U7XG5cbiAgLyoqXG4gICAqIFJldHVybiBhbGwgdGhlIGN1cnJlbnRseSB1c2VkIGRhdGEsIHdpdGhvdXQgcGFnaW5nIG9yIGZpbHRlclxuICAgKiBAcmV0dXJucyB7QXJyYXkgfCBudWxsfSBBbGwgdGhlIGN1cnJlbnRseSB1c2VkIGRhdGFcbiAgICovXG4gIGdldCBhbGxEYXRhKCkge1xuICAgIGlmICh0aGlzLiNjdXJyZW50RmlsdGVyRGF0YSkge1xuICAgICAgcmV0dXJuIHRoaXMuZmxhdHRlblxuICAgICAgICA/IHRoaXMuI2ZsYXR0ZW5EYXRhKHRoaXMuI2N1cnJlbnRGaWx0ZXJEYXRhKVxuICAgICAgICA6IHRoaXMuI2N1cnJlbnRGaWx0ZXJEYXRhO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy4jY3VycmVudERhdGE7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgZGF0YSBhcnJheSBvbiB0aGUgZGF0YSBzb3VyY2Ugb2JqZWN0XG4gICAqIEBwYXJhbSB7QXJyYXkgfCBudWxsfSB2YWx1ZSBUaGUgYXJyYXkgdG8gYXR0YWNoXG4gICAqL1xuICBzZXQgZGF0YSh2YWx1ZSkge1xuICAgIHRoaXMuI2N1cnJlbnREYXRhID0gdGhpcy4jZmxhdHRlbkRhdGEoZGVlcENsb25lKHZhbHVlKSk7XG4gICAgdGhpcy4jb3JpZ2luYWxEYXRhID0gdmFsdWU7XG4gICAgdGhpcy4jdG90YWwgPSB0aGlzLiNjdXJyZW50RGF0YT8ubGVuZ3RoIHx8IDA7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBjdXJyZW50bHkgdXNlZCBkYXRhIGluIGl0cyBjdXJyZW50IHN0YXRlXG4gICAqIEByZXR1cm5zIHtBcnJheSB8IG51bGx9IFRoZSBhdHRhY2hlZCBhcnJheSBvZiBkYXRhIGluIGl0cyBjdXJyZW50IHN0YXRlXG4gICAqL1xuICBnZXQgZGF0YSgpOiBBcnJheTxSZWNvcmQ8c3RyaW5nLCBhbnk+PiB7XG4gICAgaWYgKHRoaXMucGFnZVNpemUgJiYgdGhpcy5wYWdlU2l6ZSA8IHRoaXMudG90YWwpIHtcbiAgICAgIHJldHVybiB0aGlzLnBhZ2luYXRlKHRoaXMucGFnZU51bWJlciwgdGhpcy5wYWdlU2l6ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuI2N1cnJlbnREYXRhO1xuICB9XG5cbiAgZ2V0IGN1cnJlbnREYXRhKCkge1xuICAgIHJldHVybiB0aGlzLiN1bkZsYXR0ZW5EYXRhKHRoaXMuI2N1cnJlbnREYXRhKTtcbiAgfVxuXG4gIC8qIFByb3ZpZGVzIGFiaWxpdHkgdG8gc2V0IHRoZSBjdXJyZW50IGRhdGEgKi9cbiAgc2V0IGN1cnJlbnREYXRhKHZhbHVlOiBBcnJheTxSZWNvcmQ8c3RyaW5nLCBhbnk+Pikge1xuICAgIHRoaXMuI2N1cnJlbnREYXRhID0gdmFsdWU7XG4gIH1cblxuICAvKiBQcm92aWRlcyBhYmlsaXR5IHRvIGdldCB0aGUgb3JpZ2luYWwgZGF0YSAqL1xuICBnZXQgb3JpZ2luYWxEYXRhKCkge1xuICAgIHJldHVybiB0aGlzLiNvcmlnaW5hbERhdGE7XG4gIH1cblxuICAvKiBJZiB0cnVlIGEgZmxhdHRlbmVkIGRhdGEgbW9kZWwgaXMgdXNlZCAqL1xuICBnZXQgZmxhdHRlbigpIHtcbiAgICByZXR1cm4gdGhpcy4jZmxhdHRlbjtcbiAgfVxuXG4gIC8qIElmIHRydWUgYSBmbGF0dGVuZWQgZGF0YSBtb2RlbCBpcyB1c2VkICovXG4gIHNldCBmbGF0dGVuKHZhbHVlOiBib29sZWFuKSB7XG4gICAgdGhpcy4jZmxhdHRlbiA9IHZhbHVlO1xuICB9XG5cbiAgLyogSWYgdHJ1ZSBkYXRhIGlzIGN1cnJlbnRseSBmaWx0ZXJlZCAqL1xuICBnZXQgZmlsdGVyZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuI2ZpbHRlcmVkO1xuICB9XG5cbiAgLyogU2V0IGZpbHRlcmVkIHZhbHVlICovXG4gIHNldCBmaWx0ZXJlZCh2YWx1ZTogYm9vbGVhbikge1xuICAgIHRoaXMuI2ZpbHRlcmVkID0gdmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogRmxhdHRlbiB0cmVlIGRhdGEgaW50ZXJuYWxseVxuICAgKiBAcGFyYW0ge1JlY29yZDxzdHJpbmcsIHVua25vd24+fSBkYXRhIFRoZSBkYXRhIGFycmF5XG4gICAqIEByZXR1cm5zIHtSZWNvcmQ8c3RyaW5nLCB1bmtub3duPn0gVGhlIGZsYXR0ZW5lZCBkYXRhXG4gICAqL1xuICAjZmxhdHRlbkRhdGEoZGF0YTogQXJyYXk8UmVjb3JkPHN0cmluZywgYW55Pj4pIHtcbiAgICBpZiAoIXRoaXMuI2ZsYXR0ZW4pIHJldHVybiBkYXRhO1xuXG4gICAgY29uc3QgbmV3RGF0YTogQXJyYXk8UmVjb3JkPHN0cmluZywgYW55Pj4gPSBbXTtcbiAgICBjb25zdCBhZGRSb3dzID0gKHN1YkRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4sIGxlbmd0aDogbnVtYmVyLCBkZXB0aDogbnVtYmVyLCBwYXJlbnRFbGVtZW50OiBzdHJpbmcpID0+IHtcbiAgICAgIHN1YkRhdGEubWFwKChyb3c6IFJlY29yZDxzdHJpbmcsIGFueT4sIGluZGV4OiBudW1iZXIpID0+IHtcbiAgICAgICAgcm93LmFyaWFMZXZlbCA9IGRlcHRoO1xuICAgICAgICByb3cuYXJpYVNldFNpemUgPSBsZW5ndGg7XG4gICAgICAgIHJvdy5hcmlhUG9zaW5zZXQgPSBpbmRleCArIDE7XG5cbiAgICAgICAgaWYgKGRlcHRoID09PSAxKSB7XG4gICAgICAgICAgcm93Lm9yaWdpbmFsRWxlbWVudCA9IGluZGV4O1xuICAgICAgICAgIGlmICh0aGlzLnBhZ2VOdW1iZXIgPiAxKSB7XG4gICAgICAgICAgICByb3cub3JpZ2luYWxFbGVtZW50ID0gaW5kZXggKyAoKHRoaXMucGFnZU51bWJlciAtIDEpICogdGhpcy5wYWdlU2l6ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChkZXB0aCA+IDEpIHJvdy5wYXJlbnRFbGVtZW50ID0gcGFyZW50RWxlbWVudDtcbiAgICAgICAgbmV3RGF0YS5wdXNoKHJvdyk7XG5cbiAgICAgICAgaWYgKHJvdy5jaGlsZHJlbikge1xuICAgICAgICAgIGlmICh0aGlzLnBhZ2VOdW1iZXIgPiAxKSB7XG4gICAgICAgICAgICBpbmRleCArPSAoKHRoaXMucGFnZU51bWJlciAtIDEpICogdGhpcy5wYWdlU2l6ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGFkZFJvd3Mocm93LmNoaWxkcmVuLCByb3cuY2hpbGRyZW4ubGVuZ3RoLCBkZXB0aCArIDEsIGAke3Jvdy5wYXJlbnRFbGVtZW50ID8gYCR7cm93LnBhcmVudEVsZW1lbnR9IGAgOiAnJ30ke3Jvdy5pZH1gKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGFkZFJvd3MoZGF0YSwgZGF0YS5sZW5ndGgsIDEsICcnKTtcbiAgICByZXR1cm4gbmV3RGF0YTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGbGF0dGVuIHRyZWUgZGF0YSBpbnRlcm5hbGx5XG4gICAqIEBwYXJhbSB7UmVjb3JkPHN0cmluZywgdW5rbm93bj59IGRhdGEgVGhlIGRhdGEgYXJyYXlcbiAgICogQHJldHVybnMge1JlY29yZDxzdHJpbmcsIHVua25vd24+fSBUaGUgZmxhdHRlbmVkIGRhdGFcbiAgICovXG4gICN1bkZsYXR0ZW5EYXRhKGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4pIHtcbiAgICBpZiAoIXRoaXMuI2ZsYXR0ZW4pIHJldHVybiBkYXRhO1xuXG4gICAgY29uc3QgbmV3RGF0YSA9IGRhdGEuZmlsdGVyKChyb3c6IFJlY29yZDxzdHJpbmcsIGFueT4pID0+IHtcbiAgICAgIGRlbGV0ZSByb3cuYXJpYVNldFNpemU7XG4gICAgICBkZWxldGUgcm93LmFyaWFQb3NpbnNldDtcbiAgICAgIGNvbnN0IGxldmVsID0gcm93LmFyaWFMZXZlbDtcbiAgICAgIGRlbGV0ZSByb3cuYXJpYUxldmVsO1xuICAgICAgcmV0dXJuIGxldmVsID09PSAxO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIG5ld0RhdGE7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSB0b3RhbCBudW1iZXIgb2YgaXRlbXMgaW4gZGF0YVxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSAtIHRoZSBjdXJyZW50IHBhZ2UtdG90YWxcbiAgICovXG4gIGdldCB0b3RhbCgpIHsgcmV0dXJuIHRoaXMuI3RvdGFsOyB9XG5cbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSB0b3RhbCBudW1iZXIgb2YgaXRlbXMgaW4gZGF0YVxuICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgLSB0aGUgbmV3IHBhZ2UtdG90YWxcbiAgICovXG4gIHNldCB0b3RhbCh2YWx1ZSkgeyB0aGlzLiN0b3RhbCA9IHZhbHVlOyB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgY3VycmVudCBwYWdlLW51bWJlclxuICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgLSBuZXcgdGhlIHBhZ2UtbnVtYmVyXG4gICAqL1xuICBzZXQgcGFnZU51bWJlcih2YWx1ZSkgeyB0aGlzLiNwYWdlTnVtYmVyID0gdmFsdWU7IH1cblxuICAvKipcbiAgICogR2V0IHRoZSBjdXJyZXQgcGFnZS1udW1iZXJcbiAgICogQHJldHVybnMge251bWJlcn0gLSB0aGUgY3VycmVudCBwYWdlLW51bWJlclxuICAgKi9cbiAgZ2V0IHBhZ2VOdW1iZXIoKSB7IHJldHVybiB0aGlzLiNwYWdlTnVtYmVyOyB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgY3VycmVudCBwYWdlLXNpemVcbiAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIC0gbmV3IHRoZSBwYWdlLXNpemVcbiAgICovXG4gIHNldCBwYWdlU2l6ZSh2YWx1ZSkgeyB0aGlzLiNwYWdlU2l6ZSA9IHZhbHVlOyB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY3VycmVudCBwYWdlLXNpemVcbiAgICogQHJldHVybnMge251bWJlcn0gLSB0aGUgY3VycmVudCBwYWdlLXNpemVcbiAgICovXG4gIGdldCBwYWdlU2l6ZSgpIHsgcmV0dXJuIHRoaXMuI3BhZ2VTaXplOyB9XG5cbiAgLyoqXG4gICAqIFByZXZlbnQgcnVubmluZyBtb3JlIHRoYW4gb25jZSB3aXRoIHBhZ2luYXRpb25cbiAgICogQHByaXZhdGVcbiAgICovXG4gICNwcmV2U3RhdGU6IGFueSA9IHsgcGFnZU51bWJlcjogLTEsIHBhZ2VTaXplOiAtMSwgZGF0YTogbnVsbCB9O1xuXG4gIC8qKlxuICAgKiBSZXNldCBwcmV2aW91cyBzdGF0ZVxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG4gICNyZXNldFByZXZTdGF0ZSgpOiB2b2lkIHtcbiAgICB0aGlzLiNwcmV2U3RhdGUgPSB7IHBhZ2VOdW1iZXI6IC0xLCBwYWdlU2l6ZTogLTEsIGRhdGE6IG51bGwgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDa2VjayBwcmV2aW91cyBzdGF0ZVxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge251bWJlcnxzdHJpbmd9IG51bSBQYWdlIG51bWJlclxuICAgKiBAcGFyYW0ge251bWJlcnxzdHJpbmd9IHNpemUgUGFnZSBzaXplXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlLCBpZiBwcmV2aW91cyBzdGF0ZVxuICAgKi9cbiAgI2lzUHJldlN0YXRlKG51bTogbnVtYmVyIHwgc3RyaW5nLCBzaXplOiBudW1iZXIgfCBzdHJpbmcpOiBib29sZWFuIHtcbiAgICBjb25zdCB7IHBhZ2VOdW1iZXIsIHBhZ2VTaXplIH0gPSB0aGlzLiNwcmV2U3RhdGU7XG4gICAgcmV0dXJuIHBhZ2VOdW1iZXIgPT09IE51bWJlcihudW0pICYmIHBhZ2VTaXplID09PSBOdW1iZXIoc2l6ZSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHBhZ2VOdW1iZXIgLSBhIHBhZ2UgbnVtYmVyIHRvIHN0YXJ0IHdpdGhcbiAgICogQHBhcmFtIHtudW1iZXJ9IHBhZ2VTaXplIC0gbnVtYmVyIG9mIGl0ZW1zIHRvIHJldHVyblxuICAgKiBAcmV0dXJucyB7QXJyYXl9IHRoZSBwYWdpbmF0ZWQgZGF0YVxuICAgKi9cbiAgcGFnaW5hdGUocGFnZU51bWJlciA9IDEsIHBhZ2VTaXplID0gMTApIHtcbiAgICBpZiAodGhpcy4jaXNQcmV2U3RhdGUocGFnZU51bWJlciwgcGFnZVNpemUpKSByZXR1cm4gdGhpcy4jcHJldlN0YXRlLmRhdGE7XG4gICAgdGhpcy4jcHJldlN0YXRlLnBhZ2VOdW1iZXIgPSBOdW1iZXIocGFnZU51bWJlcik7XG4gICAgdGhpcy4jcHJldlN0YXRlLnBhZ2VTaXplID0gTnVtYmVyKHBhZ2VTaXplKTtcblxuICAgIHBhZ2VOdW1iZXIgPSBNYXRoLm1heChwYWdlTnVtYmVyIHx8IDEsIDEpO1xuICAgIHBhZ2VTaXplID0gcGFnZVNpemUgfHwgMTtcblxuICAgIGNvbnN0IGxhc3QgPSBwYWdlTnVtYmVyICogcGFnZVNpemU7XG4gICAgY29uc3Qgc3RhcnQgPSBsYXN0IC0gcGFnZVNpemU7XG4gICAgbGV0IGRhdGE7XG5cbiAgICBpZiAodGhpcy5mbGF0dGVuKSB7XG4gICAgICBjb25zdCB1bkZsYXR0ZW5EYXRhID0gdGhpcy4jdW5GbGF0dGVuRGF0YShkZWVwQ2xvbmUodGhpcy4jY3VycmVudERhdGEpKTtcbiAgICAgIGRhdGEgPSB0aGlzLiNmbGF0dGVuRGF0YSh1bkZsYXR0ZW5EYXRhLnNsaWNlKHN0YXJ0LCBzdGFydCArIHBhZ2VTaXplKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRhdGEgPSB0aGlzLiNjdXJyZW50RGF0YS5zbGljZShzdGFydCwgc3RhcnQgKyBwYWdlU2l6ZSk7XG4gICAgfVxuICAgIHRoaXMuI3ByZXZTdGF0ZS5kYXRhID0gZGF0YTtcblxuICAgIHJldHVybiBkYXRhO1xuICB9XG5cbiAgLyoqXG4gICAqIEV4ZWN1dGVzIGEgcHJvdmlkZWQgZnVuY3Rpb24gb25jZSBmb3IgZWFjaCBhcnJheSBlbGVtZW50IGluIHRoZSBjdXJyZW50IGRhdGFcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gQW4gb3B0aW9uYWwgZnVuY3Rpb24gdG8gaXRlcmF0ZSB0aGUgYXJyYXlcbiAgICovXG4gIGZvckVhY2goZm46IGFueSkge1xuICAgIHRoaXMuI2N1cnJlbnREYXRhLmZvckVhY2goZm4pO1xuICB9XG5cbiAgLyoqXG4gICAqIFNvcnQgdGhlIGRhdGFzZXRcbiAgICogQHBhcmFtIHtzdHJpbmd9IGZpZWxkIFRoZSBkYXRhc2V0IGZpZWxkXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gcmV2ZXJzZSBTb3J0IGFzY2VuZGluZyBvciBkZXNjZW5kaW5nXG4gICAqL1xuICBzb3J0KGZpZWxkOiBzdHJpbmcsIHJldmVyc2U6IGJvb2xlYW4pIHtcbiAgICBjb25zdCBzb3J0ID0gdGhpcy5zb3J0RnVuY3Rpb24oZmllbGQsIHJldmVyc2UpO1xuICAgIHRoaXMuI3Jlc2V0UHJldlN0YXRlKCk7XG4gICAgaWYgKHRoaXMuZmxhdHRlbikge1xuICAgICAgY29uc3QgdW5GbGF0dGVuRGF0YSA9IHRoaXMuI3VuRmxhdHRlbkRhdGEodGhpcy4jY3VycmVudERhdGEpO1xuICAgICAgdW5GbGF0dGVuRGF0YS5zb3J0KHNvcnQpO1xuICAgICAgdGhpcy4jY3VycmVudERhdGEgPSB0aGlzLiNmbGF0dGVuRGF0YSh1bkZsYXR0ZW5EYXRhKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy4jY3VycmVudERhdGEuc29ydChzb3J0KTtcbiAgICB0aGlzLiNvcmlnaW5hbERhdGEuc29ydChzb3J0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBbiBvdmVycmlkYWJsZSBhcnJheSBzb3J0IGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmaWVsZCBUaGUgZGF0YXNldCBmaWVsZFxuICAgKiBAcGFyYW0ge2FueX0gYXNjZW5kaW5nIFNvcnQgYXNjZW5kaW5nIG9yIGRlc2NlbmRpbmdcbiAgICogQHJldHVybnMge29iamVjdH0gVGhlIHNvcnRlZCBkYXRhc2V0XG4gICAqL1xuICBzb3J0RnVuY3Rpb24oZmllbGQ6IHN0cmluZywgYXNjZW5kaW5nOiBhbnkpIHtcbiAgICBjb25zdCBwcmltZXIgPSAoYTogYW55KSA9PiB7XG4gICAgICBhID0gKGEgPT09IHVuZGVmaW5lZCB8fCBhID09PSBudWxsID8gJycgOiBhKTtcbiAgICAgIGlmICh0eXBlb2YgYSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgYSA9IGEudG9VcHBlckNhc2UoKTtcblxuICAgICAgICAvLyBDb252ZXJ0IG51bWJlci1vbmx5IHN0cmluZ3MgdG8gcmVhbCBudW1iZXJzIGJlZm9yZSBhY3R1YWwgc29ydCBvY2N1cnNcbiAgICAgICAgY29uc3QgbnVtZXJpYyA9IE51bWJlcihhKTtcbiAgICAgICAgaWYgKGEgIT09ICcnICYmICFOdW1iZXIuaXNOYU4obnVtZXJpYykgJiYgTnVtYmVyLmlzRmluaXRlKG51bWVyaWMpKSB7XG4gICAgICAgICAgYSA9IG51bWVyaWM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBhO1xuICAgIH07XG5cbiAgICBjb25zdCBrZXkgPSAoeDogYW55KSA9PiBwcmltZXIoeFtmaWVsZF0pO1xuICAgIGFzY2VuZGluZyA9ICFhc2NlbmRpbmcgPyAtMSA6IDE7XG5cbiAgICByZXR1cm4gKGE6IGFueSwgYjogYW55KSA9PiB7XG4gICAgICBhID0ga2V5KGEpO1xuICAgICAgYiA9IGtleShiKTtcblxuICAgICAgLy8gSW1pdGF0ZSBob3cgRXhjZWwgc29ydHMgd2hlbiBjb21wYXJpbmcgbnVtYmVycyB3aXRoIHN0cmluZ3MgKG51bWJlcnMgYXJlIGFsd2F5cyBsZXNzIHRoYW4gc3RyaW5ncylcbiAgICAgIC8vIFRoZSBmb2xsb3dpbmcgc3RyaW5nIHZhbHVlcyB3aWxsIHNvcnQgaW4gdGhpcyBvcmRlciAoYXNjZW5kaW5nKTpcbiAgICAgIC8vIDEsIDIsIDA3LCAxMSwgMWEsIDIyYSwgMmFiLCBhLCBCLCBjXG4gICAgICBpZiAodHlwZW9mIGEgPT09ICdudW1iZXInICYmIHR5cGVvZiBiID09PSAnc3RyaW5nJyAmJiBiICE9PSAnJykgcmV0dXJuIGFzY2VuZGluZyAqIC0xO1xuICAgICAgaWYgKHR5cGVvZiBhID09PSAnc3RyaW5nJyAmJiB0eXBlb2YgYiA9PT0gJ251bWJlcicgJiYgYSAhPT0gJycpIHJldHVybiBhc2NlbmRpbmc7XG5cbiAgICAgIC8vIGFuIGVtcHR5IGEgYWx3YXlzIHJldHVybnMgMSAob3IgMCBpZiBlcXVhbCB3aXRoIGIpXG4gICAgICBpZiAoYSA9PT0gJycpIHJldHVybiBiID09PSAnJyA/IDAgOiAxO1xuXG4gICAgICAvLyBhbiBlbXB0eSBiIGFsd2F5cyByZXR1cm5zIC0xIChvciAwIGlmIGVxdWFsIHdpdGggYSlcbiAgICAgIGlmIChiID09PSAnJykgcmV0dXJuIGEgPT09ICcnID8gMCA6IC0xO1xuXG4gICAgICBpZiAodHlwZW9mIGEgIT09IHR5cGVvZiBiKSB7XG4gICAgICAgIGEgPSBhLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgYiA9IGIudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYXNjZW5kaW5nICogKE51bWJlcihhID4gYikgLSBOdW1iZXIoYiA+IGEpKTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEZpbHRlciBjdXJyZW50IGRhdGEgd2l0aCBnaXZlbiBjYWxsYmFja1xuICAgKiB3aWxsIHJlc2V0IGZpbHRlciBkYXRhLCBpZiBnaXZlbiBjYWxsYmFjayBub3QgZm91bmRcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZmlsdGVyRnVuY3Rpb24gVXNlciBmaWx0ZXIgZnVuY3Rpb25cbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuICBmaWx0ZXIoZmlsdGVyRnVuY3Rpb246IGFueSkge1xuICAgIC8vIFVwZGF0ZWQgdGhlIGN1cnJlbnQgZGF0YVxuICAgIGNvbnN0IHVwZGF0ZUN1cnJlbnREYXRhID0gKGRhdGE6IGFueSkgPT4ge1xuICAgICAgdGhpcy4jY3VycmVudERhdGEgPSB0aGlzLmZsYXR0ZW4gPyB0aGlzLiNmbGF0dGVuRGF0YShkYXRhKSA6IGRhdGE7XG4gICAgICB0aGlzLnRvdGFsID0gdGhpcy4jY3VycmVudERhdGEubGVuZ3RoO1xuICAgICAgdGhpcy5wYWdlTnVtYmVyID0gMTtcbiAgICB9O1xuXG4gICAgLy8gUmVzZXQgdGhlIGN1cnJlbnQgZGF0YVxuICAgIGNvbnN0IHJlc2V0Q3VycmVudERhdGEgPSAoKSA9PiB7XG4gICAgICB1cGRhdGVDdXJyZW50RGF0YSh0aGlzLiNjdXJyZW50RmlsdGVyRGF0YSk7XG4gICAgICB0aGlzLiNjdXJyZW50RmlsdGVyRGF0YSA9IG51bGw7XG4gICAgICB0aGlzLiNyZXNldFByZXZTdGF0ZSgpO1xuICAgICAgdGhpcy5maWx0ZXJlZCA9IGZhbHNlO1xuICAgIH07XG5cbiAgICAvLyBDaGVjayBpZiBuZWVkIHRvIGZpbHRlciBvciByZXNldFxuICAgIGlmICh0eXBlb2YgZmlsdGVyRnVuY3Rpb24gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNvbnN0IHVzZURhdGEgPSB0aGlzLmZsYXR0ZW4gPyB0aGlzLiN1bkZsYXR0ZW5EYXRhKHRoaXMuI2N1cnJlbnREYXRhKSA6IHRoaXMuI2N1cnJlbnREYXRhO1xuICAgICAgdGhpcy4jY3VycmVudEZpbHRlckRhdGEgPSB0aGlzLiNjdXJyZW50RmlsdGVyRGF0YSB8fCB1c2VEYXRhO1xuXG4gICAgICAvLyBSdW4gdGhydSB0aGUgZmlsdGVyIHByb2Nlc3NcbiAgICAgIHRoaXMuI2N1cnJlbnRGaWx0ZXJEYXRhLmZvckVhY2goKHJvdzogYW55LCBpbmRleDogbnVtYmVyKSA9PiB7XG4gICAgICAgIHJvdy5pc0ZpbHRlcmVkT3V0ID0gZmlsdGVyRnVuY3Rpb24ocm93LCBpbmRleCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gR2V0IGRhdGEgZWl0aGVyIGZpbHRlcmVkIG9yIG5vdFxuICAgICAgLy8gaWYgZmlsdGVyZWQgdGhlbiB1cGRhdGUgdGhlIGN1cnJlbnQgZGF0YSwgZWxzZSByZXNldCBpdFxuICAgICAgaWYgKHRoaXMuI2N1cnJlbnRGaWx0ZXJEYXRhLnNvbWUoKHJvdzogYW55KSA9PiByb3cuaXNGaWx0ZXJlZE91dCkpIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuI2N1cnJlbnRGaWx0ZXJEYXRhLmZpbHRlcigocm93OiBhbnkpID0+IHtcbiAgICAgICAgICBjb25zdCByID0gIXJvdy5pc0ZpbHRlcmVkT3V0O1xuICAgICAgICAgIGRlbGV0ZSByb3cuaXNGaWx0ZXJlZE91dDtcbiAgICAgICAgICByZXR1cm4gcjtcbiAgICAgICAgfSk7XG4gICAgICAgIHVwZGF0ZUN1cnJlbnREYXRhKGRhdGEpO1xuICAgICAgICB0aGlzLiNyZXNldFByZXZTdGF0ZSgpO1xuICAgICAgICB0aGlzLmZpbHRlcmVkID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc2V0Q3VycmVudERhdGEoKTsgLy8gcmVzZXQsIGlmIG5vbmUgb2YgZmlsdGVyZWQgcm93IGZvdW5kXG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0aGlzLiNjdXJyZW50RmlsdGVyRGF0YSkge1xuICAgICAgcmVzZXRDdXJyZW50RGF0YSgpOyAvLyByZXNldCwgaWYgY2FsbGJhY2sgbm90IGZvdW5kXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IElkc0RhdGFTb3VyY2U7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/core/ids-data-source.ts\n");

/***/ }),

/***/ "./src/utils/ids-deep-clone-utils/ids-deep-clone-utils.ts":
/*!****************************************************************!*\
  !*** ./src/utils/ids-deep-clone-utils/ids-deep-clone-utils.ts ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"deepClone\": () => (/* binding */ deepClone),\n/* harmony export */   \"deepCloneArray\": () => (/* binding */ deepCloneArray)\n/* harmony export */ });\nconst refs = [];\nconst refsNew = [];\nfunction deepCloneArray(arr, fn) {\n  const keys = Object.keys(arr);\n  const arrClone = new Array(keys.length);\n  for (let i = 0; i < keys.length; i += 1) {\n    const k = keys[i];\n    const cur = arr[k];\n    if (typeof cur !== \"object\" || cur === null) {\n      arrClone[k] = cur;\n    } else if (cur instanceof Date) {\n      arrClone[k] = new Date(cur);\n    } else {\n      const index = refs.indexOf(cur);\n      if (index !== -1) {\n        arrClone[k] = refsNew[index];\n      } else {\n        arrClone[k] = fn.call(this, cur);\n      }\n    }\n  }\n  return arrClone;\n}\nfunction deepClone(obj) {\n  if (typeof obj !== \"object\" || obj === null) {\n    return obj;\n  }\n  if (obj instanceof Date) {\n    return new Date(obj);\n  }\n  if (Array.isArray(obj)) {\n    return deepCloneArray(obj, deepClone);\n  }\n  const objClone = {};\n  refs.push(obj);\n  refsNew.push(objClone);\n  for (const k in obj) {\n    if (Object.hasOwnProperty.call(obj, k) === false) {\n      continue;\n    }\n    const cur = obj[k];\n    if (typeof cur !== \"object\" || cur === null) {\n      objClone[k] = cur;\n    } else if (cur instanceof Date) {\n      objClone[k] = new Date(cur);\n    } else {\n      const i = refs.indexOf(cur);\n      if (i !== -1) {\n        objClone[k] = refsNew[i];\n      } else {\n        objClone[k] = deepClone(cur);\n      }\n    }\n  }\n  refs.pop();\n  refsNew.pop();\n  return objClone;\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbHMvaWRzLWRlZXAtY2xvbmUtdXRpbHMvaWRzLWRlZXAtY2xvbmUtdXRpbHMudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFDQSxNQUFNLE9BQW1CLENBQUM7QUFDMUIsTUFBTSxVQUFzQixDQUFDO0FBU3RCLFNBQVMsZUFBMEIsS0FBVSxJQUFVO0FBQzVELFFBQU0sT0FBTyxPQUFPLEtBQUssR0FBRztBQUM1QixRQUFNLFdBQVcsSUFBSSxNQUFNLEtBQUssTUFBTTtBQUV0QyxXQUFTLElBQUksR0FBRyxJQUFJLEtBQUssUUFBUSxLQUFLLEdBQUc7QUFDdkMsVUFBTSxJQUFTLEtBQUssQ0FBQztBQUNyQixVQUFNLE1BQU0sSUFBSSxDQUFDO0FBRWpCLFFBQUksT0FBTyxRQUFRLFlBQVksUUFBUSxNQUFNO0FBQzNDLGVBQVMsQ0FBQyxJQUFJO0FBQUEsSUFDaEIsV0FBVyxlQUFlLE1BQU07QUFDOUIsZUFBUyxDQUFDLElBQUksSUFBSSxLQUFLLEdBQUc7QUFBQSxJQUM1QixPQUFPO0FBQ0wsWUFBTSxRQUFRLEtBQUssUUFBUSxHQUFHO0FBQzlCLFVBQUksVUFBVSxJQUFJO0FBQ2hCLGlCQUFTLENBQUMsSUFBSSxRQUFRLEtBQUs7QUFBQSxNQUM3QixPQUFPO0FBQ0wsaUJBQVMsQ0FBQyxJQUFJLEdBQUcsS0FBSyxNQUFNLEdBQUc7QUFBQSxNQUNqQztBQUFBLElBQ0Y7QUFBQSxFQUNGO0FBQ0EsU0FBTztBQUNUO0FBT08sU0FBUyxVQUFVLEtBQVU7QUFDbEMsTUFBSSxPQUFPLFFBQVEsWUFBWSxRQUFRLE1BQU07QUFDM0MsV0FBTztBQUFBLEVBQ1Q7QUFFQSxNQUFJLGVBQWUsTUFBTTtBQUN2QixXQUFPLElBQUksS0FBSyxHQUFHO0FBQUEsRUFDckI7QUFFQSxNQUFJLE1BQU0sUUFBUSxHQUFHLEdBQUc7QUFDdEIsV0FBTyxlQUFlLEtBQUssU0FBUztBQUFBLEVBQ3RDO0FBRUEsUUFBTSxXQUFnQixDQUFDO0FBQ3ZCLE9BQUssS0FBSyxHQUFHO0FBQ2IsVUFBUSxLQUFLLFFBQVE7QUFFckIsYUFBVyxLQUFLLEtBQUs7QUFDbkIsUUFBSSxPQUFPLGVBQWUsS0FBSyxLQUFLLENBQUMsTUFBTSxPQUFPO0FBQ2hEO0FBQUEsSUFDRjtBQUVBLFVBQU0sTUFBTSxJQUFJLENBQUM7QUFDakIsUUFBSSxPQUFPLFFBQVEsWUFBWSxRQUFRLE1BQU07QUFDM0MsZUFBUyxDQUFDLElBQUk7QUFBQSxJQUNoQixXQUFXLGVBQWUsTUFBTTtBQUM5QixlQUFTLENBQUMsSUFBSSxJQUFJLEtBQUssR0FBRztBQUFBLElBQzVCLE9BQU87QUFDTCxZQUFNLElBQUksS0FBSyxRQUFRLEdBQUc7QUFDMUIsVUFBSSxNQUFNLElBQUk7QUFDWixpQkFBUyxDQUFDLElBQUksUUFBUSxDQUFDO0FBQUEsTUFDekIsT0FBTztBQUNMLGlCQUFTLENBQUMsSUFBSSxVQUFVLEdBQUc7QUFBQSxNQUM3QjtBQUFBLElBQ0Y7QUFBQSxFQUNGO0FBQ0EsT0FBSyxJQUFJO0FBQ1QsVUFBUSxJQUFJO0FBQ1osU0FBTztBQUNUIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaWRzLWVudGVycHJpc2Utd2MvLi9zcmMvdXRpbHMvaWRzLWRlZXAtY2xvbmUtdXRpbHMvaWRzLWRlZXAtY2xvbmUtdXRpbHMudHM/YjlhZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBTdG9yZSB0aGUgcmVmZXJlbmNlcyB0byBhdm9pZCBjaXJjdWxhciByZWZlcmVuY2UgcHJvYmxlbXNcbmNvbnN0IHJlZnM6IEFycmF5PGFueT4gPSBbXTtcbmNvbnN0IHJlZnNOZXc6IEFycmF5PGFueT4gPSBbXTtcblxuLyoqXG4gKiBEZWVwIGNsb25lIGFuIGFycmF5IGNyZWF0aW5nIGEgbmV3IGFycmF5XG4gKiBAcGFyYW0ge2FueX0gdGhpcyBUaGUgYXJyYXkgdG8gY2xvbmVcbiAqIEBwYXJhbSB7QXJyYXl9IGFyciBUaGUgYXJyYXkgdG8gY2xvbmVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBmdW5jdGlvbmFsIGNhbGwgYmFjayB1c2VkIGZvciByZWN1cnNpb25cbiAqIEByZXR1cm5zIHtBcnJheX0gVGhlIGFycmF5J3MgY2xvbmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZXBDbG9uZUFycmF5KHRoaXM6IGFueSwgYXJyOiBhbnksIGZuPzogYW55KSB7XG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhhcnIpO1xuICBjb25zdCBhcnJDbG9uZSA9IG5ldyBBcnJheShrZXlzLmxlbmd0aCk7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgY29uc3QgazogYW55ID0ga2V5c1tpXTtcbiAgICBjb25zdCBjdXIgPSBhcnJba107XG5cbiAgICBpZiAodHlwZW9mIGN1ciAhPT0gJ29iamVjdCcgfHwgY3VyID09PSBudWxsKSB7XG4gICAgICBhcnJDbG9uZVtrXSA9IGN1cjtcbiAgICB9IGVsc2UgaWYgKGN1ciBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgIGFyckNsb25lW2tdID0gbmV3IERhdGUoY3VyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgaW5kZXggPSByZWZzLmluZGV4T2YoY3VyKTtcbiAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgYXJyQ2xvbmVba10gPSByZWZzTmV3W2luZGV4XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFyckNsb25lW2tdID0gZm4uY2FsbCh0aGlzLCBjdXIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gYXJyQ2xvbmU7XG59XG5cbi8qKlxuICogRGVlcCBjbG9uZSBhbiBvYmplY3QgY3JlYXRpbmcgYSBuZXcgb2JqZWN0XG4gKiBAcGFyYW0ge29iamVjdHxBcnJheX0gb2JqIFRoZSBvYmplY3Qgb3IgYXJyYXkgdG8gY2xvbmVcbiAqIEByZXR1cm5zIHtvYmplY3R8QXJyYXl9IFRoZSBvYmplY3QvYXJyYXkncyBjbG9uZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVlcENsb25lKG9iajogYW55KSB7XG4gIGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0JyB8fCBvYmogPT09IG51bGwpIHtcbiAgICByZXR1cm4gb2JqO1xuICB9XG5cbiAgaWYgKG9iaiBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICByZXR1cm4gbmV3IERhdGUob2JqKTtcbiAgfVxuXG4gIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICByZXR1cm4gZGVlcENsb25lQXJyYXkob2JqLCBkZWVwQ2xvbmUpO1xuICB9XG5cbiAgY29uc3Qgb2JqQ2xvbmU6IGFueSA9IHt9O1xuICByZWZzLnB1c2gob2JqKTtcbiAgcmVmc05ldy5wdXNoKG9iakNsb25lKTtcblxuICBmb3IgKGNvbnN0IGsgaW4gb2JqKSB7XG4gICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgaykgPT09IGZhbHNlKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBjb25zdCBjdXIgPSBvYmpba107XG4gICAgaWYgKHR5cGVvZiBjdXIgIT09ICdvYmplY3QnIHx8IGN1ciA9PT0gbnVsbCkge1xuICAgICAgb2JqQ2xvbmVba10gPSBjdXI7XG4gICAgfSBlbHNlIGlmIChjdXIgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICBvYmpDbG9uZVtrXSA9IG5ldyBEYXRlKGN1cik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGkgPSByZWZzLmluZGV4T2YoY3VyKTtcbiAgICAgIGlmIChpICE9PSAtMSkge1xuICAgICAgICBvYmpDbG9uZVtrXSA9IHJlZnNOZXdbaV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvYmpDbG9uZVtrXSA9IGRlZXBDbG9uZShjdXIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZWZzLnBvcCgpO1xuICByZWZzTmV3LnBvcCgpO1xuICByZXR1cm4gb2JqQ2xvbmU7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/utils/ids-deep-clone-utils/ids-deep-clone-utils.ts\n");

/***/ })

}]);